{
  "number": 87,
  "title": "OutputPath vs OutDir",
  "body": "I'm pulling my hair out trying to get Visual Studio and MSBuild to agree on where build output should be stored, using any combination of `OutputPath` and `OutDir` that I could come up with.\n\nEdit: turns out that there is a third property that controls the build output: `WebProjectOutputDir`.\n\nI realize that this is not a help forum. I briefly considered asking a question about it on StackOverflow, but [72 others have done so before me](http://stackoverflow.com/search?q=%5Bmsbuild%5D+outputpath+outdir), leaving empty-handed most of the time.\n\nThere is a huge number of scenarios that require relocating the build output, but there is no reliable way to do that. For example: IIS Express stops working when you change the `OutputPath` of a web application project (could you believe it?).\n\nSomeone even got mad enough over `OutputPath` and `OutDir` to write a blog post about it: [I hate you, OutDir parameter](http://www.pseale.com/blog/IHateYouOutDirParameter.aspx)\n\nPlease explain how `OutputPath` and `OutDir` were intended to be used, in the context of continuous integration builds.\n",
  "state": "CLOSED",
  "createdAt": "2015-05-04T14:04:25Z",
  "updatedAt": "2024-02-21T17:31:36Z",
  "closedAt": "2015-05-26T22:28:37Z",
  "author": {
    "login": "sliekens"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "Team triage: We also agree that this is unfortunate, but we need to be conservative on this because of legacy issues. This is not something we plan to address at this time.\n",
        "createdAt": "2015-05-12T22:54:57Z",
        "updatedAt": "2015-05-12T22:54:57Z",
        "author": {
          "login": "AndyGerlicher"
        }
      },
      {
        "body": "To expand on what @AndyGerlicher said, we can't do what you're asking because we too have lost the reasoning behind this decision.  The current team thinks it looks pretty broken.\n\nFrom comments in the targets\n\n```\nOutDir and OutputPath are distinguished for legacy reasons, and OutDir should be used if at all possible.\n```\n\nIt seems like we got stuck in the middle of a transition.  However, as you've discovered, there's a ton of MSBuild code out there that exploits the differences between the two variables.  That keeps us from completing the transition (or for that matter backing it out), because it would cause a lot of churn in customer projects.\n",
        "createdAt": "2015-05-13T00:27:15Z",
        "updatedAt": "2015-05-13T00:27:15Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "Thanks for taking time to look at this. I really appreciate it.\n\nThe way that seems to work best is to keep the `OutputPath` that is generated by Visual Studio, then set the `OutDir` as a command argument.\n",
        "createdAt": "2015-05-13T07:15:17Z",
        "updatedAt": "2015-05-13T07:15:17Z",
        "author": {
          "login": "sliekens"
        }
      },
      {
        "body": "I found that for Asp.Net Core only OutputPath parameter is working, and in mixed .net 4.61/Core solutions OutDir  command argument should be avoided. See my post [OutDir vs OutputPath for Visual studio 2015 and Asp.Net Core](https://mfreidge.wordpress.com/2017/01/22/outdir-vs-outputpath-for-visual-studio-2015-and-asp-net-core/)",
        "createdAt": "2017-01-22T12:01:45Z",
        "updatedAt": "2017-01-22T12:01:45Z",
        "author": {
          "login": "michael-freidgeim-webjet"
        }
      },
      {
        "body": "> OutDir and OutputPath are distinguished for legacy reasons, and OutDir should be used if at all possible.\r\n\r\n@rainersigwald Sorry, I didn't really get it. Which one should I use (new project, no legacy dependencies).",
        "createdAt": "2017-03-17T11:01:28Z",
        "updatedAt": "2017-03-17T11:01:28Z",
        "author": {
          "login": "JunielKatarn"
        }
      },
      {
        "body": "`<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>` Worked for me",
        "createdAt": "2017-10-16T16:39:53Z",
        "updatedAt": "2017-10-16T16:40:13Z",
        "author": {
          "login": "arivoir"
        }
      }
    ]
  }
}