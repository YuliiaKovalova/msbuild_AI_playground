{
  "number": 1342,
  "title": "Help shows Core-unsupported switch `/validate`",
  "body": "```\r\n$ msbuild /h\r\n\r\nMicrosoft (R) Build Engine version 14.1.0.0\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nSyntax:              MSBuild.exe [options] [project file]\r\n\r\nDescription:         Builds the specified targets in the project file. If\r\n                     a project file is not specified, MSBuild searches the\r\n                     current working directory for a file that has a file\r\n                     extension that ends in \"proj\" and uses that file.\r\n\r\nSwitches:\r\n\r\n  /target:<targets>  Build these targets in this project. Use a semicolon or a\r\n                     comma to separate multiple targets, or specify each\r\n                     target separately. (Short form: /t)\r\n                     Example:\r\n                       /target:Resources;Compile\r\n\r\n  /property:<n>=<v>  Set or override these project-level properties. <n> is\r\n                     the property name, and <v> is the property value. Use a\r\n                     semicolon or a comma to separate multiple properties, or\r\n                     specify each property separately. (Short form: /p)\r\n                     Example:\r\n                       /property:WarningLevel=2;OutDir=bin\\Debug\\\r\n\r\n  /maxcpucount[:n]   Specifies the maximum number of concurrent processes to \r\n                     build with. If the switch is not used, the default\r\n                     value used is 1. If the switch is used without a value\r\n                     MSBuild will use up to the number of processors on the \r\n                     computer. (Short form: /m[:n])\r\n      \r\n  /toolsversion:<version>\r\n                     The version of the MSBuild Toolset (tasks, targets, etc.)\r\n                     to use during build. This version will override the \r\n                     versions specified by individual projects. (Short form: \r\n                     /tv)\r\n                     Example:\r\n                       /toolsversion:3.5\r\n   \r\n  /verbosity:<level> Display this amount of information in the event log.\r\n                     The available verbosity levels are: q[uiet], m[inimal],\r\n                     n[ormal], d[etailed], and diag[nostic]. (Short form: /v)\r\n                     Example:\r\n                       /verbosity:quiet\r\n\r\n  /consoleloggerparameters:<parameters>\r\n                     Parameters to console logger. (Short form: /clp)\r\n                     The available parameters are:\r\n                        PerformanceSummary--Show time spent in tasks, targets\r\n                            and projects.\r\n                        Summary--Show error and warning summary at the end.\r\n                        NoSummary--Don't show error and warning summary at the\r\n                            end.\r\n                        ErrorsOnly--Show only errors.\r\n                        WarningsOnly--Show only warnings.\r\n                        NoItemAndPropertyList--Don't show list of items and\r\n                            properties at the start of each project build.    \r\n                        ShowCommandLine--Show TaskCommandLineEvent messages  \r\n                        ShowTimestamp--Display the Timestamp as a prefix to any\r\n                            message.                                           \r\n                        ShowEventId--Show eventId for started events, finished \r\n                            events, and messages\r\n                        ForceNoAlign--Does not align the text to the size of\r\n                            the console buffer\r\n                        DisableConsoleColor--Use the default console colors\r\n                            for all logging messages.\r\n                        DisableMPLogging-- Disable the multiprocessor\r\n                            logging style of output when running in \r\n                            non-multiprocessor mode.\r\n                        EnableMPLogging--Enable the multiprocessor logging\r\n                            style even when running in non-multiprocessor\r\n                            mode. This logging style is on by default. \r\n                        Verbosity--overrides the /verbosity setting for this\r\n                            logger.\r\n                     Example:\r\n                        /consoleloggerparameters:PerformanceSummary;NoSummary;\r\n                                                 Verbosity=minimal\r\n\r\n  /noconsolelogger   Disable the default console logger and do not log events\r\n                     to the console. (Short form: /noconlog)\r\n\r\n  /fileLogger[n]     Logs the build output to a file. By default\r\n                     the file is in the current directory and named \r\n                     \"msbuild[n].log\". Events from all nodes are combined into\r\n                     a single log. The location of the file and other\r\n                     parameters for the fileLogger can be specified through \r\n                     the addition of the \"/fileLoggerParameters[n]\" switch.\r\n                     \"n\" if present can be a digit from 1-9, allowing up to \r\n                     10 file loggers to be attached. (Short form: /fl[n])\r\n    \r\n  /fileloggerparameters[n]:<parameters>                                \r\n                     Provides any extra parameters for file loggers.\r\n                     The presence of this switch implies the \r\n                     corresponding /filelogger[n] switch.\r\n                     \"n\" if present can be a digit from 1-9.\r\n                     /fileloggerparameters is also used by any distributed\r\n                     file logger, see description of /distributedFileLogger.\r\n                     (Short form: /flp[n])\r\n                     The same parameters listed for the console logger are\r\n                     available. Some additional available parameters are:\r\n                        LogFile--path to the log file into which the\r\n                            build log will be written.\r\n                        Append--determines if the build log will be appended\r\n                            to or overwrite the log file. Setting the\r\n                            switch appends the build log to the log file;\r\n                            Not setting the switch overwrites the \r\n                            contents of an existing log file. \r\n                            The default is not to append to the log file.\r\n                        Encoding--specifies the encoding for the file, \r\n                            for example, UTF-8, Unicode, or ASCII\r\n                     Default verbosity is Detailed.\r\n                     Examples:\r\n                       /fileLoggerParameters:LogFile=MyLog.log;Append;\r\n                                           Verbosity=diagnostic;Encoding=UTF-8\r\n\r\n                       /flp:Summary;Verbosity=minimal;LogFile=msbuild.sum \r\n                       /flp1:warningsonly;logfile=msbuild.wrn \r\n                       /flp2:errorsonly;logfile=msbuild.err\r\n    \r\n  /distributedlogger:<central logger>*<forwarding logger>                     \r\n                     Use this logger to log events from MSBuild, attaching a\r\n                     different logger instance to each node. To specify\r\n                     multiple loggers, specify each logger separately. \r\n                     (Short form /dl)\r\n                     The <logger> syntax is:\r\n                       [<logger class>,]<logger assembly>[;<logger parameters>]\r\n                     The <logger class> syntax is:\r\n                       [<partial or full namespace>.]<logger class name>\r\n                     The <logger assembly> syntax is:\r\n                       {<assembly name>[,<strong name>] | <assembly file>}\r\n                     The <logger parameters> are optional, and are passed\r\n                     to the logger exactly as you typed them. (Short form: /l)\r\n                     Examples:\r\n                       /dl:XMLLogger,MyLogger,Version=1.0.2,Culture=neutral\r\n                       /dl:MyLogger,C:\\My.dll*ForwardingLogger,C:\\Logger.dll\r\n\r\n  /distributedFileLogger                                                       \r\n                     Logs the build output to multiple log files, one log file\r\n                     per MSBuild node. The initial location for these files is\r\n                     the current directory. By default the files are called \r\n                     \"MSBuild<nodeid>.log\". The location of the files and\r\n                     other parameters for the fileLogger can be specified \r\n                     with the addition of the \"/fileLoggerParameters\" switch.\r\n\r\n                     If a log file name is set through the fileLoggerParameters\r\n                     switch the distributed logger will use the fileName as a \r\n                     template and append the node id to this fileName to \r\n                     create a log file for each node.\r\n    \r\n  /logger:<logger>   Use this logger to log events from MSBuild. To specify\r\n                     multiple loggers, specify each logger separately.\r\n                     The <logger> syntax is:\r\n                       [<logger class>,]<logger assembly>[;<logger parameters>]\r\n                     The <logger class> syntax is:\r\n                       [<partial or full namespace>.]<logger class name>\r\n                     The <logger assembly> syntax is:\r\n                       {<assembly name>[,<strong name>] | <assembly file>}\r\n                     The <logger parameters> are optional, and are passed\r\n                     to the logger exactly as you typed them. (Short form: /l)\r\n                     Examples:\r\n                       /logger:XMLLogger,MyLogger,Version=1.0.2,Culture=neutral\r\n                       /logger:XMLLogger,C:\\Loggers\\MyLogger.dll;OutputAsHTML\r\n\r\n  /validate          Validate the project against the default schema. (Short\r\n                     form: /val)\r\n\r\n  /validate:<schema> Validate the project against the specified schema. (Short\r\n                     form: /val)\r\n                     Example:\r\n                       /validate:MyExtendedBuildSchema.xsd\r\n\r\n  /ignoreprojectextensions:<extensions>\r\n                     List of extensions to ignore when determining which \r\n                     project file to build. Use a semicolon or a comma \r\n                     to separate multiple extensions.\r\n                     (Short form: /ignore)\r\n                     Example:\r\n                       /ignoreprojectextensions:.sln\r\n    \r\n  /nodeReuse:<parameters>\r\n                     Enables or Disables the reuse of MSBuild nodes.\r\n                     The parameters are:\r\n                     True --Nodes will remain after the build completes\r\n                            and will be reused by subsequent builds (default)\r\n                     False--Nodes will not remain after the build completes\r\n                     (Short form: /nr)\r\n                     Example:\r\n                       /nr:true\r\n    \r\n  /preprocess[:file] \r\n                     Creates a single, aggregated project file by\r\n                     inlining all the files that would be imported during a\r\n                     build, with their boundaries marked. This can be\r\n                     useful for figuring out what files are being imported\r\n                     and from where, and what they will contribute to\r\n                     the build. By default the output is written to\r\n                     the console window. If the path to an output file \r\n                     is provided that will be used instead.\r\n                     (Short form: /pp)\r\n                     Example:\r\n                       /pp:out.txt\r\n    \r\n  /detailedsummary \r\n                     Shows detailed information at the end of the build\r\n                     about the configurations built and how they were\r\n                     scheduled to nodes. \r\n                     (Short form: /ds)\r\n    \r\n  @<file>            Insert command-line settings from a text file. To specify\r\n                     multiple response files, specify each response file\r\n                     separately.\r\n                     \r\n                     Any response files named \"msbuild.rsp\" are automatically \r\n                     consumed from the following locations: \r\n                     (1) the directory of msbuild.exe\r\n                     (2) the directory of the first project or solution built\r\n\r\n  /noautoresponse    Do not auto-include any MSBuild.rsp files. (Short form:\r\n                     /noautorsp)\r\n\r\n  /nologo            Do not display the startup banner and copyright message.\r\n\r\n  /version           Display version information only. (Short form: /ver)\r\n\r\n  /help              Display this usage message. (Short form: /? or /h)\r\n\r\nExamples:\r\n\r\n        MSBuild MyApp.sln /t:Rebuild /p:Configuration=Release\r\n        MSBuild MyApp.csproj /t:Clean \r\n                             /p:Configuration=Debug;TargetFrameworkVersion=v3.5\r\n```\r\n\r\n```\r\n$ msbuild /val\r\nMicrosoft (R) Build Engine version 14.1.0.0\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nMSBUILD : error MSB1001: Unknown switch.\r\nSwitch: /val\r\n\r\nFor switch syntax, type \"MSBuild /help\"\r\n```\r\n\r\n```\r\n$ msbuild /validate\r\nMicrosoft (R) Build Engine version 14.1.0.0\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nMSBUILD : error MSB1001: Unknown switch.\r\nSwitch: /validate\r\n\r\nFor switch syntax, type \"MSBuild /help\"\r\n```",
  "state": "CLOSED",
  "createdAt": "2016-11-12T16:56:15Z",
  "updatedAt": "2024-02-21T17:24:18Z",
  "closedAt": "2016-11-15T23:22:14Z",
  "author": {
    "login": "phrohdoh"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": [
      {
        "login": "jeffkl"
      }
    ]
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "If I remember right those are really old switches and it doesn't surprise me they are rotted. Probably just want to take them out of /? as I'm not sure anyone used them.\n",
        "createdAt": "2016-11-15T17:44:24Z",
        "updatedAt": "2016-11-15T17:44:24Z",
        "author": {
          "login": "danmoseley"
        }
      },
      {
        "body": "Yeah, I didn't even know they existed. I agree that we should remove them from help (at least for .NET Core where they don't work at all, and probably entirely since they don't seem very useful).\n\nThanks for the report.\n",
        "createdAt": "2016-11-15T18:01:30Z",
        "updatedAt": "2016-11-15T18:01:30Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "It fails on MSBuild 14.0 as well (with a different problem):\n\n```\nD:\\Temp\\TestApp\\ConsoleApplication1>msbuild /validate\nMicrosoft (R) Build Engine version 14.0.25420.1\nCopyright (C) Microsoft Corporation. All rights reserved.\n\nMSBUILD : error MSB1026: Schema file 'C:\\Program Files (x86)\\MSBuild\\14.0\\bin\\Microsoft.Build.xsd' does not exist.\n```\n\nIt works if I specify the path to the XSD:\n\n```\nD:\\Temp\\TestApp\\ConsoleApplication1>msbuild /validate:\"C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\MSBuild\\Microsoft.Build.Core.xsd\"\nMicrosoft (R) Build Engine version 14.0.25420.1\nCopyright (C) Microsoft Corporation. All rights reserved.\n\nValidating project using schema file \"C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\MSBuild\\Microsoft.Build.Core.xsd\".\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(5,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'PropertyGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'Configuration' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Property' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(17,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'PropertyGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'PlatformTarget' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Property' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(28,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'PropertyGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'PlatformTarget' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Property' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(37,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'ItemGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'Reference' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Item, Link, ResourceCompile, PreBuildEvent, PostBuildEvent' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(51,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'ItemGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'Compile' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Item, Link, ResourceCompile, PreBuildEvent, PostBuildEvent' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(55,6): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'ItemGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'None' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Item, Link, ResourceCompile, PreBuildEvent, PostBuildEvent' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj(62,8): Schema validation error : MSBUILD : MSB1044: Project is not valid. The element 'ItemGroup' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003' has invalid child element 'ReferenceCopyLocalPaths' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'. List of possible elements expected: 'Item, Link, ResourceCompile, PreBuildEvent, PostBuildEvent' in namespace 'http://schemas.microsoft.com/developer/msbuild/2003'.\nD:\\Temp\\TestApp\\ConsoleApplication1\\ConsoleApplication1.csproj : Schema validation error : MSBUILD : MSB1045: Stopping because of syntax errors in project file.\n```\n",
        "createdAt": "2016-11-15T21:38:25Z",
        "updatedAt": "2016-11-15T21:38:25Z",
        "author": {
          "login": "jeffkl"
        }
      }
    ]
  }
}