{
  "number": 1770,
  "title": "GenerateTargetFrameworkMonikerAttribute is always out of date",
  "body": "_From @davkean on February 27, 2017 9:47_\n\nSaw this in a few builds logs in github.com/dotnet/roslyn-project-system, looks like GenerateTargetFrameworkMonikerAttribute always considers itself out-of-date but won't generate the file to make it up-to-date:\r\n\r\n```\r\nBuilding target \"GenerateTargetFrameworkMonikerAttribute\" completely.\r\nInput file \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\bin\\Microsoft.Common.targets\" is newer than output file \"C:\\Users\\davkean\\AppData\\Local\\Temp\\.NETStandard,Version=v1.0.AssemblyAttributes.cs\".\r\nTask \"WriteLinesToFile\" skipped, due to false condition; ('@(Compile)' != '' and '$(TargetFrameworkMonikerAssemblyAttributeText)' != '') was evaluated as ('' != '' and '\r\n// <autogenerated />\r\nusing System;\r\nusing System.Reflection;\r\n[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(\".NETStandard,Version=v1.0\", FrameworkDisplayName = \"\")]\r\n        ' != '').\r\nDone building target \"GenerateTargetFrameworkMonikerAttribute\" in project \"Composition.csproj\".: (TargetId:1223)\r\n```\r\n\r\n\n\n_Copied from original issue: dotnet/sdk#919_",
  "state": "CLOSED",
  "createdAt": "2017-03-01T03:50:51Z",
  "updatedAt": "2024-02-21T17:21:21Z",
  "closedAt": "2021-04-12T14:25:33Z",
  "author": {
    "login": "davkean"
  },
  "labels": [
    "Area: Performance",
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": {
    "title": "MSBuild 16.10"
  },
  "comments": {
    "nodes": [
      {
        "body": "_From @rainersigwald on February 27, 2017 15:51_\n\nIs your `@(Compile)` really empty? That seems unusual.",
        "createdAt": "2017-03-01T03:50:52Z",
        "updatedAt": "2017-03-01T03:50:52Z",
        "author": {
          "login": "davkean"
        }
      },
      {
        "body": "In this case, yes it is empty - that explains it. Perhaps GenerateTargetFrameworkMonikerAttribute should even be run in this case?",
        "createdAt": "2017-03-01T03:50:52Z",
        "updatedAt": "2017-03-01T03:50:52Z",
        "author": {
          "login": "davkean"
        }
      },
      {
        "body": "_From @nguerrera on March 1, 2017 3:49_\n\nThis isn't specific to SDK, right? Common targets would do this for any empty @(Compile) if I've understood correctly. I'm not sure it's worth optimizing for that case, but if you think it is, you should probably move this to the msbuild repo. ",
        "createdAt": "2017-03-01T03:50:53Z",
        "updatedAt": "2017-03-01T03:50:53Z",
        "author": {
          "login": "davkean"
        }
      },
      {
        "body": "Yeah, thought there was something specific about .NET Standard - I didn't realize we were hitting this because of the empty Compile. I'll move it.",
        "createdAt": "2017-03-01T03:50:53Z",
        "updatedAt": "2017-03-01T03:50:53Z",
        "author": {
          "login": "davkean"
        }
      },
      {
        "body": "Perf triage: Closing an old and low-pri issue.",
        "createdAt": "2021-04-12T14:25:33Z",
        "updatedAt": "2021-04-12T14:25:33Z",
        "author": {
          "login": "ladipro"
        }
      }
    ]
  }
}