{
  "number": 4196,
  "title": "Unable to compile msbuild from source on linux",
  "body": "### Steps to reproduce\r\n\r\nFollowing instructions from https://github.com/Microsoft/msbuild/blob/master/documentation/wiki/Building-Testing-and-Debugging-on-Mono-MSBuild.md:\r\n1. clone msbuild repo\r\n2. check out xplat-master\r\n3. recursive submodule init update (nothing happened)\r\n4. ensure mono is in PATH and call 'make': ```~/Projects/msbuild$ PATH=~/.mono/bin:$PATH make```\r\n\r\n### Expected  behavior\r\n\r\nA working msbuild.exe\r\n\r\n### Actual behavior\r\n\r\n```\r\nBuild started 2/22/2019 1:53:13 PM.\r\n/home/kate/Projects/msbuild/artifacts/toolset/restore.proj : error : Unable to load the service index for source https://dotnet.myget.org/F/roslyn-tools/api/v3/index.json.\r\n/home/kate/Projects/msbuild/artifacts/toolset/restore.proj : error MSB4236: The SDK 'RoslynTools.RepoToolset' specified could not be found.\r\n\r\nBuild FAILED.\r\n\r\n/home/kate/Projects/msbuild/artifacts/toolset/restore.proj : error : Unable to load the service index for source https://dotnet.myget.org/F/roslyn-tools/api/v3/index.json.\r\n/home/kate/Projects/msbuild/artifacts/toolset/restore.proj : error MSB4236: The SDK 'RoslynTools.RepoToolset' specified could not be found.\r\n\r\nTime Elapsed 00:00:00.75\r\n```\r\n\r\n\r\n### Environment data\r\n`msbuild /version` output: n/a, I don't have a msbuild.exe\r\n\r\nOS info: debian 9 x64\r\n\r\nIf applicable, version of the tool that invokes MSBuild (Visual Studio, dotnet CLI, etc): mono built from source (latest master as of a couple days ago)\r\n\r\nI checked my NuGet.config in ~/ and the one in the repo root and they both look okay. I don't have a proxy.\r\n",
  "state": "CLOSED",
  "createdAt": "2019-02-22T21:56:45Z",
  "updatedAt": "2024-02-21T17:09:06Z",
  "closedAt": "2022-07-15T13:59:31Z",
  "author": {
    "login": "kg"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": [
      {
        "login": "radical"
      }
    ]
  },
  "milestone": {
    "title": "Discussion"
  },
  "comments": {
    "nodes": [
      {
        "body": "The documentation likely needs to be updated after our recent changes to infra-structure.\r\n\r\nIf you just want to build on linux, just checkout master and run build.sh. Nothing else should be necessary.",
        "createdAt": "2019-02-26T00:25:11Z",
        "updatedAt": "2019-02-26T00:25:11Z",
        "author": {
          "login": "livarcocc"
        }
      },
      {
        "body": "build.sh also doesn't work. Do I need to put mono in my PATH?\r\n\r\n```\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.1.23/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.1.23/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.1.23/build/MSBuildFull/lib/linux/x86_64/libgit2-1196807.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj] \r\n```",
        "createdAt": "2019-02-26T02:08:02Z",
        "updatedAt": "2019-02-26T02:08:02Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "@radical ?",
        "createdAt": "2019-02-27T21:16:21Z",
        "updatedAt": "2019-02-27T21:16:21Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "The recent build changes haven't been merged yet (https://github.com/mono/mono/pull/13053).\r\n@kg Could you please share the binlogs from `artifacts/*-MONO/log/`?",
        "createdAt": "2019-02-28T03:03:06Z",
        "updatedAt": "2019-02-28T03:03:06Z",
        "author": {
          "login": "radical"
        }
      },
      {
        "body": "This is the only binlog in that folder\r\n[Toolset.zip](https://github.com/Microsoft/msbuild/files/2916663/Toolset.zip)\r\n",
        "createdAt": "2019-02-28T19:50:31Z",
        "updatedAt": "2019-02-28T19:50:31Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "this looks weird: `Restoring packages for .NETStandard,Version=v0.0..`",
        "createdAt": "2019-02-28T20:37:17Z",
        "updatedAt": "2019-02-28T20:37:17Z",
        "author": {
          "login": "radical"
        }
      },
      {
        "body": "@kg no `artifacts/Release-MONO/log/Toolset.binlog`?  I'm not sure what might be causing this.\r\n1. Hm could you share the full output from make? something like `make 2>&1 > make.log`.\r\n2. And maybe just tar `artifacts/` and attach.\r\n3. Also, could you confirm the HEAD of your branch? (804bde742bdf9d65c7ceb672a3d5400c0c22e628 ?)",
        "createdAt": "2019-02-28T20:55:05Z",
        "updatedAt": "2019-02-28T20:55:05Z",
        "author": {
          "login": "radical"
        }
      },
      {
        "body": "Verified the HEAD and did a full reset + make clean to ensure working tree was clean. The artifacts folder is enormous so I can email it to you if you want.\r\n\r\n```\r\nkate@reeir-debian2:~/Projects/msbuild$ git status\r\nOn branch xplat-master\r\nYour branch is up-to-date with 'origin/xplat-master'.\r\nnothing to commit, working tree clean\r\n```\r\n\r\n```\r\nkate@reeir-debian2:~/Projects/msbuild$ git show\r\ncommit 804bde742bdf9d65c7ceb672a3d5400c0c22e628\r\nAuthor: Ankit Jain <radical@gmail.com>\r\nDate:   Fri Dec 14 11:12:35 2018 -0500\r\n\r\n    [mono] Update bundled SDKs from cli branch `release/2.1.4xx` (#83)\r\n```\r\n\r\nHere's the log from build.sh\r\n```\r\nkate@reeir-debian2:~/Projects/msbuild$ ./build.sh\r\nExecuted from ./build.sh with arguments: -build\r\nldconfig is not in PATH, trying /sbin/ldconfig.\r\ndotnet-install: Downloading link: https://dotnetcli.azureedge.net/dotnet/Sdk/2.1.300/dotnet-sdk-2.1.300-linux-x64.tar.gz\r\ndotnet-install: Extracting zip from https://dotnetcli.azureedge.net/dotnet/Sdk/2.1.300/dotnet-sdk-2.1.300-linux-x64.tar.gz\r\ndotnet-install: Adding to current process PATH: `/home/kate/Projects/msbuild/artifacts/.dotnet/2.1.300`. Note: This change will be visible only when sourcing script.\r\ndotnet-install: Installation finished successfully.\r\nUsing dotnet from: /home/kate/Projects/msbuild/build/../artifacts/.dotnet/2.1.300\r\nUsing repo tools version: 1.0.0-beta2-63021-06\r\n============= MSBuild command =============\r\n\"/home/kate/Projects/msbuild/build/../artifacts/.dotnet/2.1.300/dotnet\" msbuild \"/home/kate/Projects/msbuild/build/../artifacts/toolset/restore.proj\" /t:__WriteToolsetLocation /m /nologo /clp:None /warnaserror /bl:\"/home/kate/Projects/msbuild/build/../artifacts/Debug/log/Toolset.binlog\" /p:__ToolsetLocationOutputFile=/home/kate/Projects/msbuild/build/../artifacts/toolset/1.0.0-beta2-63021-06.txt\r\n===========================================\r\nSome command line switches were read from the auto-response file \"MSBuild.rsp\". To disable this file, use the \"/noautoresponse\" switch.\r\n/home/kate/Projects/msbuild/artifacts/.dotnet/2.1.300/sdk/2.1.300/MSBuild.dll /nologo -maxcpucount /m -verbosity:m /bl:/home/kate/Projects/msbuild/build/../artifacts/Debug/log/Toolset.binlog /clp:None /p:__ToolsetLocationOutputFile=/home/kate/Projects/msbuild/build/../artifacts/toolset/1.0.0-beta2-63021-06.txt /t:__WriteToolsetLocation /warnaserror /home/kate/Projects/msbuild/build/../artifacts/toolset/restore.proj\r\n\r\nBuild succeeded.                                                                                                                            \r\n    0 Warning(s)\r\n    0 Error(s)\r\n\r\nTime Elapsed 00:00:00.20\r\n============= MSBuild command =============\r\n\"/home/kate/Projects/msbuild/build/../artifacts/.dotnet/2.1.300/dotnet\" msbuild \"/home/kate/.nuget/packages/roslyntools.repotoolset/1.0.0-beta2-63021-06/tools/Build.proj\" /m /clp:Summary /v:minimal /p:Configuration=Debug /p:RepoRoot=\"/home/kate/Projects/msbuild/build/..\" /p:Projects=\"/home/kate/Projects/msbuild/build/../MSBuild.sln\" /p:CIBuild=false /p:DisableNerdbankVersioning=false /bl:\"/home/kate/Projects/msbuild/build/../artifacts/Debug/log/Build.binlog\" /p:Restore=true /p:Build=true /p:Rebuild=false /p:Test=false /p:Sign=false /p:Pack=false /p:CreateBootstrap=true\r\n===========================================\r\nMicrosoft (R) Build Engine version 15.7.179.6572 for .NET Core\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\n/home/kate/Projects/msbuild/artifacts/.dotnet/2.1.300/sdk/2.1.300/MSBuild.dll -maxcpucount /m -verbosity:m /v:minimal /bl:/home/kate/Projects/msbuild/build/../artifacts/Debug/log/Build.binlog /clp:Summary /p:Configuration=Debug /p:RepoRoot=/home/kate/Projects/msbuild/build/.. /p:Projects=/home/kate/Projects/msbuild/build/../MSBuild.sln /p:CIBuild=false /p:DisableNerdbankVersioning=false /p:Restore=true /p:Build=true /p:Rebuild=false /p:Test=false /p:Sign=false /p:Pack=false /p:CreateBootstrap=true /home/kate/.nuget/packages/roslyntools.repotoolset/1.0.0-beta2-63021-06/tools/Build.proj\r\n  Restoring packages for /home/kate/.nuget/packages/roslyntools.repotoolset/1.0.0-beta2-63021-06/tools/Tools.proj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/toolset/Common/Tools.proj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/toolset/Common/Tools.proj.nuget.g.targets.\r\n  Restore completed in 123.41 ms for /home/kate/.nuget/packages/roslyntools.repotoolset/1.0.0-beta2-63021-06/tools/Tools.proj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj...\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj...\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Build/Microsoft.Build.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build/Microsoft.Build.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build/Microsoft.Build.csproj.nuget.g.targets.\r\n  Restore completed in 348.51 ms for /home/kate/Projects/msbuild/src/Build/Microsoft.Build.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Deprecated/Engine/Microsoft.Build.Engine.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine/Microsoft.Build.Engine.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine/Microsoft.Build.Engine.csproj.nuget.g.targets.\r\n  Restore completed in 1.08 ms for /home/kate/Projects/msbuild/src/Deprecated/Engine/Microsoft.Build.Engine.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Framework.UnitTests/Microsoft.Build.Framework.UnitTests.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj.nuget.g.targets.\r\n  Restore completed in 1.22 sec for /home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Framework.UnitTests/Microsoft.Build.Framework.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Framework.UnitTests/Microsoft.Build.Framework.UnitTests.csproj.nuget.g.targets.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine.UnitTests/Microsoft.Build.Engine.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Engine.UnitTests/Microsoft.Build.Engine.UnitTests.csproj.nuget.g.targets.\r\n  Restore completed in 260.32 ms for /home/kate/Projects/msbuild/src/Framework.UnitTests/Microsoft.Build.Framework.UnitTests.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj...\r\n  Restore completed in 1.34 sec for /home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/MSBuild.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Framework/Microsoft.Build.Framework.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Framework/Microsoft.Build.Framework.csproj.nuget.g.targets.\r\n  Restore completed in 252.41 ms for /home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/MSBuild/MSBuild.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.CommandLine.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.CommandLine.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj.nuget.g.targets.\r\n  Restore completed in 184.31 ms for /home/kate/Projects/msbuild/src/MSBuild.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/MSBuildTaskHost/MSBuildTaskHost.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuildTaskHost/MSBuildTaskHost.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuildTaskHost/MSBuildTaskHost.csproj.nuget.g.targets.\r\n  Restore completed in 9.36 ms for /home/kate/Projects/msbuild/src/MSBuildTaskHost/MSBuildTaskHost.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Package/DevDivPackage/DevDivPackage.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/DevDivPackage/DevDivPackage.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/DevDivPackage/DevDivPackage.csproj.nuget.g.targets.\r\n  Restore completed in 0.95 ms for /home/kate/Projects/msbuild/src/Package/DevDivPackage/DevDivPackage.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Package/Localization/Localization.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Localization/Localization.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Localization/Localization.csproj.nuget.g.targets.\r\n  Restore completed in 53.88 ms for /home/kate/Projects/msbuild/src/Package/Localization/Localization.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Package/MSBuild.Engine.Corext/MSBuild.Engine.Corext.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Engine.Corext/MSBuild.Engine.Corext.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Engine.Corext/MSBuild.Engine.Corext.csproj.nuget.g.targets.\r\n  Restore completed in 1.25 ms for /home/kate/Projects/msbuild/src/Package/MSBuild.Engine.Corext/MSBuild.Engine.Corext.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Package/MSBuild.VSSetup/MSBuild.VSSetup.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.VSSetup/MSBuild.VSSetup.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.VSSetup/MSBuild.VSSetup.csproj.nuget.g.targets.\r\n  Restore completed in 0.9 ms for /home/kate/Projects/msbuild/src/Package/MSBuild.VSSetup/MSBuild.VSSetup.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Dependency/Dependency.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Dependency/Dependency.csproj.nuget.g.targets.\r\n  Restore completed in 7.7 ms for /home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Samples/PortableTask/PortableTask.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.nuget.g.targets.\r\n  Restore completed in 314.79 ms for /home/kate/Projects/msbuild/src/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/PortableTask/PortableTask.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/PortableTask/PortableTask.csproj.nuget.g.targets.\r\n  Restore completed in 97.66 ms for /home/kate/Projects/msbuild/src/Samples/PortableTask/PortableTask.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Samples/TaskWithDependency/TaskWithDependency.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/TaskUsageLogger/TaskUsageLogger.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/TaskUsageLogger/TaskUsageLogger.csproj.nuget.g.targets.\r\n  Restore completed in 77.6 ms for /home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/XmlFileLogger/XmlFileLogger.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/XmlFileLogger/XmlFileLogger.csproj.nuget.g.targets.\r\n  Restore completed in 24.76 ms for /home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/TaskWithDependency/TaskWithDependency.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/TaskWithDependency/TaskWithDependency.csproj.nuget.g.targets.\r\n  Restore completed in 136.87 ms for /home/kate/Projects/msbuild/src/Samples/TaskWithDependency/TaskWithDependency.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Deprecated/Conversion/Microsoft.Build.Conversion.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Conversion/Microsoft.Build.Conversion.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Conversion/Microsoft.Build.Conversion.csproj.nuget.g.targets.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Tasks/Microsoft.Build.Tasks.csproj...\r\n  Restore completed in 0.94 ms for /home/kate/Projects/msbuild/src/Deprecated/Conversion/Microsoft.Build.Conversion.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj.nuget.g.targets.\r\n  Restore completed in 203.68 ms for /home/kate/Projects/msbuild/src/Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Tasks/Microsoft.Build.Tasks.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Tasks/Microsoft.Build.Tasks.csproj.nuget.g.targets.\r\n  Restore completed in 220.5 ms for /home/kate/Projects/msbuild/src/Tasks/Microsoft.Build.Tasks.csproj.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild/MSBuild.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild/MSBuild.csproj.nuget.g.targets.\r\n  Restore completed in 634.38 ms for /home/kate/Projects/msbuild/src/MSBuild/MSBuild.csproj.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj.nuget.g.targets.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Utilities/Microsoft.Build.Utilities.csproj...\r\n  Restore completed in 273.15 ms for /home/kate/Projects/msbuild/src/Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj.\r\n  Restoring packages for /home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj...\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj.nuget.g.targets.\r\n  Restore completed in 7.42 ms for /home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Utilities/Microsoft.Build.Utilities.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/Microsoft.Build.Utilities/Microsoft.Build.Utilities.csproj.nuget.g.targets.\r\n  Restore completed in 29.75 ms for /home/kate/Projects/msbuild/src/Utilities/Microsoft.Build.Utilities.csproj.\r\n\r\nUnhandled Exception: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.1.23/build/MSBuildFull/lib/linux/x86_64/libgit2-1196807.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory\r\n   at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath)\r\n   at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath)\r\n   at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName)\r\n   at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext)\r\n   at LibGit2Sharp.Core.NativeMethods.git_libgit2_init()\r\n   at LibGit2Sharp.Core.NativeMethods.LibraryLifetimeObject..ctor()\r\n   at LibGit2Sharp.Core.NativeMethods..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at LibGit2Sharp.Core.NativeMethods.RemoveHandle()\r\n   at LibGit2Sharp.Core.NativeMethods.LibraryLifetimeObject.Finalize()\r\nFailed to run MSBuild: \"/home/kate/Projects/msbuild/build/../artifacts/.dotnet/2.1.300/dotnet\" msbuild \"/home/kate/.nuget/packages/roslyntools.repotoolset/1.0.0-beta2-63021-06/tools/Build.proj\" /m /clp:Summary /v:minimal /p:Configuration=Debug /p:RepoRoot=\"/home/kate/Projects/msbuild/build/..\" /p:Projects=\"/home/kate/Projects/msbuild/build/../MSBuild.sln\" /p:CIBuild=false /p:DisableNerdbankVersioning=false /bl:\"/home/kate/Projects/msbuild/build/../artifacts/Debug/log/Build.binlog\" /p:Restore=true /p:Build=true /p:Rebuild=false /p:Test=false /p:Sign=false /p:Pack=false /p:CreateBootstrap=true\r\nKilling running build processes...\r\nKilling processes containing \"dotnet\"\r\n/home/kate/Projects/msbuild/build/build.sh: line 140: kill: (73044) - No such process\r\nKilling processes containing \"vbcscompiler\"\r\n/home/kate/Projects/msbuild/build/build.sh: line 140: kill: (73049) - No such process\r\n```",
        "createdAt": "2019-03-06T05:30:37Z",
        "updatedAt": "2019-03-06T05:30:37Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "Still not possible to build based on instructions. 'make' in root produces invalid substitution:\r\n```\r\nkate@reeir-debian2:~/Projects/msbuild$ PATH=/home/kate/.mono/bin:$PATH make\r\n./eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release --binaryLog --skip_tests\r\n./eng/cibuild_bootstrapped_msbuild.sh: 11: ./eng/cibuild_bootstrapped_msbuild.sh: Bad substitution\r\n```\r\n\r\nChanging the shebang in that script to /bin/bash gets further but still fails:\r\n```\r\n./eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release --binaryLog --skip_tests\r\n** Downloading MSBUILD from https://github.com/mono/msbuild/releases/download/0.06/mono_msbuild_xplat-master-3c930fa8.zip\r\nSome command line switches were read from the auto-response file \"MSBuild.rsp\". To disable this file, use the \"/noautoresponse\" switch.\r\n/home/kate/Projects/msbuild/eng/../artifacts/mono-msbuild/MSBuild.dll /noconsolelogger /nologo /bl:/home/kate/Projects/msbuild/artifacts/log/Release-MONO/ToolsetRestore.binlog /clp:Summary /m /nr:false /p:TreatWarningsAsErrors=true /p:__ToolsetLocationOutputFile=/home/kate/Projects/msbuild/artifacts/toolset/1.0.0-beta.19104.18.txt /t:__WriteToolsetLocation /v:minimal /warnaserror /home/kate/Projects/msbuild/artifacts/toolset/restore.proj\r\nBuild failed (exit code '1').\r\nCannot open assembly '/home/kate/Projects/msbuild/eng/../artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/MSBuild.dll': No such file or directory.\r\nBuild failed (exit code '2').\r\nMakefile:2: recipe for target 'all-mono' failed\r\nmake: *** [all-mono] Error 2\r\n```\r\n\r\nI think the makefile needs to be removed and the docs updated.\r\n\r\nbuild.sh still fails with libgit errors:\r\n```\r\n  Installing Microsoft.Build.NuGetSdkResolver 4.8.0-rtm.5362.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.nuget.g.props.\r\n  Generating MSBuild file /home/kate/Projects/msbuild/artifacts/obj/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.nuget.g.targets.\r\n  Restore completed in 2.74 sec for /home/kate/Projects/msbuild/src/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj.\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj] \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                             \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                       \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj] \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                             \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                       \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/PortableTask/PortableTask.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj]                                                                                                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj]                                                                                                           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj]                                                                                                           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj]                                                                                                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj] \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                             \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                                       \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]                                          \r\n\r\nBuild FAILED.\r\n\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj] \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                             \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                       \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj] \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                                                                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                             \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                                       \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Framework/Microsoft.Build.Framework.csproj]                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/PortableTask/PortableTask.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj]                                                                                                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                          \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                  \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                 \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                     \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                               \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                    \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                                                                                                                                   \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]              \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                                         \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.33/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj]                            \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj]                                                                                                           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/TaskUsageLogger/TaskUsageLogger.csproj]                                                                                                           \r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/Dependency/Dependency.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4062: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task could not be loaded from the assembly /home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/MSBuildCore/Nerdbank.GitVersioning.Tasks.dll. Assembly with same name is already loaded Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: The \"Nerdbank.GitVersioning.Tasks.GetBuildVersion\" task failed unexpectedly. [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.VersionOracle.Create(String projectDirectory, String gitRepoDirectory, ICloudBuild cloudBuild, Nullable`1 overrideBuildNumberOffset, String projectPathRelativeToGitRepoRoot) [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/home/kate/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.Tasks.GetBuildVersion.ExecuteInner() [/home/kate/Projects/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n    0 Warning(s)\r\n    11 Error(s)\r\n\r\nTime Elapsed 00:00:19.46\r\nBuild failed (exit code '1').\r\n```",
        "createdAt": "2019-03-20T22:22:41Z",
        "updatedAt": "2019-03-20T22:22:41Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "./build.sh also does not work for current Microsoft/msbuild master. Same libgit errors.",
        "createdAt": "2019-03-20T22:24:59Z",
        "updatedAt": "2019-03-20T22:24:59Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "libssl 1.0.0 is extremely deprecated as far as I can tell, 1.1.0 is available in debian and no amount of symlinking gets ./build.sh to find it.",
        "createdAt": "2019-03-20T22:32:54Z",
        "updatedAt": "2019-03-20T22:32:54Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "At Ankit's suggestion I tried bypassing nerdbank via ```./eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release --binaryLog --skip_tests /p:DisableNerdbankVersioning=true```:\r\n\r\n```\r\n/home/kate/Projects/msbuild/artifacts/mono-msbuild/NuGet.targets(114,5): error : Unable to load the service index for source https://api.nuget.org/v3/index.json. [/home/kate/.nuget/packages/microsoft.dotnet.arcade.sdk/1.0.0-beta.19104.18/tools/Tools.proj]\r\n\r\n/home/kate/Projects/msbuild/artifacts/mono-msbuild/NuGet.targets(114,5): error :   The SSL connection could not be established, see inner exception. [/home/kate/.nuget/packages/microsoft.dotnet.arcade.sdk/1.0.0-beta.19104.18/tools/Tools.proj]\r\n\r\n/home/kate/Projects/msbuild/artifacts/mono-msbuild/NuGet.targets(114,5): error :   Authentication failed, see inner exception. [/home/kate/.nuget/packages/microsoft.dotnet.arcade.sdk/1.0.0-beta.19104.18/tools/Tools.proj]\r\n\r\n/home/kate/Projects/msbuild/artifacts/mono-msbuild/NuGet.targets(114,5): error :   Ssl error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED [/home/kate/.nuget/packages/microsoft.dotnet.arcade.sdk/1.0.0-beta.19104.18/tools/Tools.proj]\r\n\r\n/home/kate/Projects/msbuild/artifacts/mono-msbuild/NuGet.targets(114,5): error :     at /home/kate/Projects/mono/external/boringssl/ssl/handshake_client.c:1132 [/home/kate/.nuget/packages/microsoft.dotnet.arcade.sdk/1.0.0-beta.19104.18/tools/Tools.proj]\r\n```\r\n\r\nIncidentally I have to edit the .sh files to replace /bin/sh with /bin/bash before they work, because they contain syntax incompatible with sh. That should probably be fixed.",
        "createdAt": "2019-03-21T09:29:42Z",
        "updatedAt": "2019-03-21T09:29:42Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "OK, the ssl error is because from-source and from-package installs of mono don't have certificates. If you get your hands on cert-sync and build afterwards with nerdbank disabled you get a lot closer to a working build w/build.sh:\r\n\r\n```\r\nBuild FAILED.\r\n\r\nDefinition/ProjectCollection_Tests.cs(1425,51): error CS0103: The name 'ThisAssembly' does not exist in the current context [/home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj]                                                                                 \r\n    0 Warning(s)\r\n    1 Error(s)\r\n```\r\n\r\nHowever this way of invoking build.sh only produces a netcore .dll and not a msbuild.exe. Not sure if that's because a final build step is being blocked by the failure to build those unit tests.\r\n\r\nUsing cibuild_bootstrapped_msbuild I get a different set of failures:\r\n\r\n```\r\nPATH=~/.mono/bin:$PATH eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release --binaryLog --skip_tests /p:DisableNerdbankVersioning=true\r\n```\r\n\r\n```\r\nAssembly /home/kate/Projects/msbuild/artifacts/2/bin/MSBuild.Bootstrap/Release-MONO/net472//Microsoft.Build.Utilities.v12.0.dll signed.\r\n\r\nBuild FAILED.\r\n\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj]                                                                                             \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj]                                                                                        \r\nDefinition/ProjectCollection_Tests.cs(1425,51): error CS0122: 'ThisAssembly' is inaccessible due to its protection level [/home/kate/Projects/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj]                                                                                    \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/MSBuild/MSBuild.csproj]                                                                                                                                    \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/MSBuild/MSBuild.csproj]                                                                                                                               \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj]                                                                                                   \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj]                                                                                                             \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Tasks.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj]                                                                                                  \r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Build.UnitTests/Microsoft.Build.Engine.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/MSBuild.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/MSBuild.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/MSBuild.UnitTests/Microsoft.Build.CommandLine.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Tasks.UnitTests/Microsoft.Build.Tasks.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Framework, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Tasks.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj]\r\n/home/kate/Projects/msbuild/artifacts/bin/bootstrap/net472/MSBuild/Current/Bin/Microsoft.Common.CurrentVersion.targets(2248,5): error MSB3836: The explicit binding redirect on \"Microsoft.Build.Utilities.Core, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"<bindingRedirect oldVersion=\"0.0.0.0-99.9.9.9\" newVersion=\"42.42.42.42\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\". [/home/kate/Projects/msbuild/src/Utilities.UnitTests/Microsoft.Build.Utilities.UnitTests.csproj]\r\n```\r\n\r\nEDIT: The latter does appear to produce a usable DLL, this at least sort of works:\r\n```\r\n~/.mono/bin/mono artifacts/bin/MSBuild/Release-MONO/net472/MSBuild.dll\r\nMicrosoft (R) Build Engine version 42.42.42.42424 for Mono\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nMSBUILD : error MSB1011: Specify which project or solution file to use because this folder contains more than one project or solution file.\r\n```\r\n\r\nFor reference the way to invoke cert-sync on debian is ```sudo ~/.mono/bin/cert-sync /etc/ssl/certs/ca-certificates.crt```",
        "createdAt": "2019-03-26T02:44:54Z",
        "updatedAt": "2019-03-26T02:47:21Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "I also can't get `./build.sh` to work. Lots of\r\n\r\n```\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018: System.TypeInitializationException: The type initializer for 'LibGit2Sharp.Core.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load shared library '/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/lib/linux/x86_64/libgit2-6311e88.so' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libssl.so.1.0.0: cannot open shared object file: No such file or directory [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.InternalLoadUnmanagedDllFromPath(String unmanagedDllPath) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.LoadUnmanagedDllFromPath(String unmanagedDllPath) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at MSBuildExtensionTask.ContextAwareTask.CustomAssemblyLoader.LoadUnmanagedDll(String unmanagedDllName) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at System.Runtime.Loader.AssemblyLoadContext.ResolveUnmanagedDll(String unmanagedDllName, IntPtr gchManagedAssemblyLoadContext) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_init() [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.LoadNativeLibrary() [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods..cctor() [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    --- End of inner exception stack trace --- [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.Core.NativeMethods.git_libgit2_opts(Int32 option, UInt32 level, String path) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at LibGit2Sharp.GlobalSettings.SetConfigSearchPaths(ConfigurationLevel level, String[] paths) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n/root/.nuget/packages/nerdbank.gitversioning/2.2.13/build/Nerdbank.GitVersioning.targets(63,5): error MSB4018:    at Nerdbank.GitVersioning.GitExtensions.OpenGitRepo(String pathUnderGitRepo) [/msbuild/src/Samples/XmlFileLogger/XmlFileLogger.csproj]\r\n```\r\n\r\n\r\nI am using `mcr.microsoft.com/dotnet/core/sdk:2.2`. Is there another Docker image I should be using to build? It would be nice to have a reproducible a `Dockerfile` rather than bash script.",
        "createdAt": "2019-04-03T04:46:39Z",
        "updatedAt": "2019-04-03T04:52:45Z",
        "author": {
          "login": "tychedelia"
        }
      },
      {
        "body": "Nerdbank is, to my understanding, a problem in libgit2 where it requires libssl 1.0.0 - very old and deprecated by some Linux distros.\r\nIf you disable Nerdbank via ``` /p:DisableNerdbankVersioning=true``` you can get past that problem, but I don't know what disabling it actually does...",
        "createdAt": "2019-04-03T04:51:36Z",
        "updatedAt": "2019-04-03T04:51:36Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "Thanks @kg.\r\n\r\nI was able to get a bit further: `./eng/cibuild_bootstrapped_msbuild.sh --host_type core --configuration Release --binaryLog  /p:DisableNerdbankVersioning=true`\r\n\r\nFor some reason I had to remove `--skip_tests` and change to `--host_type core`. I'm using Docker image `mcr.microsoft.com/dotnet/core/sdk:2.2`.\r\n\r\nNow failing with error: `Definition/ProjectCollection_Tests.cs(1425,51): error CS0103: The name 'ThisAssembly' does not exist in the current context [/msbuild/src/Build.OM.UnitTests/Microsoft.Build.Engine.OM.UnitTests.csproj]`",
        "createdAt": "2019-04-03T05:07:57Z",
        "updatedAt": "2019-04-03T05:07:57Z",
        "author": {
          "login": "tychedelia"
        }
      },
      {
        "body": "I have also observed the ThisAssembly error, but it's an error in automated tests. If you examine your artifacts folder, you should have a MsBuild.dll that you can run as an executable (using mono or dotnet). Give that a try",
        "createdAt": "2019-04-03T07:44:30Z",
        "updatedAt": "2019-04-03T07:44:30Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "Just as an update for anyone else puzzled by the ThisAssembly error, it is apparently related to Nerdbank and specifically happens if Nerdbank is disabled. So that error does not indicate that you have broken anything, and if you get a usable Msbuild.dll output you might be ready to go.",
        "createdAt": "2019-04-04T12:48:07Z",
        "updatedAt": "2019-04-04T12:48:07Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "@kg Yes, I was able to successfully execute the following:\r\n```\r\nroot@dd507ae2a6ce:/msbuild/artifacts# dotnet ./bin/MSBuild/Debug/netcoreapp2.1/MSBuild.dll\r\nMicrosoft (R) Build Engine version 42.42.42.42424 for .NET Core\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n \r\nMSBUILD : error MSB1003: Specify a project or solution file. The current working directory does not contain a project or solution file.\r\n ```\r\n:)\r\n\r\nStill would like the regular documented `build.sh` script to work, though.",
        "createdAt": "2019-04-04T15:56:52Z",
        "updatedAt": "2019-04-04T15:56:52Z",
        "author": {
          "login": "tychedelia"
        }
      },
      {
        "body": "I'm thinking of hacking out Nerdbank.GitVersioning. Arcade is going a different direction: https://github.com/dotnet/arcade/blob/master/Documentation/CorePackages/Versioning.md and some of the other design decisions made there make continuing to use it a pain, + this issue.",
        "createdAt": "2019-04-04T20:23:58Z",
        "updatedAt": "2019-04-04T20:23:58Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "Any progress on this?",
        "createdAt": "2019-04-11T16:08:01Z",
        "updatedAt": "2019-04-11T16:08:07Z",
        "author": {
          "login": "KexyBiscuit"
        }
      },
      {
        "body": "Current status:\r\nDo not consider this blessed advice, but I was able to compile an msbuild.dll without any compile errors or script errors via this approach:\r\n```PATH=~/.mono/bin:$PATH eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release --binaryLog --skip_tests /p:DisableNerdbankVersioning=true \"/p:Projects=`pwd`/src/MSBuild/MSBuild.csproj\" /p:AssemblyVersion=15.1.0.0```\r\n\r\nThe p:Projects disables building of the test assemblies (since they're broken), the assemblyversion works around some binding redirect problems, and disabling nerdbank works around libgit/libssl issues.\r\n\r\nI am not totally certain the resulting msbuild works right, though.",
        "createdAt": "2019-04-11T22:57:27Z",
        "updatedAt": "2019-04-11T22:57:27Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "@kg Then I'm getting a MSBuild with invalid version (42.42...), however I'm looking for packaging it into a Linux Dist (with no Mono official support), how to resolve that?",
        "createdAt": "2019-04-19T06:52:40Z",
        "updatedAt": "2019-04-19T06:52:40Z",
        "author": {
          "login": "KexyBiscuit"
        }
      },
      {
        "body": "For mono we have a linux packaging process, the scripts and configuration are at https://github.com/mono/linux-packaging-msbuild. We've just recently been updating it and working on current documentation.",
        "createdAt": "2019-04-19T08:37:44Z",
        "updatedAt": "2019-04-19T08:37:44Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "For an update, on latest xplat-master the process we're currently using to build on ubuntu-based continuous integration is roughly the following:\r\n\r\n```bash\r\n# in mono/\r\n./autogen.sh --prefix=/mono-prefix/\r\nmake\r\nmake install\r\nexport PATH=/mono-prefix/bin:$PATH\r\ncert-sync /etc/ssl/certs/ca-certificates.crt # this is only necessary the first time you build at the prefix. without it you will have no SSL certs = nuget won't work\r\n# in msbuild:xplat-master/\r\n./eng/cibuild_bootstrapped_msbuild.sh --host_type mono --configuration Release /p:DisableNerdbankVersioning=true \"/p:Projects=./src/MSBuild.Bootstrap/MSBuild.Bootstrap.csproj\" /p:AssemblyVersion=15.1.0.0\r\n```\r\n\r\nIf anyone trying to build on linux can't successfully build using these steps, please let me know.",
        "createdAt": "2019-04-27T02:16:07Z",
        "updatedAt": "2019-04-27T02:16:07Z",
        "author": {
          "login": "kg"
        }
      },
      {
        "body": "I had been building msbuild using ```make all-mono``` in the ```xplat-master``` branch. This has been recently broken as an apparently non-publicly-available (not even on the dotnet-build myget feed) version of arcade SDK is being used.",
        "createdAt": "2019-08-07T15:29:51Z",
        "updatedAt": "2019-08-07T15:29:51Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "We shouldn't be using anything that's not public. The Arcade package should come from the `https://dotnetfeed.blob.core.windows.net/dotnet-core/index.json` feed.",
        "createdAt": "2019-08-07T16:10:28Z",
        "updatedAt": "2019-08-07T16:10:28Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "I have found that feed referenced in the NuGet.config file. However the bootstrap msbuild still complains that the requested version could not be found. I tried using the closest version available as mentioned by the restore error. That however caused other issues.",
        "createdAt": "2019-08-07T16:45:10Z",
        "updatedAt": "2019-08-07T16:45:10Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "@rainersigwald I have retried with the version of arcade referenced by the Microsoft/msbuild git repo and that also failed to restore for me. I'm also noticing that the global.json file refers to a .NET Core 3 preview build. All such builds are not available in the Ubuntu package repos from where I usually get builds of .NET Core and its tools.",
        "createdAt": "2019-08-09T07:05:27Z",
        "updatedAt": "2019-08-09T07:17:44Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "@borgdylan I hit that yesterday too. Looks like it's being tracked by the right folks at dotnet/arcade#3620.",
        "createdAt": "2019-08-09T15:01:26Z",
        "updatedAt": "2019-08-09T15:01:26Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "@borgdylan according to internal email, all of the Arcade packages should be available again now. It worked for me on the machine I mentioned earlier.",
        "createdAt": "2019-08-09T17:05:32Z",
        "updatedAt": "2019-08-09T17:05:32Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "I will retry my build. I can finally try building my library against NS 2.1, trying to have it ready by the time it actually hits GA.",
        "createdAt": "2019-08-10T06:52:04Z",
        "updatedAt": "2019-08-10T06:52:40Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "@rainersigwald The latest version vailable is still 1.0.0-dev.18424.13. Build 19408.13 is still unavailable.",
        "createdAt": "2019-08-10T06:56:29Z",
        "updatedAt": "2019-08-10T06:56:29Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "I have also tried installing the latest .NET Core 3.0 preview SDK on to my machine. Arcade is not biuilt-in to that and the same issue with getting it via NuGet still persists.",
        "createdAt": "2019-08-10T20:55:02Z",
        "updatedAt": "2019-08-10T20:55:02Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "It's possible there's a different issue, but let's first eliminate caches. Can you run\r\n\r\n```sh\r\ndotnet nuget locals --clear all\r\n```\r\n\r\nand try again? Note that this will delete a bunch of stuff and cause the next restore to do much more work than usual.",
        "createdAt": "2019-08-12T15:41:32Z",
        "updatedAt": "2019-08-12T15:41:32Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "@rainersigwald The cache was indeed the issue. The folder pertaining to arcade in the cache was owned by root whgich meant the build process was of a lower priviledge and hence could not write into it.",
        "createdAt": "2019-08-20T18:52:57Z",
        "updatedAt": "2019-08-20T18:52:57Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "The newer build code that has been pushed needs some hacks to run on Linux (many hard coded assumptions about macOS). Also restoring packages fails for some core corefx packages e.g. Threading. NuGet is timeing out in some cases or stating host is unknown in others. Using a browser yields the json or nupkg that NuGet was trying to get.",
        "createdAt": "2019-08-20T19:23:40Z",
        "updatedAt": "2019-08-20T19:23:40Z",
        "author": {
          "login": "borgdylan"
        }
      },
      {
        "body": "https://github.com/mono/msbuild/pull/128",
        "createdAt": "2019-08-21T20:17:26Z",
        "updatedAt": "2019-08-21T20:17:26Z",
        "author": {
          "login": "radical"
        }
      }
    ]
  }
}