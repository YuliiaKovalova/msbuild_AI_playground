{
  "number": 2124,
  "title": "compilation fails under KDE neon",
  "body": "KDE neon is not supported by the installation/compilation script and you get the following error when you run it:\r\n```\r\n$ ./cibuild.sh --target CoreCLR                                                   \r\nInstalling dotnet cli...                                                                                                            \r\nRestoring BuildTools version 1.0.27-prerelease-00927-05...                                                                          \r\nInitializing BuildTools...\r\nCan not find runtime target for framework '.NETCoreApp,Version=v1.0' compatible with one of the target runtimes: 'neon.16.04-x64'. Possible causes:\r\n1. The project has not been restored or restore failed - run `dotnet restore`\r\n2. The project does not list one of 'neon.16.04-x64' in the 'runtimes' section.\r\n3. You may be trying to publish a library, which is not supported. Use `dotnet pack` to distribute libraries.\r\nERROR: An error occured when trying to initialize the tools. Please check '/home/tobias/Sources/msbuild/msbuild/init-tools.log' for more details.1\r\n```\r\nI tried just adding it to the `msbuild/packages/Microsoft.DotNet.BuildTools/1.0.27-prerelease-00927-05/lib/tool-runtime/project.json`\r\n\r\nI ended up with the following errors:\r\n```\r\nerror: System.Text.Encoding.CodePages 4.0.1-rc3-24128-00 provides a compile-time reference assembly for System.Text.Encoding.CodePages on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.FileVersionInfo 4.0.0-rc3-24128-00 provides a compile-time reference assembly for System.Diagnostics.FileVersionInfo on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.IO.Pipes 4.0.0-rc3-24109-00 provides a compile-time reference assembly for System.IO.Pipes on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.TraceSource 4.0.0 provides a compile-time reference assembly for System.Diagnostics.TraceSource on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.Process 4.1.0 provides a compile-time reference assembly for System.Diagnostics.Process on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: Microsoft.Win32.Registry 4.0.0 provides a compile-time reference assembly for Microsoft.Win32.Registry on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: Microsoft.Win32.Primitives 4.3.0-beta-24506-02 provides a compile-time reference assembly for Microsoft.Win32.Primitives on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Collections 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Collections on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Console 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Console on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.Debug 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Diagnostics.Debug on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.Tools 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Diagnostics.Tools on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Diagnostics.Tracing 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Diagnostics.Tracing on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Globalization 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Globalization on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Globalization.Calendars 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Globalization.Calendars on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.IO 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.IO on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.IO.Compression 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.IO.Compression on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.IO.FileSystem 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.IO.FileSystem on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Net.Primitives 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Net.Primitives on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Net.Sockets 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Net.Sockets on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Reflection 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Reflection on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Reflection.Extensions 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Reflection.Extensions on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Reflection.Primitives 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Reflection.Primitives on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Resources.ResourceManager 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Resources.ResourceManager on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Runtime 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Runtime on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Runtime.Extensions 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Runtime.Extensions on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Runtime.Handles 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Runtime.Handles on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Runtime.InteropServices 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Runtime.InteropServices on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Runtime.InteropServices.RuntimeInformation 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Runtime.InteropServices.RuntimeInformation on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Security.Cryptography.Algorithms 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Security.Cryptography.Algorithms on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Security.Cryptography.Encoding 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Security.Cryptography.Encoding on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Security.Cryptography.X509Certificates 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Security.Cryptography.X509Certificates on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Text.Encoding 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Text.Encoding on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Text.Encoding.Extensions 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Text.Encoding.Extensions on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Threading.Tasks 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Threading.Tasks on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: System.Threading.Timer 4.3.0-beta-24506-02 provides a compile-time reference assembly for System.Threading.Timer on .NETCoreApp,Version=v1.0, but there is no run-time assembly compatible with neon.16.04-x64.\r\nerror: One or more packages are incompatible with .NETCoreApp,Version=v1.0 (neon.16.04-x64).\r\n```\r\n\r\nIs there any way to force an installation or to make it use `ubuntu.16.04-x64` instead of `neon.16.04-x64`?",
  "state": "CLOSED",
  "createdAt": "2017-05-23T01:01:16Z",
  "updatedAt": "2024-02-21T17:18:59Z",
  "closedAt": "2018-04-17T16:03:07Z",
  "author": {
    "login": "Tercus"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "This is probably a remnant of our ancient bootstrap toolchain. When we move to using the .NET SDK like normal projects, this should go away. That's tracked by https://github.com/Microsoft/msbuild/milestone/14 (but it might be a while).\r\n\r\nSorry for the inconvenience. You could probably use a container running Ubuntu 14.04 or 16.04 to work around this.",
        "createdAt": "2017-05-24T19:07:47Z",
        "updatedAt": "2017-05-24T19:07:47Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "This should no longer be an issue after switching to a .NET Core SDK 2.x based build. If you see otherwise please let us know and we can take a look.",
        "createdAt": "2018-04-17T16:03:07Z",
        "updatedAt": "2018-04-17T16:03:07Z",
        "author": {
          "login": "rainersigwald"
        }
      }
    ]
  }
}