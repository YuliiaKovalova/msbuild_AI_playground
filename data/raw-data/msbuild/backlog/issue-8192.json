{
  "number": 8192,
  "title": "Add a property to indicate if a project is autogenerated.",
  "body": "### **Why?**\r\n\r\nSonar Analysis with GitHub Actions was failing because the autogenerated project by Azure Functions SDK was placed in a different drive.\r\n\r\nThe Azure Functions SDK creates the Temporary Folder with a temporary project:\r\n\r\n- [ExtensionsCsprojGenerator](https://github.com/Azure/azure-functions-dotnet-worker/blob/95a10c7aa95da2ba1122201ef78f5059733fa283/sdk/Sdk/ExtensionsCsprojGenerator.cs) -> [GenerateFunctionMetadata](https://github.com/Azure/azure-functions-dotnet-worker/blob/95a10c7aa95da2ba1122201ef78f5059733fa283/sdk/Sdk/Tasks/GenerateFunctionMetadata.cs) -> [Microsoft.Azure.Functions.Worker.Sdk.targets](https://github.com/Azure/azure-functions-dotnet-worker/blob/95a10c7aa95da2ba1122201ef78f5059733fa283/sdk/Sdk/Targets/Microsoft.Azure.Functions.Worker.Sdk.targets#L65)\r\n\r\n```\r\n<ExtensionsCsProjFilePath>\r\n  $([System.IO.Path]::Combine($([System.IO.Path]::GetTempPath()), $([System.IO.Path]::GetRandomFileName())))\r\n</ExtensionsCsProjFilePath>\r\n```\r\nThe temp project is generated by [ExtensionsCsprojGenerator](https://github.com/Azure/azure-functions-dotnet-worker/blob/95a10c7aa95da2ba1122201ef78f5059733fa283/sdk/Sdk/ExtensionsCsprojGenerator.cs) \r\n\r\nWhen the Sonar Analysis ran through GitHub Actions, it failed because it could not find the common root path of the projects (the one given by the user and the one that is autogenerated) since they are on different drives.\r\n\r\n\r\n\r\n### **What?**\r\nCurrently, [we have a fix from our side](https://github.com/SonarSource/sonar-scanner-msbuild/pull/1307) that computes the best common prefix path between projects, but we would like to be able to exclude autogenerated projects from the analysis in a consistent way.\r\n\r\n\r\n### **How?**\r\nWe would like to propose adding a property to the project file (something like `<IsAutoGenerated>true</IsAutoGenerated>`)\r\nto autogenerated `*.proj`.",
  "state": "CLOSED",
  "createdAt": "2022-11-25T13:29:56Z",
  "updatedAt": "2023-04-25T15:31:55Z",
  "closedAt": "2023-04-25T15:31:55Z",
  "author": {
    "login": "mary-georgiou-sonarsource"
  },
  "labels": [
    "needs-triage"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "MSBuild team triage: There is no restriction from the MSBuild side for customers to define/use any property, including `<IsAutoGenerated>true</IsAutoGenerated>`, in the project file. (Unless the name of the property is already reserved for specific reason by sdk/msbuild/etc, that could lead to build failure. I believe is not the case here.) \r\nIf it is an autogenerated file, we would suggest adding this property in the generator or having an extra step that updates the generated project with it. Then you might use its value during the analysis. \r\n\r\nWe do not yet see any feature request here for MSBuild. If we are wrong, please feel free to reopen issue and elaborate how MSBuild team could help.  ",
        "createdAt": "2023-04-25T15:31:45Z",
        "updatedAt": "2023-04-25T15:31:45Z",
        "author": {
          "login": "AR-May"
        }
      }
    ]
  }
}