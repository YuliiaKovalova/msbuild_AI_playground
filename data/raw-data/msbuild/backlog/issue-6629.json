{
  "number": 6629,
  "title": "Net 6 Preview changes project behaviour and lead to Compile errors for projects containing dlls as content (which i use for nuget internal package packages)",
  "body": "### Issue Description\r\nPack broke after update to the latest dotnet preview. Building the projekt shown below failes to compile (and pack).\r\nThis is related to include dll's marked as content via wildcard pattern. The seem to be somehow considered durig the build and are changning the framework and dll resolution. \r\n\r\ni now see:\r\n```\r\nerror CS1069: The type name 'ProcessStartInfo' could not be found in the namespace 'System.Diagnostics'. This type has been forwarded to assembly 'System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' Consider adding a reference to that assembly.\r\nerror CS0103: The name 'Process' does not exist in the current context\r\n```\r\n\r\n### Steps to Reproduce\r\nConsider the following project setup. With this setup you will need to have some programm containing a self contained publish of another programm which is in my case a code generator i wrote. Of interest here is that its multi framework project against net471 and netstandard2.0.\r\n\r\n```xml\r\n<Project Sdk=\"Microsoft.NET.Sdk\" >\r\n\r\n  <PropertyGroup>\r\n    <TargetFrameworks>netstandard2.0;net471</TargetFrameworks>\r\n  </PropertyGroup>\r\n\r\n  <PropertyGroup>\r\n    <OutputPath>tasks</OutputPath>\r\n  </PropertyGroup>\r\n\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.Build.Framework\" Version=\"16.4.0\" />\r\n    <PackageReference Include=\"Microsoft.Build.Utilities.Core\" Version=\"16.4.0\" />\r\n    <!-- Marks all packages as 'local only' so they don't end up in the nuspec. -->\r\n    <PackageReference Update=\"@(PackageReference)\" PrivateAssets=\"All\" />\r\n  </ItemGroup>\r\n\r\n  <ItemGroup>\r\n    <Content Include=\"../CodeGenerator/bin/Release/win64/publish/*\" PackagePath=\"generator\\windows\\\" Link=\"generator\\windows\\%(Filename)%(Extension)\" />\r\n    <Content Include=\"../CodeGenerator/bin/Release/linux64/publish/*\" PackagePath=\"generator\\linux\\\" Link=\"generator\\linux\\%(Filename)%(Extension)\" />\r\n  </ItemGroup>\r\n\r\n</Project>\r\n```\r\n\r\nFrom interest is also that the project includes a MsBuild Task which is bound via \r\n\r\n```\r\n  <UsingTask Condition=\"$([MSBuild]::IsOSUnixLike()) != 'True'\" TaskName=\"GeneratorTask\" TaskFactory=\"TaskHostFactory\" AssemblyFile=\"$(TaskAssembly)\" />\r\n\r\nThe task contains the following stripped down code which fails to compile with the obove listed error message:\r\n            var startInfo = new ProcessStartInfo\r\n            {\r\n                FileName = GeneratorPath,\r\n                Arguments = $\"-f \\\"{input}\\\" {(Debug ? \"-d\" : \"\")} -p {CommunicationProtocol} -o \\\"{OutputPath}\\\"\",\r\n                UseShellExecute = false,\r\n                RedirectStandardOutput = true,\r\n                RedirectStandardError = true,\r\n                CreateNoWindow = true,\r\n            };\r\n            var process = Process.Start(startInfo);\r\n```\r\n\r\n### Expected Behavior\r\nPrior to net preview 6.5 the code was compiling without error. (no changes where performed to the project or the code)\r\nSince both netstandard2.0 and net471 includes the types around 'Process' the error makes no sense\r\n\r\n### Actual Behavior\r\n```\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Diagnostics.StackTrace\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Diagnostics.Tracing\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\n1>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\MSBuild\\Currentwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.IO.Compression\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Net.Http\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Net.Sockets\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Runtime.Serialization.Primitives\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Security.Cryptography.Algorithms\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Threading.Thread\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nwarning MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"System.Xml.XPath.XDocument\", \"AMD64\". This mismatch may cause runtime failures. Please consider changing the targeted processor architecture of your project through the Configuration Manager so as to align the processor architectures between your project and references, or take a dependency on references with a processor architecture that matches the targeted processor architecture of your project.\r\nerror CS1069: The type name 'ProcessStartInfo' could not be found in the namespace 'System.Diagnostics'. This type has been forwarded to assembly 'System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' Consider adding a reference to that assembly.\r\nerror CS0103: The name 'Process' does not exist in the current context\r\n```\r\n\r\nBoth errors make no sense for netstandard2.0 and net471. The warnings seem to be very relevant and are only present when the dlls are added as content.\r\n\r\n### Analysis\r\nwhen excluding the content dlls from the project everything compiles without errors. so it must be something about the lines \r\n\r\n```xml\r\n<ItemGroup>\r\n    <Content Include=\"../CodeGenerator/bin/Release/win64/publish/*\" PackagePath=\"generator\\windows\\\" Link=\"generator\\windows\\%(Filename)%(Extension)\" />\r\n    <Content Include=\"../CodeGenerator/bin/Release/linux64/publish/*\" PackagePath=\"generator\\linux\\\" Link=\"generator\\linux\\%(Filename)%(Extension)\" />\r\n</ItemGroup>\r\n```\r\n\r\n### Versions & Configurations\r\n```\r\n.NET SDK (reflecting any global.json):\r\n Version:   6.0.100-preview.5.21302.13\r\n Commit:    d6380bcae7\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.18363\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\6.0.100-preview.5.21302.13\\\r\n\r\nHost (useful for support):\r\n  Version: 6.0.0-preview.5.21301.5\r\n  Commit:  ec3e0b276b\r\n\r\n.NET SDKs installed:\r\n  2.1.517 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.602 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.104 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.300 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.301 [C:\\Program Files\\dotnet\\sdk]\r\n  5.0.400-preview.21277.10 [C:\\Program Files\\dotnet\\sdk]\r\n  6.0.100-preview.5.21302.13 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.21 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.27 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.28 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.21 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.27 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.28 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.1.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 5.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 5.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 6.0.0-preview.5.21301.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 2.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.21 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.28 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.1.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 5.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 5.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 6.0.0-preview.5.21301.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.1.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 5.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 5.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 6.0.0-preview.5.21301.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n```\r\n\r\n```\r\nMicrosoft Visual Studio Professional 2019 Preview\r\nVersion 16.11.0 Preview 2.0\r\nVisualStudio.16.Preview/16.11.0-pre.2.0+31410.223\r\nMicrosoft .NET Framework\r\nVersion 4.8.03752\r\n\r\nInstalled Version: Professional\r\n\r\n.NET Core Debugging with WSL 2   1.0\r\n.NET Core Debugging with WSL 2\r\n\r\nASP.NET and Web Tools 2019   16.11.61.6649\r\nASP.NET and Web Tools 2019\r\n\r\nASP.NET Web Frameworks and Tools 2019   16.11.61.6649\r\nFor additional information, visit https://www.asp.net/\r\n\r\nAzure App Service Tools v3.0.0   16.11.61.6649\r\nAzure App Service Tools v3.0.0\r\n\r\nAzure Functions and Web Jobs Tools   16.11.61.6649\r\nAzure Functions and Web Jobs Tools\r\n\r\nC# Tools   3.11.0-2.21301.11+757770cf2b5fcc3ffa83db516f90f0d2366a92f0\r\nC# components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.\r\n\r\nCommon Azure Tools   1.10\r\nProvides common services for use by Azure Mobile Services and Microsoft Azure Tools.\r\n\r\nExtensibility Message Bus   1.2.6 (master@34d6af2)\r\nProvides common messaging-based MEF services for loosely coupled Visual Studio extension components communication and integration.\r\n\r\nIntelliCode Extension   1.0\r\nIntelliCode Visual Studio Extension Detailed Info\r\n\r\nJetBrains ReSharper 2021.1.3   Build 211.0.20210525.202743\r\nJetBrains ReSharper package for Microsoft Visual Studio. For more information about ReSharper, visit http://www.jetbrains.com/resharper. Copyright \u00a9 2021 JetBrains, Inc.\r\n\r\nMicrosoft Azure Tools   2.9\r\nMicrosoft Azure Tools for Microsoft Visual Studio 2019 - v2.9.40609.1\r\n\r\nMicrosoft Continuous Delivery Tools for Visual Studio   0.4\r\nSimplifying the configuration of Azure DevOps pipelines from within the Visual Studio IDE.\r\n\r\nMicrosoft JVM Debugger   1.0\r\nProvides support for connecting the Visual Studio debugger to JDWP compatible Java Virtual Machines\r\n\r\nMicrosoft Library Manager   2.1.113+g422d40002e.RR\r\nInstall client-side libraries easily to any web project\r\n\r\nMicrosoft MI-Based Debugger   1.0\r\nProvides support for connecting Visual Studio to MI compatible debuggers\r\n\r\nMicrosoft Visual Studio Tools for Containers   1.2\r\nDevelop, run, validate your ASP.NET Core applications in the target environment. F5 your application directly into a container with debugging, or CTRL + F5 to edit & refresh your app without having to rebuild the container.\r\n\r\nMono Debugging for Visual Studio   16.10.15 (552afdf)\r\nSupport for debugging Mono processes with Visual Studio.\r\n\r\nNuGet Package Manager   5.11.0\r\nNuGet Package Manager in Visual Studio. For more information about NuGet, visit https://docs.nuget.org/\r\n\r\nProjectServicesPackage Extension   1.0\r\nProjectServicesPackage Visual Studio Extension Detailed Info\r\n\r\nRazor (ASP.NET Core)   16.1.0.2122504+13c05c96ea6bdbe550bd88b0bf6cdddf8cde1725\r\nProvides languages services for ASP.NET Core Razor.\r\n\r\nSQL Server Data Tools   16.0.62105.11120\r\nMicrosoft SQL Server Data Tools\r\n\r\nTypeScript Tools   16.0.30526.2002\r\nTypeScript Tools for Microsoft Visual Studio\r\n\r\nVisual Basic Tools   3.11.0-2.21301.11+757770cf2b5fcc3ffa83db516f90f0d2366a92f0\r\nVisual Basic components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.\r\n\r\nVisual F# Tools   16.10.0-beta.21262.7+1b23bbeda88ea3cb9be9af777f4c99fa8663df81\r\nMicrosoft Visual F# Tools\r\n\r\nVisual Studio Code Debug Adapter Host Package   1.0\r\nInterop layer for hosting Visual Studio Code debug adapters in Visual Studio\r\n\r\nVisual Studio Container Tools Extensions   1.0\r\nView, manage, and diagnose containers within Visual Studio.\r\n\r\nVisual Studio Tools for Containers   1.0\r\nVisual Studio Tools for Containers\r\n\r\nVisual Studio Tools for Unity   4.11.0.0\r\nVisual Studio Tools for Unity\r\n\r\nVisualStudio.DeviceLog   1.0\r\nInformation about my package\r\n\r\nVisualStudio.Foo   1.0\r\nInformation about my package\r\n\r\nVisualStudio.Mac   1.0\r\nMac Extension for Visual Studio\r\n\r\nXamarin   16.11.000.157 (d16-11@0e025f1)\r\nVisual Studio extension to enable development for Xamarin.iOS and Xamarin.Android.\r\n\r\nXamarin Designer   16.10.0.115 (remotes/origin/c750fbf1bde3c720d077f51640fe197c6dac7cbe@c750fbf1b)\r\nVisual Studio extension to enable Xamarin Designer tools in Visual Studio.\r\n\r\nXamarin Templates   16.10.5 (355b57a)\r\nTemplates for building iOS, Android, and Windows apps with Xamarin and Xamarin.Forms.\r\n\r\nXamarin.Android SDK   11.3.99.54 (main/0e5e06f)\r\nXamarin.Android Reference Assemblies and MSBuild support.\r\n    Mono: c633fe9\r\n    Java.Interop: xamarin/java.interop/main@a5ed891\r\n    ProGuard: Guardsquare/proguard/v7.0.1@912d149\r\n    SQLite: xamarin/sqlite/3.35.4@85460d3\r\n    Xamarin.Android Tools: xamarin/xamarin-android-tools/main@683f375\r\n\r\n\r\nXamarin.iOS and Xamarin.Mac SDK   14.20.0.3 (17fdcf569)\r\nXamarin.iOS and Xamarin.Mac Reference Assemblies and MSBuild support.\r\n```",
  "state": "CLOSED",
  "createdAt": "2021-06-28T11:30:10Z",
  "updatedAt": "2024-02-21T14:12:46Z",
  "closedAt": "2022-12-29T19:01:46Z",
  "author": {
    "login": "rob-ack"
  },
  "labels": [
    "bug",
    "needs-more-info",
    "has-repro",
    "stale",
    "closed-by-bot",
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "Team triage: Thanks for the report! It does sound like something has changed, but it's not clear from your description exactly what. Could you share either\r\n\r\n1. A repo that exhibits this problem, or\r\n2. [Binary logs](https://aka.ms/msbuild/binlog) from both preview 4 and preview 5 showing the successful and unsuccessful builds?\r\n\r\n(Please note the warnings about what information is stored in a binary log. If you need to share it confidentially with Microsoft employees only, you can do so by [opening a Visual Studio feedback ticket](https://docs.microsoft.com/visualstudio/ide/feedback-options) and attaching the files to it. If you post the link here we can see it.",
        "createdAt": "2021-06-30T15:18:17Z",
        "updatedAt": "2021-06-30T15:18:17Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "The attached repo solution should enable you to see the bug.\r\n\r\nSteps:\r\n1. After opening the solution you have to publish the CodeGenerator project with the included profile(s). one should be enough\r\n2. after this you have to Pack via VisualStudio UI by right clicking on CodeGeneratorPackage and hit Pack. Make sure the everything is published correctly and that the dlls show up in the package project under generator link-path folder.\r\n\r\ni've also tested this prior to net 6 preview 5 with Visual Studio 16.10.2 with \r\n```\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community>dotnet --version\r\n5.0.301\r\n```\r\nwhere the problem does not exits but i already see warnings like shown in the error description.\r\n\r\n[Repo05.07.2021#6629.zip](https://github.com/dotnet/msbuild/files/6763552/Repo05.07.2021.6629.zip)\r\n",
        "createdAt": "2021-07-05T10:43:31Z",
        "updatedAt": "2021-07-05T15:23:45Z",
        "author": {
          "login": "rob-ack"
        }
      },
      {
        "body": "I also made some tests with different preview versions. I just have tested that the error exists already within net 6 preview 4 and 3.",
        "createdAt": "2021-07-05T11:26:31Z",
        "updatedAt": "2021-07-05T11:26:31Z",
        "author": {
          "login": "rob-ack"
        }
      },
      {
        "body": "This issue is marked as stale because feedback has been requested for 30 days with no response. Please respond within 14 days or this issue will be closed due to inactivity.",
        "createdAt": "2021-08-28T00:00:54Z",
        "updatedAt": "2021-08-28T00:00:54Z",
        "author": {
          "login": "ghost"
        }
      },
      {
        "body": "> This issue is marked as stale because feedback has been requested for 30 days with no response. Please respond within 14 days or this issue will be closed due to inactivity.\r\n\r\nNot quite true. Isn't the bot supposed to figure out that feedback got provided.",
        "createdAt": "2021-08-28T10:06:10Z",
        "updatedAt": "2021-08-28T10:06:10Z",
        "author": {
          "login": "rob-ack"
        }
      },
      {
        "body": "@rob-ack The bot isn't perfect \ud83d\ude09\r\n\r\nthis one's on us to test the repro. cc @v-codyguan ",
        "createdAt": "2021-09-02T18:56:35Z",
        "updatedAt": "2021-09-02T18:56:35Z",
        "author": {
          "login": "benvillalobos"
        }
      },
      {
        "body": "@BenVillalobos We can reproduce this issue on customer's Build VisualStudio16.11.0-pre.2.0+31410.223.\r\n![image](https://user-images.githubusercontent.com/87402472/131986815-6af00491-d459-40d0-ac0e-aa222ded28f4.png)\r\nIf you need repro machine, please feel free to contact us.",
        "createdAt": "2021-09-03T10:01:00Z",
        "updatedAt": "2021-09-03T10:01:00Z",
        "author": {
          "login": "v-codyguan"
        }
      },
      {
        "body": "Team triage:\r\nWe tried out the repro and also tested several other versions. We tried using a global.json to force it to an older SDK (5.0, 3.1.400), and it failed similarly to how the new SDK failed. Were you able to build with the older 6.0 previews or 5.0?",
        "createdAt": "2021-09-09T21:12:19Z",
        "updatedAt": "2021-09-09T21:12:19Z",
        "author": {
          "login": "Forgind"
        }
      },
      {
        "body": "My local machines are building this with 5.0.400-preview.21277.10 and 5.0.301.\r\nMost of my coworkers are using 5.0.400.\r\nOur build server builds it with 5.0.400 on Microsoft (R) Build Engine version 16.11.0+0538acc04 for .NET.\r\n\r\nAll Net SDK versions Prior to NET6 i have tried preview SDK where able to build this.\r\nBut 5.0, 3.1.400 was none of the versions i tried.",
        "createdAt": "2021-09-10T07:21:41Z",
        "updatedAt": "2021-09-10T07:21:55Z",
        "author": {
          "login": "rob-ack"
        }
      },
      {
        "body": "This issue is marked as stale because feedback has been requested for 30 days with no response. Please respond within 14 days or this issue will be closed due to inactivity.",
        "createdAt": "2021-10-11T00:01:18Z",
        "updatedAt": "2021-10-11T00:01:18Z",
        "author": {
          "login": "ghost"
        }
      },
      {
        "body": "This issue was closed due to inactivity. If you can still reproduce this bug, please comment with the requested information, detailed steps to reproduce the problem, or any other notes that might help in the investigation.",
        "createdAt": "2021-11-03T19:00:53Z",
        "updatedAt": "2021-11-03T19:00:53Z",
        "author": {
          "login": "ghost"
        }
      },
      {
        "body": "Assigning this to myself, will try out 5.0.400 on the repro.",
        "createdAt": "2021-11-04T16:36:13Z",
        "updatedAt": "2021-11-04T16:36:13Z",
        "author": {
          "login": "benvillalobos"
        }
      },
      {
        "body": "Not sure if it's my machine, but I'm hitting:\r\n```\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277: Found conflicts between different versions of \"System.Collections.Immutable\" that could not be resolved.\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277: There was a conflict between \"System.Collections.Immutable, Version=1.2.3.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" and \"System.Collections.Immutable, Version=5.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\".\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:     \"System.Collections.Immutable, Version=1.2.3.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" was chosen because it was primary and \"System.Collections.Immutable, Version=5.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" was not.\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:     References which depend on \"System.Collections.Immutable, Version=1.2.3.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" [C:\\Users\\bevillal\\.nuget\\packages\\system.collections.immutable\\1.5.0\\lib\\netstandard2.0\\System.Collections.Immutable.dll].\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:         C:\\Users\\bevillal\\.nuget\\packages\\system.collections.immutable\\1.5.0\\lib\\netstandard2.0\\System.Collections.Immutable.dll\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:           Project file item includes which caused reference \"C:\\Users\\bevillal\\.nuget\\packages\\system.collections.immutable\\1.5.0\\lib\\netstandard2.0\\System.Collections.Immutable.dll\".\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:             C:\\Users\\bevillal\\.nuget\\packages\\system.collections.immutable\\1.5.0\\lib\\netstandard2.0\\System.Collections.Immutable.dll\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:     References which depend on \"System.Collections.Immutable, Version=5.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" [C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\CodeGenerator\\bin\\Release\\linux64\\publish\\System.Collections.Immutable.dll].\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:         C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\CodeGenerator\\bin\\Release\\linux64\\publish\\System.Reflection.Metadata.dll\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:           Project file item includes which caused reference \"C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\CodeGenerator\\bin\\Release\\linux64\\publish\\System.Reflection.Metadata.dll\".\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:             System.Diagnostics.StackTrace\r\n1>C:\\Program Files\\Microsoft Visual Studio\\2022\\Preview\\MSBuild\\Current\\Bin\\amd64\\Microsoft.Common.CurrentVersion.targets(2291,5): warning MSB3277:             netfx.force.conflicts\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\.NETFramework,Version=v4.7.1.AssemblyAttributes.cs(4,46,4,70): error CS0234: The type or namespace name 'TargetFrameworkAttributeAttribute' does not exist in the namespace 'System.Runtime.Versioning' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\.NETFramework,Version=v4.7.1.AssemblyAttributes.cs(4,46,4,70): error CS0234: The type or namespace name 'TargetFrameworkAttribute' does not exist in the namespace 'System.Runtime.Versioning' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(14,30,14,54): error CS0234: The type or namespace name 'AssemblyCompanyAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(14,30,14,54): error CS0234: The type or namespace name 'AssemblyCompanyAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(15,30,15,60): error CS0234: The type or namespace name 'AssemblyConfigurationAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(15,30,15,60): error CS0234: The type or namespace name 'AssemblyConfigurationAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(16,30,16,58): error CS0234: The type or namespace name 'AssemblyFileVersionAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(16,30,16,58): error CS0234: The type or namespace name 'AssemblyFileVersionAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(17,30,17,67): error CS0234: The type or namespace name 'AssemblyInformationalVersionAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(17,30,17,67): error CS0234: The type or namespace name 'AssemblyInformationalVersionAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(18,30,18,54): error CS0234: The type or namespace name 'AssemblyProductAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(18,30,18,54): error CS0234: The type or namespace name 'AssemblyProductAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(19,30,19,52): error CS0234: The type or namespace name 'AssemblyTitleAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(19,30,19,52): error CS0234: The type or namespace name 'AssemblyTitleAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(20,30,20,54): error CS0234: The type or namespace name 'AssemblyVersionAttributeAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(20,30,20,54): error CS0234: The type or namespace name 'AssemblyVersionAttribute' does not exist in the namespace 'System.Reflection' (are you missing an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\.NETFramework,Version=v4.7.1.AssemblyAttributes.cs(4,71,4,101): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\.NETFramework,Version=v4.7.1.AssemblyAttributes.cs(4,103,4,123): error CS0246: The type or namespace name 'FrameworkDisplayName' could not be found (are you missing a using directive or an assembly reference?)\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\.NETFramework,Version=v4.7.1.AssemblyAttributes.cs(4,126,4,148): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(14,55,14,77): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(15,61,15,68): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(16,59,16,69): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(17,68,17,98): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(18,55,18,77): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(19,53,19,75): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\obj\\Debug\\net471\\CodeGeneratorPackage.AssemblyInfo.cs(20,55,20,65): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(10,30,10,60): error CS0012: The type 'Object' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(13,12,13,18): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(13,40,13,44): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(16,12,16,18): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(16,37,16,41): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(19,12,19,18): error CS0518: Predefined type 'System.String' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(19,40,19,44): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(21,21,21,25): error CS0518: Predefined type 'System.Boolean' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(51,54,51,60): error CS0518: Predefined type 'System.Object' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(51,69,51,96): error CS0012: The type 'Object' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(51,69,51,96): error CS0518: Predefined type 'System.Object' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(51,69,51,96): error CS1069: The type name 'UnhandledExceptionEventArgs' could not be found in the namespace 'System'. This type has been forwarded to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e' Consider adding a reference to that assembly.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(51,13,51,17): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(21,26,21,33): error CS0518: Predefined type 'System.Boolean' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(12,6,12,14): error CS0012: The type 'Object' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(12,6,12,14): error CS0518: Predefined type 'System.Object' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(12,6,12,14): error CS0012: The type 'Attribute' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(12,6,12,14): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(15,6,15,14): error CS0012: The type 'Object' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(15,6,15,14): error CS0518: Predefined type 'System.Object' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(15,6,15,14): error CS0012: The type 'Attribute' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(15,6,15,14): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(18,6,18,14): error CS0012: The type 'Object' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(18,6,18,14): error CS0518: Predefined type 'System.Object' is not defined or imported\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(18,6,18,14): error CS0012: The type 'Attribute' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Private.CoreLib, Version=0.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\n1>C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\GeneratorTask.cs(18,6,18,14): error CS0518: Predefined type 'System.Void' is not defined or imported\r\n1>    1 Warning(s)\r\n```\r\n\r\nHaven't had time to dig too deep yet.",
        "createdAt": "2021-11-12T00:24:42Z",
        "updatedAt": "2021-11-12T00:24:42Z",
        "author": {
          "login": "benvillalobos"
        }
      },
      {
        "body": "Do you have a direct reference to System.Collections.Immutable version 1.2.3.0?\r\n\r\nI don't think you should be targeting netstandard2.0; isn't it out of support?",
        "createdAt": "2021-11-12T00:53:11Z",
        "updatedAt": "2021-11-12T00:55:36Z",
        "author": {
          "login": "Forgind"
        }
      },
      {
        "body": "@rob-ack Are you sure it works with your 5.0.301 SDK? I hit your issue regardless of the sdk version. I'm trying to repro (via VS and `dotnet build proj.csproj /t:Pack /bl`) with a global json pointing the sdk down to `5.0.210` and it doesn't succeed. I wonder if the version of VS matters here. I tried it on latest VS 2022 and Version 16.11.8 and got the error.\r\n\r\nI did test 3.1.416 for fun and only got this one warning:\r\n`C:\\Program Files\\dotnet\\sdk\\3.1.416\\Microsoft.Common.CurrentVersion.targets(2084,5): warning MSB3277: Found conflicts between different versions of \"System.Collections.Immutable\" that could not be resolved.  These reference conflicts are listed in the build log when log verbosity is set to detailed. [C:\\Users\\bevillal\\Downloads\\Repo05.07.2021.6629 (2)\\Repo05.07.2021#6629\\#6629\\ComBusCodeGen\\CodeGeneratorPackage.csproj]`",
        "createdAt": "2022-01-20T22:03:53Z",
        "updatedAt": "2022-01-20T22:03:53Z",
        "author": {
          "login": "benvillalobos"
        }
      },
      {
        "body": "This issue is marked as stale because feedback has been requested for 30 days with no response. Please respond within 14 days or this issue will be closed due to inactivity.",
        "createdAt": "2022-12-15T00:02:06Z",
        "updatedAt": "2022-12-15T00:02:06Z",
        "author": {
          "login": "ghost"
        }
      },
      {
        "body": "This issue was closed due to inactivity. If you can still reproduce this bug, please comment with the requested information, detailed steps to reproduce the problem, or any other notes that might help in the investigation.",
        "createdAt": "2022-12-29T19:01:47Z",
        "updatedAt": "2022-12-29T19:01:47Z",
        "author": {
          "login": "ghost"
        }
      }
    ]
  }
}