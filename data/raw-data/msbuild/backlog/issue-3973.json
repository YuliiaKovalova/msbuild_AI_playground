{
  "number": 3973,
  "title": "WriteCodeFragment skips positional parameters with the same value",
  "body": "### Steps to reproduce\r\n\r\nProject file `same_positional_params_test.msbuild`\r\n```xml\r\n<Project>\r\n  <ItemGroup>\r\n    <AssemblyAttribute Include=\"MyProject.MySpecial\">\r\n      <_Parameter1>abc</_Parameter1>\r\n      <_Parameter2>abc</_Parameter2>\r\n    </AssemblyAttribute>\r\n  </ItemGroup>\r\n\r\n  <Target Name=\"Build\">\r\n    <WriteCodeFragment Language=\"C#\" OutputFile=\"MyAssemblyInfo.cs\" AssemblyAttributes=\"@(AssemblyAttribute)\" />\r\n  </Target>\r\n</Project>\r\n```\r\n\r\nCommand line (powershell or cygwin bash)\r\n```\r\n$ dotnet msbuild /bl same_positional_params_test.msbuild\r\nMicrosoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Program Files\\dotnet\\sdk\\2.1.500\\MSBuild.dll -distributedlogger:Microsoft.DotNet.Tools.MSBuild.MSBuildLogger,C:\\Program Files\\dotnet\\sdk\\2.1.500\\dotnet.dll*Microsoft.DotNet.Tools.MSBuild.MSBuildForwardingLogger,C:\\Program Files\\dotnet\\sdk\\2.1.500\\dotnet.dll -maxcpucount -verbosity:m /bl .\\same_positional_params.msbuild\r\n$\r\n$ cat .\\MyAssemblyInfo.cs\r\n//------------------------------------------------------------------------------\r\n// <auto-generated>\r\n//     Generated by the MSBuild WriteCodeFragment class.\r\n// </auto-generated>\r\n//------------------------------------------------------------------------------\r\n\r\nusing System;\r\nusing System.Reflection;\r\n\r\n[assembly: MyProject.MySpecial(\"abc\")]\r\n```\r\n### Expected behavior\r\nThe resulting `MyAssemblyInfo.cs` file should contain two parameters, corresponding to the two supplied in the msbuild file:\r\n```\r\n[assembly: MyProject.MySpecial(\"abc\", \"abc\")]\r\n```\r\n### Actual behavior\r\nThe second parameter is unexpectedly removed.\r\n```\r\n[assembly: MyProject.MySpecial(\"abc\")]\r\n```\r\nNote that if one of the parameters is changed to \"abc2\" (i.e. their values are different), then it works again.\r\n\r\n### Environment data\r\n`msbuild /version` output:\r\n```\r\nMicrosoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Framework\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\n15.9.20.62856\r\n```\r\nOS info: `Windows 10 Pro 1803 17134.407`\r\n\r\nInvoked with dotnet (as shown above):\r\n```\r\n$ dotnet --version\r\n2.1.500\r\n```",
  "state": "CLOSED",
  "createdAt": "2018-11-30T03:30:00Z",
  "updatedAt": "2024-02-21T17:10:13Z",
  "closedAt": "2018-12-12T18:03:54Z",
  "author": {
    "login": "bbycroft"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": []
  }
}