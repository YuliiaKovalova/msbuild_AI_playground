{
  "number": 1815,
  "title": "MSB4018\tThe \"GenerateBindingRedirects\" task failed unexpectedly",
  "body": "I just upgraded my VS.NET 2017 RC4 to release version and started to get this error when building:\r\n\r\n```\r\nMSB4018\tThe \"GenerateBindingRedirects\" task failed unexpectedly.\r\nSystem.IO.DirectoryNotFoundException: Could not find a part of the path 'D:\\Projects\\KYSV3\\Source\\Identity.Management\\Identity.Management.Web.UI\\obj\\Debug\\net452\\win10-x64\\Identity.Management.Web.UI.csproj.Identity.Management.Web.UI.exe.config'.\r\n   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)\r\n   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)\r\n   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)\r\n   at Microsoft.Build.Shared.FileUtilities.OpenWrite(String path, Boolean append, Encoding encoding)\r\n   at Microsoft.Build.Tasks.GenerateBindingRedirects.Execute()\r\n   at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\r\n   at Microsoft.Build.BackEnd.TaskBuilder.<ExecuteInstantiatedTask>d__26.MoveNext()\t\r\n\r\nIdentity.Management.Web.UI\t\r\n\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin\\Microsoft.Common.CurrentVersion.targets\t2042\t\r\n```\r\n\r\nMy csproject:\r\n\r\n```\r\n<Project Sdk=\"Microsoft.NET.Sdk.Web\">\r\n\r\n  <PropertyGroup Label=\"Globals\">\r\n    <SccProjectName>SAK</SccProjectName>\r\n    <SccProvider>SAK</SccProvider>\r\n    <SccAuxPath>SAK</SccAuxPath>\r\n    <SccLocalPath>SAK</SccLocalPath>\r\n  </PropertyGroup>\r\n\r\n  <PropertyGroup>\r\n    <TargetFramework>net452</TargetFramework>\r\n    <RuntimeIdentifier>win10-x64</RuntimeIdentifier>\r\n    <SignAssembly>True</SignAssembly>\r\n    <AssemblyOriginatorKeyFile>kdys.snk</AssemblyOriginatorKeyFile>\r\n  </PropertyGroup>\r\n\r\n  <Target Name=\"PreBuildOperations\" BeforeTargets=\"PreBuildEvent\">\r\n    <Exec Command=\"echo $(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput siliniyor.\" Condition=\"Exists('$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput')\" />\r\n    <RemoveDir Directories=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\" Condition=\"Exists('$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput')\" />\r\n    <Exec Command=\"echo $(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier) siliniyor.\" Condition=\"Exists('$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)')\" />\r\n    <RemoveDir Directories=\"$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)\" Condition=\"Exists('$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)')\" />\r\n  </Target>\r\n\r\n  <Target Name=\"AfterPublishOperations\" AfterTargets=\"AfterPublish\">\r\n    <Exec Command=\"echo appsettings.$(ConfigurationName).json dosya ad\u0131 appsettings.json olarak g\u00fcncelleniyor ve wwwroot'a kopyalan\u0131yor.\" />\r\n    <Delete Files=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\appsettings.json\" />\r\n    <Copy SourceFiles=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\appsettings.$(ConfigurationName).json\" DestinationFiles=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\appsettings.json\" />\r\n    <Delete Files=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\appsettings.$(ConfigurationName).json\" />\r\n    <Copy SourceFiles=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\appsettings.json\" DestinationFiles=\"$(ProjectDir)bin\\$(ConfigurationName)\\PublishOutput\\wwwroot\\appsettings.json\" OverwriteReadOnlyFiles=\"true\" />\r\n  </Target>\r\n\r\n  <Target Name=\"AfterBuildOperations\" AfterTargets=\"AfterBuild\">\r\n    <Exec Command=\"echo appsettings.json wwwroot'a kopyalan\u0131yor.\" />\r\n    <Copy SourceFiles=\"$(ProjectDir)appsettings.json\" DestinationFiles=\"$(ProjectDir)wwwroot\\appsettings.json\" OverwriteReadOnlyFiles=\"true\" />\r\n  </Target>\r\n  \r\n  <PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Debug|AnyCPU'\">\r\n    <PlatformTarget>AnyCPU</PlatformTarget>\r\n  </PropertyGroup>\r\n  \r\n  <ItemGroup>\r\n    <Content Remove=\"wwwroot/appsettings.json\" />\r\n  </ItemGroup>\r\n\r\n  <ItemGroup>\r\n    <None Remove=\"Identity.Management.Web.UI.csproj.vspscc\" />\r\n  </ItemGroup>\r\n\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.AspNetCore\" Version=\"1.1.0\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore.StaticFiles\" Version=\"1.1.0\" />\r\n  </ItemGroup>\r\n\r\n  <ItemGroup>\r\n    <Content Update=\"appsettings.json\">\r\n      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>\r\n    </Content>\r\n  </ItemGroup>\r\n\r\n</Project>\r\n```\r\n\r\n```\r\n>dotnet --info\r\n.NET Command Line Tools (1.0.0)\r\n\r\nProduct Information:\r\n Version:            1.0.0\r\n Commit SHA-1 hash:  e53429feb4\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.14393\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\1.0.0\r\n```",
  "state": "CLOSED",
  "createdAt": "2017-03-08T09:39:06Z",
  "updatedAt": "2024-02-21T17:21:02Z",
  "closedAt": "2017-03-08T11:15:22Z",
  "author": {
    "login": "deastr"
  },
  "labels": [
    "triaged"
  ],
  "assignees": {
    "nodes": []
  },
  "milestone": null,
  "comments": {
    "nodes": [
      {
        "body": "The problem is with this line:\r\n\r\n`<RemoveDir Directories=\"$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)\" Condition=\"Exists('$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)')\" />`\r\n\r\nI am removing the publish output folders before build because the exluded TypeScript files are causing exceptions when building. Changing this line to delete PubTmp instead fixes the problem:\r\n\r\n`<RemoveDir Directories=\"$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)\\PubTmp\" Condition=\"Exists('$(ProjectDir)obj\\$(ConfigurationName)\\net452\\$(RuntimeIdentifier)\\PubTmp')\" />`",
        "createdAt": "2017-03-08T11:07:12Z",
        "updatedAt": "2017-03-08T11:15:15Z",
        "author": {
          "login": "deastr"
        }
      }
    ]
  }
}