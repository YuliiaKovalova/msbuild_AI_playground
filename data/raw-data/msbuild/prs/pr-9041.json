{
  "number": 9041,
  "title": "[main] Update dependencies from dotnet/arcade dotnet/roslyn nuget/nuget.client",
  "body": "This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **Microsoft.SourceLink.GitHub**: from 1.1.0-beta-21480-02 to 8.0.0-beta.23361.2 (parent: Microsoft.DotNet.Arcade.Sdk)\r\n  - **Microsoft.DotNet.XliffTasks**: from 1.0.0-beta.21431.1 to 1.0.0-beta.23360.1 (parent: Microsoft.DotNet.Arcade.Sdk)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n\r\n[marker]: <> (Begin:fc4faec0-9ee6-43b9-bc7a-08da8607f4c7)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: fc4faec0-9ee6-43b9-bc7a-08da8607f4c7\r\n- **Build**: 20230714.2\r\n- **Date Produced**: July 14, 2023 8:47:01 PM UTC\r\n- **Commit**: 60ea5b2eca5af06fc63b250f8669d2c70179b18c\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 8.0.0-beta.23213.1 to 8.0.0-beta.23364.2][9]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 6.0.0-beta.23313.5 to 8.0.0-beta.23364.2][10]\r\n  - **Microsoft.SourceLink.GitHub**: [from 1.1.0-beta-21480-02 to 8.0.0-beta.23361.2][11]\r\n  - **Microsoft.DotNet.XliffTasks**: [from 1.0.0-beta.21431.1 to 1.0.0-beta.23360.1][12]\r\n\r\n[9]: https://github.com/dotnet/arcade/compare/fb14cae30e...60ea5b2eca\r\n[10]: https://github.com/dotnet/arcade/compare/91616785a1...60ea5b2eca\r\n[11]: https://github.com/dotnet/sourcelink/compare/8031e5220b...d2e046aec8\r\n[12]: https://github.com/dotnet/xliff-tasks/compare/bc3233146e...a171b61473\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:fc4faec0-9ee6-43b9-bc7a-08da8607f4c7)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[marker]: <> (Begin:848bf81b-14ec-482f-6736-08da008bd46a)\r\n## From https://github.com/dotnet/roslyn\r\n- **Subscription**: 848bf81b-14ec-482f-6736-08da008bd46a\r\n- **Build**: 20230722.1\r\n- **Date Produced**: July 22, 2023 8:15:17 PM UTC\r\n- **Commit**: 2a594fa2157a734a988f7b5dbac99484781599bd\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.Net.Compilers.Toolset**: [from 4.7.0-3.23361.9 to 4.8.0-1.23372.1][15]\r\n\r\n[15]: https://github.com/dotnet/roslyn/compare/91c9c05370...2a594fa215\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:848bf81b-14ec-482f-6736-08da008bd46a)\r\n\r\n\r\n[marker]: <> (Begin:3fe128a9-5a85-4aba-f7ba-08da008becb5)\r\n## From https://github.com/nuget/nuget.client\r\n- **Subscription**: 3fe128a9-5a85-4aba-f7ba-08da008becb5\r\n- **Build**: 6.8.0.41\r\n- **Date Produced**: July 21, 2023 6:27:34 PM UTC\r\n- **Commit**: 972557a7258d77dbaed3b7a649d2f13a4083f94c\r\n- **Branch**: dev\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **NuGet.Build.Tasks**: [from 6.7.0-rc.111 to 6.8.0-preview.1.41][16]\r\n\r\n[16]: https://github.com/nuget/nuget.client/compare/13f2b6af6e...972557a725\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:3fe128a9-5a85-4aba-f7ba-08da008becb5)\r\n\r\n\r\n\r\n\r\n",
  "state": "MERGED",
  "createdAt": "2023-07-14T16:31:57Z",
  "updatedAt": "2023-07-24T15:16:32Z",
  "closedAt": "2023-07-24T15:16:31Z",
  "mergedAt": "2023-07-24T15:16:31Z",
  "additions": 371,
  "deletions": 383,
  "changedFiles": 65,
  "headRefName": "darc-main-728c3877-ca16-4b74-8771-9afa2816293e",
  "isDraft": false,
  "author": {
    "login": "dotnet-maestro"
  },
  "milestone": null,
  "assignees": {
    "nodes": [
      {
        "login": "GangWang01"
      }
    ]
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "fd93d0c5b97e81eeb0157220ed881cbce7d73e6a",
          "message": "Update dependencies from https://github.com/dotnet/arcade build 20230714.1\n\nMicrosoft.DotNet.Arcade.Sdk , Microsoft.DotNet.XUnitExtensions\n From Version 8.0.0-beta.23213.1 -> To Version 8.0.0-beta.23364.1\n\nDependency coherency updates\n\nMicrosoft.SourceLink.GitHub,Microsoft.DotNet.XliffTasks\n From Version 1.1.0-beta-21480-02 -> To Version 8.0.0-beta.23361.2 (parent: Microsoft.DotNet.Arcade.Sdk",
          "committedDate": "2023-07-14T16:31:53Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "53552f7b86037ee993bf42b4e9ab60117cf78f35",
          "message": "Disable IDE0005\r\n\r\nTo be correctly enabled, this requires documentation files, which are disabled in our repo at the moment.",
          "committedDate": "2023-07-14T17:24:30Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "de0ade575e99627d04a738745c83a5e0c63ea10a",
          "message": "Update dependencies from https://github.com/dotnet/arcade build 20230714.2\n\nMicrosoft.DotNet.Arcade.Sdk , Microsoft.DotNet.XUnitExtensions\n From Version 8.0.0-beta.23213.1 -> To Version 8.0.0-beta.23364.2\n\nDependency coherency updates\n\nMicrosoft.SourceLink.GitHub,Microsoft.DotNet.XliffTasks\n From Version 1.1.0-beta-21480-02 -> To Version 8.0.0-beta.23361.2 (parent: Microsoft.DotNet.Arcade.Sdk",
          "committedDate": "2023-07-17T12:23:13Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "105544163fb3f05c1d8f018634e9bc792b14591e",
          "message": "Merge branch 'main' into darc-main-728c3877-ca16-4b74-8771-9afa2816293e",
          "committedDate": "2023-07-18T02:31:31Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "090eedc32a8634bd298ed08e0ac09aeb7f19d850",
          "message": "Remove explicit xunit.core and xunit.assert package reference because they are referenced implicitly",
          "committedDate": "2023-07-18T08:51:01Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a5fab39a69c6abcb4a1662f2d59daaab9070edd4",
          "message": "Remove the attributes in Xunit.NetCore.Extensions which are included in Microsoft.DotNet.XUnitExtensions",
          "committedDate": "2023-07-18T11:16:08Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "be8489445f3435175f174be51fe183b196b33989",
          "message": "Mark obsolete legacy serialization support APIs using the SYSLIB0051 diagnostic code and suppress SYSLIB0050 warning",
          "committedDate": "2023-07-18T11:26:11Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "950c2b984f8a24dde7ace911c3306fcc3e193a21",
          "message": "Replace Assert.Same with Assert.Equal",
          "committedDate": "2023-07-18T11:51:34Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8aabb06de9b48dbdca867a7ea298da3f19c7417d",
          "message": "Update build tool framework to net8.0 for building using dotnet",
          "committedDate": "2023-07-19T06:14:16Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "868fe490c955c7b2e674b429f74ba60941fca7fc",
          "message": "Work around deprecated Serialization/Deserialization of BinaryFormatter",
          "committedDate": "2023-07-19T11:08:00Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8dadca16ff8e574f91158279aae8fd3611b43072",
          "message": "Use default source-build job template",
          "committedDate": "2023-07-19T14:56:34Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f00f0b0fb368a4d335bb81e1c99bfa25e6ea0a47",
          "message": "Update .vsts-dotnet-ci.yml",
          "committedDate": "2023-07-19T15:03:14Z",
          "author": {
            "name": "Michael Simons",
            "email": "msimons@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "d73c60a77cc53d0461ba4534e487ec70183a22d8",
          "message": "bump source-build-reference-packages",
          "committedDate": "2023-07-19T15:27:15Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ffc6b837ee849156d011a4bd2d6c80e161ba8cc0",
          "message": "Update dependencies from https://github.com/dotnet/roslyn build 20230718.11\n\nMicrosoft.Net.Compilers.Toolset\n From Version 4.7.0-3.23361.9 -> To Version 4.8.0-1.23368.11",
          "committedDate": "2023-07-19T15:38:35Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "42c3a6785cdcfeaedcdb9a133d592effaff57121",
          "message": "Update dependencies from https://github.com/nuget/nuget.client build 6.8.0.35\n\nNuGet.Build.Tasks\n From Version 6.7.0-rc.111 -> To Version 6.8.0-preview.1.35",
          "committedDate": "2023-07-19T15:38:47Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9e12910cf7b5126c136d4deb73a448fa12ba8ca0",
          "message": "Update sourcebuild baselines for Arcade + SDK 8",
          "committedDate": "2023-07-19T17:05:42Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6841e42b55f706d8aecf755968eafa9c1eeb3451",
          "message": "Merge branch 'main' into darc-main-728c3877-ca16-4b74-8771-9afa2816293e",
          "committedDate": "2023-07-19T17:07:54Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c9b7093c58e04b45c1baecefa1b3af4fba472a45",
          "message": "fixup! Update sourcebuild baselines for Arcade + SDK 8",
          "committedDate": "2023-07-19T17:28:03Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8540d24f3d1f1c93a1da69484d99066cd89609ab",
          "message": "fixup! fixup! Update sourcebuild baselines for Arcade + SDK 8",
          "committedDate": "2023-07-19T17:59:48Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7707839b43f4b3c14331450d62aecef50a21d7f6",
          "message": "Minimize STJ reference",
          "committedDate": "2023-07-19T18:00:02Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3598e25fd96ad90e4d1238c6e189808d28d6741e",
          "message": "Suppress CP1002\n\nI think this is being fired because the old package targets net7 and the new one targets net8, causing it to fail to load the old reference. We don't have the references available easily to use PackageValidationReferencePath, so suppressing it.",
          "committedDate": "2023-07-19T19:10:41Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e6e7e45d3239d7fa58a16bb536c68f2bd0df3271",
          "message": "Revert PackageVersion of xunit.console back to eng/Package.props and comment on PackageVersion of xunit.core in individual project",
          "committedDate": "2023-07-20T06:22:25Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2448f4833776a50d3b30e08fdc9e232ac5440a25",
          "message": "Further simplify xunit ref in extensions library",
          "committedDate": "2023-07-20T13:50:28Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7fe4ec473ec0fa659be76682db06ecfc33313fcc",
          "message": "Update dependencies from https://github.com/dotnet/roslyn build 20230722.1\n\nMicrosoft.Net.Compilers.Toolset\n From Version 4.7.0-3.23361.9 -> To Version 4.8.0-1.23372.1",
          "committedDate": "2023-07-24T12:18:29Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2b7d11b9f207bd847d80988ca35438a30c3291cb",
          "message": "Update dependencies from https://github.com/nuget/nuget.client build 6.8.0.41\n\nNuGet.Build.Tasks\n From Version 6.7.0-rc.111 -> To Version 6.8.0-preview.1.41",
          "committedDate": "2023-07-24T12:18:45Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "cc @ViktorHofer ",
        "createdAt": "2023-07-17T16:57:39Z",
        "author": {
          "login": "lewing"
        }
      },
      {
        "body": "@lewing for what specifically the ping? The failures that I saw are because of the SDK upgrade. cc @rainersigwald ",
        "createdAt": "2023-07-17T17:11:18Z",
        "author": {
          "login": "ViktorHofer"
        }
      },
      {
        "body": "@ViktorHofer apologies, this was the wrong pr",
        "createdAt": "2023-07-18T02:49:58Z",
        "author": {
          "login": "lewing"
        }
      },
      {
        "body": "@MichaelSimons can you help to understand what caused the soucebuild failure https://dev.azure.com/dnceng-public/public/_build/results?buildId=344805&view=logs&j=c316b76e-5b95-5e79-2740-62e92f13eebd&t=79bcefda-4e9d-5f89-72b6-b7cfe8a925eb&l=54? Thank you!",
        "createdAt": "2023-07-19T13:57:06Z",
        "author": {
          "login": "GangWang01"
        }
      },
      {
        "body": "> @MichaelSimons can you help to understand what caused the soucebuild failure https://dev.azure.com/dnceng-public/public/_build/results?buildId=344805&view=logs&j=c316b76e-5b95-5e79-2740-62e92f13eebd&t=79bcefda-4e9d-5f89-72b6-b7cfe8a925eb&l=54? Thank you!\r\n\r\nmsbuild is using an EOL container image in it's source-build leg - https://github.com/dotnet/msbuild/blob/main/.vsts-dotnet-ci.yml#L241\r\n\r\nI think this could be changed to `- template: /eng/common/templates/jobs/source-build.yml`  This would eliminate the maintenance of specifying the container.",
        "createdAt": "2023-07-19T14:51:38Z",
        "author": {
          "login": "MichaelSimons"
        }
      },
      {
        "body": "> I think this could be changed to `- template: /eng/common/templates/jobs/source-build.yml` This would eliminate the maintenance of specifying the container.\r\n\r\nSounds great--trying this.",
        "createdAt": "2023-07-19T14:57:31Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "@ViktorHofer For these\r\n\r\n```\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error : API compatibility errors between 'ref/net7.0/Microsoft.Build.Utilities.Core.dll' (D:\\a\\_work\\1\\s\\.packages\\microsoft.build.utilities.core\\17.7.0\\microsoft.build.utilities.core.17.7.0.nupkg) and 'ref/netstandard2.0/Microsoft.Build.Utilities.Core.dll' (D:\\a\\_work\\1\\s\\artifacts\\packages\\Release\\Shipping\\Microsoft.Build.Utilities.Core.17.8.0-ci-23369-01.nupkg): [D:\\a\\_work\\1\\s\\src\\Utilities\\Microsoft.Build.Utilities.csproj]\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error CP1002: Could not find matching assembly: 'System.Runtime.dll' in any of the search directories. [D:\\a\\_work\\1\\s\\src\\Utilities\\Microsoft.Build.Utilities.csproj]\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error : API breaking changes found. If those are intentional, the APICompat suppression file can be updated by rebuilding with '/p:ApiCompatGenerateSuppressionFile=true' [D:\\a\\_work\\1\\s\\src\\Utilities\\Microsoft.Build.Utilities.csproj]\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error : API compatibility errors between 'ref/net7.0/Microsoft.Build.Tasks.Core.dll' (D:\\a\\_work\\1\\s\\.packages\\microsoft.build.tasks.core\\17.7.0\\microsoft.build.tasks.core.17.7.0.nupkg) and 'ref/netstandard2.0/Microsoft.Build.Tasks.Core.dll' (D:\\a\\_work\\1\\s\\artifacts\\packages\\Release\\Shipping\\Microsoft.Build.Tasks.Core.17.8.0-ci-23369-01.nupkg): [D:\\a\\_work\\1\\s\\src\\Tasks\\Microsoft.Build.Tasks.csproj]\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error CP1002: Could not find matching assembly: 'System.Security.Cryptography.dll' in any of the search directories. [D:\\a\\_work\\1\\s\\src\\Tasks\\Microsoft.Build.Tasks.csproj]\r\nD:\\a\\_work\\1\\s\\.dotnet\\sdk\\8.0.100-preview.6.23330.14\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.ApiCompat.ValidatePackage.targets(39,5): error : API breaking changes found. If those are intentional, the APICompat suppression file can be updated by rebuilding with '/p:ApiCompatGenerateSuppressionFile=true' [D:\\a\\_work\\1\\s\\src\\Tasks\\Microsoft.Build.Tasks.csproj]\r\n```\r\n\r\nIs this fallout from the net7->net8 change? I see the net8 versions of those assemblies passed to the task so I assume it's complaining about the net7 version, and I don't think there's a super easy way to provide that.",
        "createdAt": "2023-07-19T19:05:51Z",
        "author": {
          "login": "rainersigwald"
        }
      },
      {
        "body": "> Is this fallout from the net7->net8 change? I see the net8 versions of those assemblies passed to the task so I assume it's complaining about the net7 version, and I don't think there's a super easy way to provide that.\r\n\r\nI'm not sure without spending more time on this. I would suggest to not block on this meanwhile. I probably won't have cycles today or tomorrow and will then be out next week. I will take a note though to make sure to follow-up on this.",
        "createdAt": "2023-07-20T15:46:12Z",
        "author": {
          "login": "ViktorHofer"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "This resulted in the error `##[error](NETCORE_ENGINEERING_TELEMETRY=Build) Unable to find arcade sdk logger assembly.` It seems not correct.\r\n",
              "createdAt": "2023-07-18T14:18:54Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "GangWang01"
              }
            },
            {
              "body": "The files under `eng/common` are part of Arcade and should be self-consistent with the packages that are being referenced. What problem did this cause?",
              "createdAt": "2023-07-18T14:32:53Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "This caused the build failure as mentioned above using stage1 bootstrap. Refer to https://dev.azure.com/dnceng-public/public/_build/results?buildId=343349&view=logs&j=20125c81-7edb-551b-693a-61efae016b74&t=7ce25265-aabe-59d3-d73c-06619cfcc3c4&l=128.",
              "createdAt": "2023-07-19T06:27:49Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "GangWang01"
              }
            },
            {
              "body": "Updating build tool framework to net8.0 when buiding with dotnet could resolve the problem.",
              "createdAt": "2023-07-19T07:41:07Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "GangWang01"
              }
            },
            {
              "body": "It seems to be working now--I think because `$buildTool.Framework` is `net8.0` so lines 760/761 do the job.",
              "createdAt": "2023-07-19T20:17:52Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "Yes, you are right. ",
              "createdAt": "2023-07-20T01:49:27Z",
              "path": "eng/common/tools.ps1",
              "diffHunk": "@@ -743,8 +763,8 @@ function MSBuild() {\n       (Join-Path $basePath (Join-Path netcoreapp2.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.ArcadeLogging.dll')),\n       (Join-Path $basePath (Join-Path netcoreapp3.1 'Microsoft.DotNet.Arcade.Sdk.dll'))\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n-      (Join-Path $basePath (Join-Path net8.0 'Microsoft.DotNet.Arcade.Sdk.dll'))\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.ArcadeLogging.dll')),\n+      (Join-Path $basePath (Join-Path net7.0 'Microsoft.DotNet.Arcade.Sdk.dll'))",
              "author": {
                "login": "GangWang01"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "```suggestion\r\n- template: /eng/common/templates/jobs/source-build.yml\r\n```",
              "createdAt": "2023-07-19T15:01:50Z",
              "path": ".vsts-dotnet-ci.yml",
              "diffHunk": "@@ -235,7 +235,3 @@ jobs:\n     condition: always()\n \n - template: /eng/common/templates/job/source-build.yml",
              "author": {
                "login": "MichaelSimons"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "@MichaelSimons is there by chance a good way to tell the infrastructure that in sourcebuild-for-netcore mode I want the \"current\" versions of all this stuff? I thought that was what the lists in `Versions.Details.xml` was all about, but maybe it doesn't apply in single-repo sourcebuild mode?",
              "createdAt": "2023-07-19T17:48:50Z",
              "path": "eng/SourceBuildPrebuiltBaseline.xml",
              "diffHunk": "@@ -5,39 +5,12 @@\n   <IgnorePatterns>\n     <UsagePattern IdentityGlob=\"Microsoft.SourceBuild.Intermediate.*/*\" />\n \n-    <!-- These dependencies are a result of building for netframework TFMs. These are filtered out\n-         in full source-build, and would be filtered out if msbuild was using an 8.0 arcade + 8.0 SDK -->\n-         <UsagePattern IdentityGlob=\"Microsoft.NETFramework.ReferenceAssemblies/*1.0.3*\" />\n-         <UsagePattern IdentityGlob=\"Microsoft.NETFramework.ReferenceAssemblies.net472/*1.0.3*\" />\n-\n-    <!-- Baseline 7.0 dependencies until msbuild targets net8 and uses a net8 arcade, SBRP, etc.\n-         These cannot be added to 7.0 SBRP, because they would are produced in the 7.0 build. -->\n-    <UsagePattern IdentityGlob=\"Microsoft.Bcl.AsyncInterfaces/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"Microsoft.Win32.SystemEvents/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.CodeDom/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Collections.Immutable/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Configuration.ConfigurationManager/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Diagnostics.EventLog/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Drawing.Common/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Formats.Asn1/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Reflection.Metadata/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Reflection.MetadataLoadContext/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Resources.Extensions/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Cryptography.Pkcs/*7.0.2*\" />\n     <UsagePattern IdentityGlob=\"System.Security.Cryptography.ProtectedData/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Cryptography.Xml/*7.0.1*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Permissions/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Text.Encoding.CodePages/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Text.Encodings.Web/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Text.Json/*7.0.3*\" />",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "No there isn't.  We do have two issues on our backlog that would reduce if not eliminate these repo specific prebuilts - https://github.com/dotnet/source-build/issues/3562 and https://github.com/dotnet/source-build/issues/3479",
              "createdAt": "2023-07-20T15:43:00Z",
              "path": "eng/SourceBuildPrebuiltBaseline.xml",
              "diffHunk": "@@ -5,39 +5,12 @@\n   <IgnorePatterns>\n     <UsagePattern IdentityGlob=\"Microsoft.SourceBuild.Intermediate.*/*\" />\n \n-    <!-- These dependencies are a result of building for netframework TFMs. These are filtered out\n-         in full source-build, and would be filtered out if msbuild was using an 8.0 arcade + 8.0 SDK -->\n-         <UsagePattern IdentityGlob=\"Microsoft.NETFramework.ReferenceAssemblies/*1.0.3*\" />\n-         <UsagePattern IdentityGlob=\"Microsoft.NETFramework.ReferenceAssemblies.net472/*1.0.3*\" />\n-\n-    <!-- Baseline 7.0 dependencies until msbuild targets net8 and uses a net8 arcade, SBRP, etc.\n-         These cannot be added to 7.0 SBRP, because they would are produced in the 7.0 build. -->\n-    <UsagePattern IdentityGlob=\"Microsoft.Bcl.AsyncInterfaces/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"Microsoft.Win32.SystemEvents/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.CodeDom/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Collections.Immutable/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Configuration.ConfigurationManager/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Diagnostics.EventLog/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Drawing.Common/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Formats.Asn1/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Reflection.Metadata/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Reflection.MetadataLoadContext/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Resources.Extensions/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Cryptography.Pkcs/*7.0.2*\" />\n     <UsagePattern IdentityGlob=\"System.Security.Cryptography.ProtectedData/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Cryptography.Xml/*7.0.1*\" />\n-    <UsagePattern IdentityGlob=\"System.Security.Permissions/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Text.Encoding.CodePages/*7.0.0*\" />\n-    <UsagePattern IdentityGlob=\"System.Text.Encodings.Web/*7.0.0*\" />\n     <UsagePattern IdentityGlob=\"System.Text.Json/*7.0.3*\" />",
              "author": {
                "login": "MichaelSimons"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "@GangWang01 this is a clever workaround. But please comment it since you're not _supposed_ to put PackageVersion items in individual projects :)",
              "createdAt": "2023-07-19T20:33:52Z",
              "path": "src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj",
              "diffHunk": "@@ -7,6 +7,7 @@\n     <IsTestProject>false</IsTestProject><!-- while this project references xunit it isn't itself a test -->\n   </PropertyGroup>\n   <ItemGroup>\n+    <PackageVersion Include=\"xunit.core\" Version=\"$(XUnitVersion)\" />\n     <PackageReference Include=\"xunit.core\" />",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "Turns out it's possible to simplify this to a single element by using `VersionOverride` instead, so I did that + modified the comment with @ViktorHofer's feedback.",
              "createdAt": "2023-07-20T13:52:51Z",
              "path": "src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj",
              "diffHunk": "@@ -7,6 +7,7 @@\n     <IsTestProject>false</IsTestProject><!-- while this project references xunit it isn't itself a test -->\n   </PropertyGroup>\n   <ItemGroup>\n+    <PackageVersion Include=\"xunit.core\" Version=\"$(XUnitVersion)\" />\n     <PackageReference Include=\"xunit.core\" />",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "```suggestion\r\n    <!-- Implicit reference to xunit.core and xunit.assert in test projects by the Arcade SDK causes it's not able to put PackageVersion in .props file. -->\r\n```",
              "createdAt": "2023-07-20T07:24:29Z",
              "path": "src/Xunit.NetCore.Extensions/Xunit.NetCore.Extensions.csproj",
              "diffHunk": "@@ -7,6 +7,7 @@\n     <IsTestProject>false</IsTestProject><!-- while this project references xunit it isn't itself a test -->\n   </PropertyGroup>\n   <ItemGroup>\n+    <!-- Implicit reference to xunit.core and xunit.assert in the test project by .NET SDK causes it's not able to put PackageVersion in .props file. -->",
              "author": {
                "login": "ViktorHofer"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "Can we disable the affected unit tests instead? To make sure there are not other cases we are not tracking currently",
              "createdAt": "2023-07-24T07:22:10Z",
              "path": "Directory.Build.props",
              "diffHunk": "@@ -43,6 +43,14 @@\n   <PropertyGroup>\n     <GenerateNeutralResourcesLanguageAttribute>false</GenerateNeutralResourcesLanguageAttribute>\n \n+    <!--\n+      Serialization/Deserialization of BinaryFormatter throws out System.NotSupportedException with latest .NET.\n+      To work around temporarily add this property. The issues below are tracking this problem.\n+      https://github.com/dotnet/msbuild/issues/9051\n+      https://github.com/dotnet/msbuild/issues/8823\n+    -->\n+    <EnableUnsafeBinaryFormatterSerialization>true</EnableUnsafeBinaryFormatterSerialization>",
              "author": {
                "login": "JanKrivanek"
              }
            },
            {
              "body": "Not as part of this PR, please!",
              "createdAt": "2023-07-24T13:48:06Z",
              "path": "Directory.Build.props",
              "diffHunk": "@@ -43,6 +43,14 @@\n   <PropertyGroup>\n     <GenerateNeutralResourcesLanguageAttribute>false</GenerateNeutralResourcesLanguageAttribute>\n \n+    <!--\n+      Serialization/Deserialization of BinaryFormatter throws out System.NotSupportedException with latest .NET.\n+      To work around temporarily add this property. The issues below are tracking this problem.\n+      https://github.com/dotnet/msbuild/issues/9051\n+      https://github.com/dotnet/msbuild/issues/8823\n+    -->\n+    <EnableUnsafeBinaryFormatterSerialization>true</EnableUnsafeBinaryFormatterSerialization>",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      }
    ]
  }
}