{
  "number": 10806,
  "title": "[vs17.0] Update dependencies from dotnet/arcade",
  "body": "This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3489d06b-0080-41cb-90d4-d06d1151ad0a)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 3489d06b-0080-41cb-90d4-d06d1151ad0a\r\n- **Build**: 20241014.4\r\n- **Date Produced**: October 14, 2024 6:46:42 PM UTC\r\n- **Commit**: 87e1f2ac110e91c8c15389525fd567a9147105b0\r\n- **Branch**: refs/heads/release/6.0\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Arcade.Sdk**: [from 6.0.0-beta.24508.2 to 6.0.0-beta.24514.4][2]\r\n  - **Microsoft.DotNet.XUnitExtensions**: [from 6.0.0-beta.24508.2 to 6.0.0-beta.24514.4][2]\r\n\r\n[2]: https://github.com/dotnet/arcade/compare/bb06ac242c...87e1f2ac11\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:3489d06b-0080-41cb-90d4-d06d1151ad0a)\r\n\r\n\r\n\r\n\r\n\r\n",
  "state": "CLOSED",
  "createdAt": "2024-10-14T13:02:14Z",
  "updatedAt": "2024-10-21T14:54:40Z",
  "closedAt": "2024-10-21T14:54:40Z",
  "mergedAt": null,
  "additions": 564,
  "deletions": 392,
  "changedFiles": 46,
  "headRefName": "darc-vs17.0-3a8cac4c-0a53-4f4e-9fff-324b322ba550",
  "isDraft": false,
  "author": {
    "login": "dotnet-maestro"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "15835f8491c65c0aefed1a2cba65a25b3170b003",
          "message": "Bump System.Formats.Asn1 to 8.0.1",
          "committedDate": "2024-09-30T08:38:26Z",
          "author": {
            "name": "Gang Wang",
            "email": "v-gaw@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e7b477e3a43ce64b6f3b16744ca6e8bcad0cd446",
          "message": "Update dependencies from https://github.com/dotnet/arcade build 20241008.2\n\nMicrosoft.DotNet.Arcade.Sdk , Microsoft.DotNet.XUnitExtensions\n From Version 6.0.0-beta.24176.9 -> To Version 6.0.0-beta.24508.2",
          "committedDate": "2024-10-14T13:02:10Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e00f805494da550f11b100f2225ab0c8edc76d33",
          "message": "Fixed the package version, added explicit references and Darc dependency",
          "committedDate": "2024-10-16T12:07:54Z",
          "author": {
            "name": "MichalPavlik",
            "email": "michalpavlik@outlook.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7a49e0782aa3f0247b159ab7575a12cc8bd2522f",
          "message": "Merge remote-tracking branch 'origin/exp/gaw/cg-fix17.0' into darc-vs17.0-3a8cac4c-0a53-4f4e-9fff-324b322ba550",
          "committedDate": "2024-10-16T14:22:46Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "4a31004c938b5a81388df5575d1132571df53db8",
          "message": "bump System.Text.Json",
          "committedDate": "2024-10-16T15:07:44Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "10d13beae0a16ea95fbb66ad62b607c81feb45f2",
          "message": "bump other packages",
          "committedDate": "2024-10-16T15:59:41Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e67792413134997fb248f9ef3b2912692f6122a3",
          "message": "Update dependencies from https://github.com/dotnet/arcade build 20241014.4\n\nMicrosoft.DotNet.Arcade.Sdk , Microsoft.DotNet.XUnitExtensions\n From Version 6.0.0-beta.24508.2 -> To Version 6.0.0-beta.24514.4",
          "committedDate": "2024-10-21T13:17:53Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "Hello! I noticed that you're targeting one of our servicing branches. Please consider updating the version.\n<!-- Policy app identification https://img.shields.io/static/v1?label=PullRequestIssueManagement. -->",
        "createdAt": "2024-10-14T13:02:44Z",
        "author": {
          "login": "dotnet-policy-service"
        }
      },
      {
        "body": "/azp run",
        "createdAt": "2024-10-17T11:27:19Z",
        "author": {
          "login": "GangWang01"
        }
      },
      {
        "body": "<samp>\nAzure Pipelines successfully started running 1 pipeline(s).<br>\r\n\n</samp>",
        "createdAt": "2024-10-17T11:27:29Z",
        "author": {
          "login": "azure-pipelines"
        }
      },
      {
        "body": "Pipeline failed on Windows Full/Windows Full release with the error.\r\n```\r\n.dotnet\\sdk\\6.0.135\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.targets(172,5): error MSB4018: (NETCORE_ENGINEERING_TELEMETRY=Build) The \"GenerateDepsFile\" task failed unexpectedly.\r\nSystem.IO.FileNotFoundException: Could not load file or assembly 'System.Text.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' or one of its dependencies. The system cannot find the file specified.\r\nFile name: 'System.Text.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'\r\n   at Microsoft.Extensions.DependencyModel.DependencyContextWriter.Write(DependencyContext context, Stream stream)\r\n   at Microsoft.NET.Build.Tasks.GenerateDepsFile.WriteDepsFile(String depsFilePath)\r\n   at Microsoft.NET.Build.Tasks.GenerateDepsFile.ExecuteCore()\r\n   at Microsoft.NET.Build.Tasks.TaskBase.Execute()\r\n   at Microsoft.NET.Build.Tasks.TaskWithAssemblyResolveHooks.Execute()\r\n   at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\r\n   at Microsoft.Build.BackEnd.TaskBuilder.<ExecuteInstantiatedTask>d__26.MoveNext()\r\n\r\nWRN: Assembly binding logging is turned OFF.\r\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\r\nNote: There is some performance penalty associated with assembly bind failure logging.\r\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\r\n```\r\n\r\nIt was narrow down that dotnet 6.0.135 updated by dotnet/arcade caused the issue. It was OK with dotnet 6.0.133 which is right previous version.\r\nI found that the dependency \"Microsoft.Extensions.DependencyModel\" used by SDK tasks project\r\nhttps://github.com/dotnet/sdk/blob/98413869f424087a58db7059bb23ad0ee801fb04/src/Tasks/Microsoft.NET.Build.Tasks/Microsoft.NET.Build.Tasks.csproj#L52\r\nis 6.0.0 for dotnet 6.0.135. This version of the dependency\r\n[NuGet Gallery | Microsoft.Extensions.DependencyModel 6.0.0](https://www.nuget.org/packages/Microsoft.Extensions.DependencyModel/6.0.0#dependencies-body-tab)\r\ndepends on System.Text.Json (>= 6.0.0), while sdk uses System.Text.Json 5.0.2. This is probably the root cause, but not 100% sure.",
        "createdAt": "2024-10-21T07:34:27Z",
        "author": {
          "login": "GangWang01"
        }
      },
      {
        "body": "> Pipeline failed on Windows Full/Windows Full release with the error.\r\n> \r\n> ```\r\n> .dotnet\\sdk\\6.0.135\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.targets(172,5): error MSB4018: (NETCORE_ENGINEERING_TELEMETRY=Build) The \"GenerateDepsFile\" task failed unexpectedly.\r\n> System.IO.FileNotFoundException: Could not load file or assembly 'System.Text.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' or one of its dependencies. The system cannot find the file specified.\r\n> File name: 'System.Text.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'\r\n>    at Microsoft.Extensions.DependencyModel.DependencyContextWriter.Write(DependencyContext context, Stream stream)\r\n>    at Microsoft.NET.Build.Tasks.GenerateDepsFile.WriteDepsFile(String depsFilePath)\r\n>    at Microsoft.NET.Build.Tasks.GenerateDepsFile.ExecuteCore()\r\n>    at Microsoft.NET.Build.Tasks.TaskBase.Execute()\r\n>    at Microsoft.NET.Build.Tasks.TaskWithAssemblyResolveHooks.Execute()\r\n>    at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\r\n>    at Microsoft.Build.BackEnd.TaskBuilder.<ExecuteInstantiatedTask>d__26.MoveNext()\r\n> \r\n> WRN: Assembly binding logging is turned OFF.\r\n> To enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\r\n> Note: There is some performance penalty associated with assembly bind failure logging.\r\n> To turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\r\n> ```\r\n> \r\n> It was narrow down that dotnet 6.0.135 updated by dotnet/arcade caused the issue. It was OK with dotnet 6.0.133 which is right previous version. I found that the dependency \"Microsoft.Extensions.DependencyModel\" used by SDK tasks project https://github.com/dotnet/sdk/blob/98413869f424087a58db7059bb23ad0ee801fb04/src/Tasks/Microsoft.NET.Build.Tasks/Microsoft.NET.Build.Tasks.csproj#L52 is 6.0.0 for dotnet 6.0.135. This version of the dependency [NuGet Gallery | Microsoft.Extensions.DependencyModel 6.0.0](https://www.nuget.org/packages/Microsoft.Extensions.DependencyModel/6.0.0#dependencies-body-tab) depends on System.Text.Json (>= 6.0.0), while sdk uses System.Text.Json 5.0.2. This is probably the root cause, but not 100% sure.\r\n\r\n@rainersigwald , could you please advice here? should we attempt to resolve this issue?",
        "createdAt": "2024-10-21T11:34:22Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": []
  }
}