{
  "number": 8893,
  "title": "[main] Update dependencies from dotnet/source-build-reference-packages",
  "body": "This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:a86f9f27-acb1-4618-eed7-08db6775ce49)\r\n## From https://github.com/dotnet/source-build-reference-packages\r\n- **Subscription**: a86f9f27-acb1-4618-eed7-08db6775ce49\r\n- **Build**: 20230731.3\r\n- **Date Produced**: July 31, 2023 6:18:53 PM UTC\r\n- **Commit**: 5a1492557c8717b428b69fd4b7ca8c91d5d18cd3\r\n- **Branch**: refs/heads/main\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Updates**:\r\n  - **Microsoft.SourceBuild.Intermediate.source-build-reference-packages**: [from 8.0.0-alpha.1.23368.2 to 8.0.0-alpha.1.23381.3][51]\r\n\r\n[51]: https://github.com/dotnet/source-build-reference-packages/compare/529fbc2aad...5a1492557c\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n\r\n[marker]: <> (End:a86f9f27-acb1-4618-eed7-08db6775ce49)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n[DependencyUpdate]: <> (Begin)\r\n\r\n- **Coherency Updates**:\r\n  - **Microsoft.SourceLink.GitHub**: from 1.1.0-beta-21480-02 to 8.0.0-beta.23211.2 (parent: Microsoft.DotNet.Arcade.Sdk)\r\n  - **Microsoft.DotNet.XliffTasks**: from 1.0.0-beta.21431.1 to 1.0.0-beta.23211.1 (parent: Microsoft.DotNet.Arcade.Sdk)\r\n\r\n[DependencyUpdate]: <> (End)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
  "state": "MERGED",
  "createdAt": "2023-06-15T15:43:43Z",
  "updatedAt": "2023-08-01T13:44:06Z",
  "closedAt": "2023-08-01T13:44:05Z",
  "mergedAt": "2023-08-01T13:44:05Z",
  "additions": 4,
  "deletions": 9,
  "changedFiles": 2,
  "headRefName": "darc-main-1aa1c615-64ec-4219-94e9-25360e4937f9",
  "isDraft": false,
  "author": {
    "login": "dotnet-maestro"
  },
  "milestone": {
    "title": "VS 17.8"
  },
  "assignees": {
    "nodes": []
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "21bedc7e4d0cc2d3b91b2ae11b2d2a615bfb50f8",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230615.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23315.1",
          "committedDate": "2023-06-15T15:43:39Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9558d25e3d91f19975e684f15e5a0979bd0df446",
          "message": "Remove clashing reference",
          "committedDate": "2023-06-15T16:22:08Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3ccbdece97f0a742920caabe274e570ca1f927e3",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230616.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23316.2",
          "committedDate": "2023-06-17T13:42:06Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ed2d8ab1773e40039e7716d5a446e6d608f6cb3a",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230619.4\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23319.4",
          "committedDate": "2023-06-20T13:38:29Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "24dfc16a57c53c048978646f15396ee07bba54cf",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230619.4\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23319.4",
          "committedDate": "2023-06-22T12:54:45Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "72b14942b6b22e948354a64d191176bf953333c5",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230623.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23323.1",
          "committedDate": "2023-06-24T13:22:58Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a8ac95b2e7c9dbf1ac6979117851ea00ec267dcf",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230626.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23326.1",
          "committedDate": "2023-06-28T13:30:57Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0584fa12f8965f73ea94f7b751797ac247a29e9e",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230628.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23328.2",
          "committedDate": "2023-06-29T13:10:54Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5f68de8bdfb5f4fe2c2ff4ba06dda3fea1a49566",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230629.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23329.1",
          "committedDate": "2023-06-30T13:05:44Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2bfa6c4b86195f82073975dc2e7b25730d7a5556",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230630.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23330.2",
          "committedDate": "2023-07-01T13:03:45Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e42c11e31c8a444055d998f4bd2594ea007f9f44",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230705.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23355.1",
          "committedDate": "2023-07-06T12:52:19Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2e71f004d33c64e268af153fc972ca12b6bf7c69",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230706.4\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23356.4",
          "committedDate": "2023-07-07T13:05:32Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "df0594f604283ca999df8554c3c5aa600c67b325",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230710.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23360.2",
          "committedDate": "2023-07-11T13:06:21Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ed169c634f11ccedd469d273584c90c0941f8ad8",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230711.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23361.1",
          "committedDate": "2023-07-12T13:09:51Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0937bf94ed1eb079eb8c7f0935471aba457b9a6d",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230712.3\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23362.3",
          "committedDate": "2023-07-13T13:06:47Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ea5ba8d880f48e5a0a9800eaa355164f5d184e7f",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230712.3\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23362.3\n\nDependency coherency updates\n\nMicrosoft.SourceLink.GitHub,Microsoft.DotNet.XliffTasks\n From Version 1.1.0-beta-21480-02 -> To Version 8.0.0-beta.23211.2 (parent: Microsoft.DotNet.Arcade.Sdk",
          "committedDate": "2023-07-15T12:30:07Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5d4a07716cb15a60b93e9fbae3cb2fba3299505b",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230718.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23368.2",
          "committedDate": "2023-07-20T12:33:23Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "53cfe30f989b97c96b77931b1e5c94aa68ed86e6",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230721.1\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 7.0.0-alpha.1.23219.1 -> To Version 8.0.0-alpha.1.23371.1",
          "committedDate": "2023-07-22T12:30:17Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7788828c520bc10761097f7b7f2ed6395d710a8c",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230724.3\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 8.0.0-alpha.1.23368.2 -> To Version 8.0.0-alpha.1.23374.3",
          "committedDate": "2023-07-25T12:25:47Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "606803328e608c4b3a85dcae5f92404f33d897b9",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230728.3\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 8.0.0-alpha.1.23368.2 -> To Version 8.0.0-alpha.1.23378.3",
          "committedDate": "2023-07-29T12:53:46Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ec32d45148ce7f1e272b91b12ad81fb6a0cd5153",
          "message": "Merge branch 'main' into darc-main-1aa1c615-64ec-4219-94e9-25360e4937f9",
          "committedDate": "2023-08-01T11:20:45Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "95473390+YuliiaKovalova@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "02e0a9f1172c313dd917661fabf18e7018521e0d",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20230731.3\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 8.0.0-alpha.1.23368.2 -> To Version 8.0.0-alpha.1.23381.3",
          "committedDate": "2023-08-01T12:56:22Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "This is addressing https://github.com/dotnet/source-build/issues/3494 (and by extension our false positive CG issue: https://devdiv.visualstudio.com/DevDiv/_componentGovernance/DotNet-msbuild-Trusted/alert/7824363?typeId=7350956&pipelinesTrackingFilter=0)",
        "createdAt": "2023-06-15T15:49:21Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "Blocked by:\r\n* ~~https://github.com/dotnet/sdk/issues/33388#issuecomment-1597288214~~\r\n* https://github.com/dotnet/source-build/discussions/3525 - this needs update to arcade8 (https://github.com/dotnet/msbuild/pull/8672) ",
        "createdAt": "2023-06-19T16:23:21Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "Transfering discussion from https://github.com/dotnet/sdk/issues/33388, per the last comment:\r\n\r\n> While I think this issue should be fixed, I don't think the msbuild issue requires it.\r\n> \r\n> msbuild references System.Configuration.ConfigurationManager 7.0.0 in it's repo source-build leg but not full product source-build because of the [corresponding entry in the versions.details.xml file](https://github.com/dotnet/msbuild/blob/main/eng/Version.Details.xml#L11). In the product build, this reference cannot be satisfied by a reference package as indicated in [dotnet/msbuild#8818](https://github.com/dotnet/msbuild/pull/8818). This is to say the repo level source-build and product source-build are referencing different versions. If this difference cannot be resolved, it would be appropriate to add the package to the prebuilt baseline. We should not be adding SBRPs that are only used in repo builds.\r\n> \r\n> We should discuss in [dotnet/msbuild#8893](https://github.com/dotnet/msbuild/pull/8893).\r\n> \r\n> cc @mmitche, @oleksandr-didyk\r\n\r\n\r\n@MichaelSimons I very appreciate your detailed look and help! I appologize, but I have hard time understanding the above message. Are you saying that MSBuild references ConfigurationManager 7.0.0, but SRBP v8 have a version 8.x, so either MSBuild should reference CM 8.x or add v 7.0.0 to it's source pre-builds? As I believe we cannot reference 8.x packages due to the need to be inserted to VS. As for the other option - I belieive this is already hapening: https://github.com/dotnet/msbuild/blob/main/eng/SourceBuildPrebuiltBaseline.xml#L19\r\n\r\nBut with my very shallow knowledge of SourceBuild and MSBuild build I might be just misunderstanding you - in such case can you try to elaborate further or point me to info source where I can learn about the rootcause of this issue?\r\n\r\n",
        "createdAt": "2023-06-20T11:56:19Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "> Are you saying that MSBuild references ConfigurationManager 7.0.0, but SRBP v8 have a version 8.x, \r\n\r\nThe microsoft build and the repo level source-build CI references 7.0.0, but in the full product source build, the 8.x version is referenced.\r\n\r\n> so either MSBuild should reference CM 8.x or add v 7.0.0 to it's source pre-builds? As I believe we cannot reference 8.x packages due to the need to be inserted to VS.\r\n\r\nI figured that was the case.\r\n\r\nSince this is already in the prebuilt baseline, then there shouldn't be anything else needed for ConfigurationManager.",
        "createdAt": "2023-06-20T14:36:00Z",
        "author": {
          "login": "MichaelSimons"
        }
      },
      {
        "body": "\r\n> Since this is already in the prebuilt baseline, then there shouldn't be anything else needed for ConfigurationManager.\r\n\r\nHmm - I however still see the missing ConfigurationManager types errors in the sourcebuild binlong (`/__w/1/s/artifacts/source-build/self/src/src/Shared/ToolsetElement.cs(665,10): error CS0616: 'ConfigurationProperty' is not an attribute class [/__w/1/s/artifacts/source-build/self/src/src/Build/Microsoft.Build.csproj]` etc.)\r\n\r\nI know we should update to arcade8 to tackle the other issue (clashing types from `microsoft.win32.registry`) - but I'd like to have the ConfigurationManager issue sorted as well, as it seems to independent on arcade version",
        "createdAt": "2023-06-20T16:12:53Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "Where are you seeing the CS0616 error?  I am not seeing in the output of the source-build leg in this PR.",
        "createdAt": "2023-06-20T18:58:12Z",
        "author": {
          "login": "MichaelSimons"
        }
      },
      {
        "body": "\r\n> Where are you seeing the CS0616 error? I am not seeing in the output of the source-build leg in this PR.\r\n\r\nOh sorry - I haven't noticed there was a recent maestro push that resolved this. It happened only with the SBRP v 8.0.0-alpha.1.23316.2 (run https://github.com/dotnet/msbuild/runs/14343270323)\r\nWith update to 8.0.0-alpha.1.23319.4 it disappeared (run https://github.com/dotnet/msbuild/runs/14405558761)",
        "createdAt": "2023-06-20T19:14:04Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "> With update to 8.0.0-alpha.1.23319.4 it disappeared \r\n\r\nThanks for clarifying, that is what I was expecting.  That package was recently removed because it wasn't being referenced in the product source-build.",
        "createdAt": "2023-06-20T19:15:50Z",
        "author": {
          "login": "MichaelSimons"
        }
      },
      {
        "body": "Once this is fixed - we should remove `System.Security.Cryptography.Pkcs/*7.0.2*` from prebuilds (added by https://github.com/dotnet/msbuild/pull/8903)",
        "createdAt": "2023-06-21T16:57:49Z",
        "author": {
          "login": "JanKrivanek"
        }
      },
      {
        "body": "> Once this is fixed - we should remove `System.Security.Cryptography.Pkcs/*7.0.2*` from prebuilds (added by #8903)\r\n\r\naddressed in scope of https://github.com/dotnet/msbuild/commit/5410bf323451e04e99e79bcffd158e6d8d378149",
        "createdAt": "2023-08-01T12:14:55Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": []
  }
}