{
  "number": 7194,
  "title": "CA1200: Avoid using cref tags with a prefix",
  "body": "Related to #7174\r\nhttps://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/CA1200",
  "state": "MERGED",
  "createdAt": "2022-01-02T01:22:33Z",
  "updatedAt": "2022-03-02T10:54:54Z",
  "closedAt": "2022-03-02T10:54:54Z",
  "mergedAt": "2022-03-02T10:54:54Z",
  "additions": 24,
  "deletions": 29,
  "changedFiles": 11,
  "headRefName": "CA1200",
  "isDraft": false,
  "author": {
    "login": "elachlan"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [
    "merge-when-branch-open"
  ],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "b61f8a55b99c65214182de34664df75e83c8323e",
          "message": "CA1200: Avoid using cref tags with a prefix",
          "committedDate": "2022-01-02T01:21:56Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "41664427ec9e371fd1c2a5c5ef61d35bd54964d9",
          "message": "Update src/Build/Construction/ProjectElementContainer.cs\n\nCo-authored-by: Sam Harwell <sam@tunnelvisionlabs.com>",
          "committedDate": "2022-01-03T00:13:51Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7fa37b212eac5d29982375fb8334d71d8e397579",
          "message": "Update src/Build/Graph/ProjectGraph.cs\n\nCo-authored-by: Sam Harwell <sam@tunnelvisionlabs.com>",
          "committedDate": "2022-01-03T00:14:20Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "141ec75edc2598a8a86a327ad71742375415d042",
          "message": "Update src/Build/Graph/ProjectGraph.cs\n\nCo-authored-by: Sam Harwell <sam@tunnelvisionlabs.com>",
          "committedDate": "2022-01-03T00:14:25Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9d4f418403ee44ff3d4bd40ad23337d7b6f9f221",
          "message": "Changes from review",
          "committedDate": "2022-01-07T08:30:29Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5f1cfd1e972859dafb84cc1459c8aa53828cdbc5",
          "message": "Merge branch 'CA1200' of github.com:elachlan/msbuild into CA1200",
          "committedDate": "2022-01-07T08:30:47Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ca9c5726a6c0cd8417057745d74cd18d35ef287d",
          "message": "Merge branch 'main' into CA1200",
          "committedDate": "2022-01-07T08:34:41Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "d7365dc3d067a419fe549e18184e92434ededc6b",
          "message": "Revert the project file changes and fix the documentation to use up-to-date reference.",
          "committedDate": "2022-01-07T09:17:00Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "993562f99d7e86d2cdbaf94fd1b0607cb04eacee",
          "message": "Merge branch 'CA1200' of github.com:elachlan/msbuild into CA1200",
          "committedDate": "2022-01-07T09:17:32Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "84334e499b0dc9ee691d3b4bbb5863433568b25f",
          "message": "Revert CodeAnalysis.ruleset changes",
          "committedDate": "2022-01-08T00:11:28Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0e7d126c5221d036866069584d621c737481acbf",
          "message": "pull from master",
          "committedDate": "2022-01-08T00:13:01Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3e028e9ab8ac6e9b88cede963d358e7d85888670",
          "message": "enable warning on CA1200",
          "committedDate": "2022-01-08T00:14:17Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "d39c90035b50e273488b49ed66a0c8fdebfd51eb",
          "message": "Fix remaining occurrences of CA1200 violations",
          "committedDate": "2022-01-08T03:47:36Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "bdbe347efa7dbd8e1da2de4694ca0685c659529c",
          "message": "Merge branch 'main' into CA1200",
          "committedDate": "2022-01-10T23:00:04Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b96d8bc42bef716b2f407d91ecd7dd3d7684a42c",
          "message": "Update src/Build/Definition/ProjectCollection.cs\n\nCo-authored-by: Rainer Sigwald <raines@microsoft.com>",
          "committedDate": "2022-01-10T23:33:30Z",
          "author": {
            "name": "Lachlan Ennis",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b5b226bbf94f2170ce90e9bb8b56ade55d8ec3b3",
          "message": "Fix spacing issue",
          "committedDate": "2022-01-10T23:49:30Z",
          "author": {
            "name": "elachlan",
            "email": "2433737+elachlan@users.noreply.github.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "@elachlan There are some suggestions in #7152 that are not in this PR. We could add those here.",
        "createdAt": "2022-01-06T05:30:59Z",
        "author": {
          "login": "Nirmal4G"
        }
      },
      {
        "body": "Is there anything waiting to be done in this?",
        "createdAt": "2022-01-27T00:09:58Z",
        "author": {
          "login": "elachlan"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "I am unsure on this change. Can someone please verify it is correct? `Dictionary{T}` doesn't seem to be a thing.",
              "createdAt": "2022-01-02T01:24:41Z",
              "path": "src/Build/Collections/RetrievableEntryHashSet/HashSet.cs",
              "diffHunk": "@@ -43,7 +43,7 @@ namespace Microsoft.Build.Collections\n {\n     /// <summary>\n     /// Implementation notes:\n-    /// This uses an array-based implementation similar to <see cref=\"T:Dictionary{T}\" />, using a buckets array\n+    /// This uses an array-based implementation similar to <see cref=\"Dictionary{TKey, TValue}\" />, using a buckets array",
              "author": {
                "login": "elachlan"
              }
            },
            {
              "body": "This is correct",
              "createdAt": "2022-01-03T00:00:44Z",
              "path": "src/Build/Collections/RetrievableEntryHashSet/HashSet.cs",
              "diffHunk": "@@ -43,7 +43,7 @@ namespace Microsoft.Build.Collections\n {\n     /// <summary>\n     /// Implementation notes:\n-    /// This uses an array-based implementation similar to <see cref=\"T:Dictionary{T}\" />, using a buckets array\n+    /// This uses an array-based implementation similar to <see cref=\"Dictionary{TKey, TValue}\" />, using a buckets array",
              "author": {
                "login": "sharwell"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "It appears possible to simplify this further.\r\n\r\n```suggestion\r\n        /// during enumeration. See <see cref=\"ProjectElementContainer.RemoveChild(ProjectElement)\"/>.\r\n```",
              "createdAt": "2022-01-03T00:01:38Z",
              "path": "src/Build/Construction/ProjectElementContainer.cs",
              "diffHunk": "@@ -316,7 +316,7 @@ public void RemoveChild(ProjectElement child)\n         /// </summary>\n         /// <remarks>\n         /// It is safe to modify the children in this way\n-        /// during enumeration. See <see cref=\"M:Microsoft.Build.Construction.ProjectElementContainer.RemoveChild(Microsoft.Build.Construction.ProjectElement)\" />.\n+        /// during enumeration. See <see cref=\"Microsoft.Build.Construction.ProjectElementContainer.RemoveChild(Microsoft.Build.Construction.ProjectElement)\" />.",
              "author": {
                "login": "sharwell"
              }
            },
            {
              "body": "Yes, I saw that and wasn't sure if I should fully qualify it or not. But this makes sense.",
              "createdAt": "2022-01-03T00:13:43Z",
              "path": "src/Build/Construction/ProjectElementContainer.cs",
              "diffHunk": "@@ -316,7 +316,7 @@ public void RemoveChild(ProjectElement child)\n         /// </summary>\n         /// <remarks>\n         /// It is safe to modify the children in this way\n-        /// during enumeration. See <see cref=\"M:Microsoft.Build.Construction.ProjectElementContainer.RemoveChild(Microsoft.Build.Construction.ProjectElement)\" />.\n+        /// during enumeration. See <see cref=\"Microsoft.Build.Construction.ProjectElementContainer.RemoveChild(Microsoft.Build.Construction.ProjectElement)\" />.",
              "author": {
                "login": "elachlan"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "```suggestion\r\n        ///     The <see cref=\"CancellationToken\"/> to observe.\r\n```",
              "createdAt": "2022-01-03T00:02:28Z",
              "path": "src/Build/Graph/ProjectGraph.cs",
              "diffHunk": "@@ -351,7 +351,7 @@ public ProjectGraph(ProjectGraphEntryPoint entryPoint, ProjectCollection project\n         ///     on <see cref=\"ProjectInstanceFactoryFunc\" /> for other scenarios.\n         /// </param>\n         /// <param name=\"cancellationToken\">\n-        ///     The <see cref=\"T:System.Threading.CancellationToken\" /> token to observe.\n+        ///     The <see cref=\"System.Threading.CancellationToken\" /> token to observe.",
              "author": {
                "login": "sharwell"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "```suggestion\r\n        ///     The <see cref=\"CancellationToken\"/> to observe.\r\n```",
              "createdAt": "2022-01-03T00:02:37Z",
              "path": "src/Build/Graph/ProjectGraph.cs",
              "diffHunk": "@@ -395,7 +395,7 @@ public ProjectGraph(ProjectGraphEntryPoint entryPoint, ProjectCollection project\n         ///     Number of threads to participate in building the project graph.\n         /// </param>\n         /// <param name=\"cancellationToken\">\n-        ///     The <see cref=\"T:System.Threading.CancellationToken\" /> token to observe.\n+        ///     The <see cref=\"System.Threading.CancellationToken\" /> token to observe.",
              "author": {
                "login": "sharwell"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "This change broke the build and added:\r\n`error NU1702: (NETCORE_ENGINEERING_TELEMETRY=Build) ProjectReference '/home/vsts/work/1/s/src/Deprecated/Engine/Microsoft.Build.Engine.csproj' was resolved using '.NETFramework,Version=v4.7.2' instead of the project target framework '.NETCoreApp,Version=v6.0'. This project may not be fully compatible with your project.`",
              "createdAt": "2022-01-07T08:47:13Z",
              "path": "src/Build/Definition/ProjectCollection.cs",
              "diffHunk": "@@ -26,6 +26,7 @@\n using InvalidProjectFileException = Microsoft.Build.Exceptions.InvalidProjectFileException;\n using LoggerMode = Microsoft.Build.BackEnd.Logging.LoggerMode;\n using ObjectModel = System.Collections.ObjectModel;\n+using Microsoft.Build.BuildEngine;",
              "author": {
                "login": "elachlan"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "@Forgind I had issues with `ToolsetCollection.ToolsVersions` since it was importing a deprecated project. So I tracked down `Microsoft.Build.Evaluation.Toolset` which seems to be the 'new' version?",
              "createdAt": "2022-01-07T09:21:47Z",
              "path": "src/Build/Definition/ProjectCollection.cs",
              "diffHunk": "@@ -432,7 +432,7 @@ public static ProjectCollection GlobalProjectCollection\n         /// This is the Windows file version (specifically the value of the FileVersion\n         /// resource), not necessarily the assembly version.\n         /// If you want the assembly version, use Constants.AssemblyVersion.\n-        /// This is not the <see cref=\"P:Microsoft.Build.BuildEngine.ToolsetCollection.ToolsVersions*\">ToolsetCollection.ToolsVersions</see>.\n+        /// This is not a <see cref=\"Toolset\"/>.",
              "author": {
                "login": "elachlan"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "I think this is the modern equivalent:\r\n\r\n```suggestion\r\n        /// This is not the <see cref=\"Toolset.ToolsVersion\"/>.\r\n```",
              "createdAt": "2022-01-10T23:32:12Z",
              "path": "src/Build/Definition/ProjectCollection.cs",
              "diffHunk": "@@ -434,7 +434,7 @@ public static ProjectCollection GlobalProjectCollection\n         /// This is the Windows file version (specifically the value of the FileVersion\n         /// resource), not necessarily the assembly version.\n         /// If you want the assembly version, use Constants.AssemblyVersion.\n-        /// This is not the <see cref=\"P:Microsoft.Build.BuildEngine.ToolsetCollection.ToolsVersions*\">ToolsetCollection.ToolsVersions</see>.\n+        /// This is not a <see cref=\"Toolset\"/>.",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      }
    ]
  }
}