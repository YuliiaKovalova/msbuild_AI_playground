{
  "number": 9807,
  "title": "Add one job to test if only documents changed",
  "body": "Fixes [#9782](https://github.com/dotnet/msbuild/issues/9782)\r\n\r\n### Context\r\nCurrently workflow runs on every update in the PR and runs the full test on the PR with every update.\r\nHowever we do not need that when only non source code related changes are made, for instance documentations.\r\nExample of the PR: https://github.com/dotnet/msbuild/pull/9774\r\n\r\n### Changes Made\r\nAdd one pre job with script to check the results of command \" git diff --name-only HEAD HEAD~1\"\r\n\r\n### Testing\r\nTest in the draft PR https://github.com/dotnet/msbuild/pull/9812. There are no tests running and tests results uploading\r\n\r\n### Notes\r\n",
  "state": "MERGED",
  "createdAt": "2024-03-01T03:12:51Z",
  "updatedAt": "2024-03-05T08:29:57Z",
  "closedAt": "2024-03-05T08:29:56Z",
  "mergedAt": "2024-03-05T08:29:56Z",
  "additions": 76,
  "deletions": 18,
  "changedFiles": 3,
  "headRefName": "dev/jenny/issue9782",
  "isDraft": false,
  "author": {
    "login": "JaynieBai"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "42637c62be4162d926c0012bfa0328c553fadf70",
          "message": "Add one job to test if only documents changed",
          "committedDate": "2024-03-01T03:12:11Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "dda306d6d3606969fd0c56c27edd2c0b2e66290e",
          "message": "Fix conditon syntax",
          "committedDate": "2024-03-01T03:26:55Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7fc5f4ed65e73fab7c099543db00c0eee456e218",
          "message": "Fix the arguments type",
          "committedDate": "2024-03-01T03:34:19Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6606c5e2ad3969316fbb7bad21723a632eb1d9bb",
          "message": "Fix the script parameter",
          "committedDate": "2024-03-01T03:55:27Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "78a5a6aff3bceebb6262db7b696dabdb52ef9cce",
          "message": "Update other platform",
          "committedDate": "2024-03-01T04:25:51Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "05f3735827fa5e3d661baebcf00597b12748ddad",
          "message": "Fix the typo error",
          "committedDate": "2024-03-01T05:42:39Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "bfa0ef29e9ce6feb652c662cb3a9755eae9bf749",
          "message": "Update the varialbe onlyDocChanged type",
          "committedDate": "2024-03-01T05:51:23Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9a154baa22bd5f3d44af4300796f6e8e51a0e2cb",
          "message": "Fix the bash parameter parse",
          "committedDate": "2024-03-01T06:42:21Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7515d8e827b7d3f9226aa9283c29dee1c69d4acf",
          "message": "Fix the typo error",
          "committedDate": "2024-03-01T06:48:53Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5c1275f8976e379e69f3b3acb52db8151e5469b0",
          "message": "Change case onlydocchanged",
          "committedDate": "2024-03-01T07:42:18Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a45a9ce13a0dd942f15ee105e19b80a0e1399266",
          "message": "Add one documentation file and test",
          "committedDate": "2024-03-01T07:48:00Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f8eafd742060755a1970179667957a899df91def",
          "message": "Fix the syntax error",
          "committedDate": "2024-03-01T07:57:11Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5008b0a63a080ef4f2e00f54498baf20ee9deaf3",
          "message": "Fix the condition",
          "committedDate": "2024-03-01T08:20:06Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "259e46a04eb9e9d295ddc1c6e4df8db74ebf72b2",
          "message": "Upate 1 to true",
          "committedDate": "2024-03-01T08:47:01Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "60ef9dd523061fb0ca82989e371fd660b3b2b2e4",
          "message": "fix intials",
          "committedDate": "2024-03-01T08:50:22Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8c7c58ad8fb00ec59ed4267373e71cebf968e6b5",
          "message": "test",
          "committedDate": "2024-03-01T09:05:52Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "62188d28a56f132095c539f0ce1f900a335810ad",
          "message": "TEST",
          "committedDate": "2024-03-01T09:19:01Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b2ef1e616b692e6c93080a5e3052866edb831b7e",
          "message": "update bool to string",
          "committedDate": "2024-03-01T09:40:42Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a7c062ecdf2f7d4cbb2ae93db6f3219b94bd1179",
          "message": "test",
          "committedDate": "2024-03-01T10:02:38Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "da65f5705dd94b5c44758b4b0209180ca5047a6b",
          "message": "test",
          "committedDate": "2024-03-01T10:18:12Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3f277573dda0c47c2e7515565f4c9d1b6b5ca05f",
          "message": "test",
          "committedDate": "2024-03-01T10:18:19Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b2c066cbf451ceb665275ddacd21a49f82053553",
          "message": "fix the powershell match",
          "committedDate": "2024-03-01T10:37:30Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5c9ca0a9d60bf9aff82b9e5fb0b8e7d69009baf3",
          "message": "test",
          "committedDate": "2024-03-01T10:38:23Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3e3d87ab35d2d2a9ddac96cc53c511f2478b50ff",
          "message": "test",
          "committedDate": "2024-03-01T10:44:25Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c27b821c2386db5501810f26d9ae46e581320cd8",
          "message": "test",
          "committedDate": "2024-03-04T02:10:41Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "caa7dea182a88ee0ac97d0a21bb363776e22cddc",
          "message": "Merge branch 'main' of https://github.com/dotnet/msbuild into dev/jenny/issue9782",
          "committedDate": "2024-03-04T02:31:04Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "33c766917acc2eeeec14c30873c8a296cfe4065c",
          "message": "Update the description",
          "committedDate": "2024-03-04T07:59:38Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b82e51b3befa06f733233c229ef03472fc539bc7",
          "message": "Change match string start with caret",
          "committedDate": "2024-03-05T07:15:48Z",
          "author": {
            "name": "Jenny Bai",
            "email": "v-jennybai@microsoft.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": []
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "this would cause false positive in things like `src/Framework/ProjectDocumentation/Something.cs`\r\nPlease replace \"documentation/\" with \"^documentation/\" which will match only if it starts with `documentation/`",
              "createdAt": "2024-03-04T12:46:23Z",
              "path": ".vsts-dotnet-ci.yml",
              "diffHunk": "@@ -4,7 +4,28 @@ trigger:\n - vs*\n \n jobs:\n+- job: IfOnlyDocumentionChanged\n+  displayName: \"Check whether Test Results need to be executed\"\n+  steps:\n+  - powershell: |\n+      $changedFiles = git diff --name-only HEAD HEAD~1\n+      $changedFiles\n+      $onlyDocChanged = 1\n+      foreach ($file in $changedFiles) {\n+        $isUnderDocumentation = $file -match \"documentation/\"",
              "author": {
                "login": "rokonec"
              }
            },
            {
              "body": "Thanks. Updated",
              "createdAt": "2024-03-05T07:16:07Z",
              "path": ".vsts-dotnet-ci.yml",
              "diffHunk": "@@ -4,7 +4,28 @@ trigger:\n - vs*\n \n jobs:\n+- job: IfOnlyDocumentionChanged\n+  displayName: \"Check whether Test Results need to be executed\"\n+  steps:\n+  - powershell: |\n+      $changedFiles = git diff --name-only HEAD HEAD~1\n+      $changedFiles\n+      $onlyDocChanged = 1\n+      foreach ($file in $changedFiles) {\n+        $isUnderDocumentation = $file -match \"documentation/\"",
              "author": {
                "login": "JaynieBai"
              }
            }
          ]
        }
      }
    ]
  }
}