{
  "number": 8943,
  "title": "[vs17.7] Merge changes from main",
  "body": "### Context\r\n\r\nMerging changes from main - as there are already other changes in vs17.7 :-| so fast-forward is not possible\r\n\r\n### Alternative\r\n\r\nDelete the vs17.7 and branch again, or force push new head (admin repo rights are needed for this - @rainersigwald?)",
  "state": "MERGED",
  "createdAt": "2023-06-23T10:14:44Z",
  "updatedAt": "2023-06-23T16:09:09Z",
  "closedAt": "2023-06-23T16:09:09Z",
  "mergedAt": "2023-06-23T16:09:09Z",
  "additions": 1347,
  "deletions": 182,
  "changedFiles": 83,
  "headRefName": "main",
  "isDraft": false,
  "author": {
    "login": "JanKrivanek"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "a398b48c4ba91ebf15a6907a9b6b848e828c31d5",
          "message": "Relay remoted exceptions over to single squashed exception type",
          "committedDate": "2023-05-19T16:55:21Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2b0963ceedba08184ea41ad811858fdaef41ca01",
          "message": "Reflect PR suggestions",
          "committedDate": "2023-05-22T10:50:04Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0d2213d95597f0176654560dcbb3cfcf484733ed",
          "message": "Reset changewaves after testenv cleanup",
          "committedDate": "2023-05-22T15:17:45Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "fbe8161f0637a49330fe6642c4b8de84f880490c",
          "message": "Refactor - move translator types closure into Framework",
          "committedDate": "2023-05-23T13:05:02Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c0ea58e3f24a6f3d67bd81537123c54bb5a8a41b",
          "message": "Fix styling",
          "committedDate": "2023-05-23T15:42:23Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6a5f6f85fa71ad9402f4b94b79bb05bc8106577c",
          "message": "Introduce internal exceptions hierarchy and type preserving remoting",
          "committedDate": "2023-05-23T20:35:55Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0c6ef17ce7c9ac2e0547ebd85f148d5497fd3c1d",
          "message": "Merge remote-tracking branch 'upstream/main' into proto/serialize-exc",
          "committedDate": "2023-05-24T09:36:37Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "32f11ac59f272faef4162bbde89cc562ee583da9",
          "message": "Refactor build transfering to accomodate nuget.exe type loading limitations",
          "committedDate": "2023-05-24T19:57:59Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "d7cfe0ab897660762ea50f6acb8b25e90dbbdbfd",
          "message": "Fix styling",
          "committedDate": "2023-05-24T20:04:24Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "90bf24694d61de35f8a6c5321d2064139594514f",
          "message": "Whitelist supported exception types",
          "committedDate": "2023-05-26T12:52:52Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3c5a33bbd12a50dcd310d505287b5a4ce1a8debf",
          "message": "Support proper exceptions serialization initialization for all msbuild invocation ways",
          "committedDate": "2023-05-26T14:03:22Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7d91933ba4d30b4c222dd17867b15f6179a70e50",
          "message": "Exclude TaskHost types from automated discovery in tests",
          "committedDate": "2023-05-26T15:53:38Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1b9f2a0a3d6949cdb5485b2d00058778ab3f07fa",
          "message": "Make BuildExceptionBase unextensible",
          "committedDate": "2023-05-26T16:28:14Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0478b785e06e2b3eeefbc20beebd78bc13614140",
          "message": "Suppress the api compat check errors",
          "committedDate": "2023-05-30T11:16:26Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0b1319edc75db670eb226319d1fbe9d9b9dac7f6",
          "message": "Mention AppCompat limitation requiring suppression",
          "committedDate": "2023-05-31T09:30:38Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f12e99a336bf7af2d132c769802a09aa249ecaf8",
          "message": "Remove workarounds facilitating support of legacy nuget.commandline",
          "committedDate": "2023-05-31T14:27:36Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "31ef5118ad87b1401e72df45d78a25924a9f8584",
          "message": "Extend suppression",
          "committedDate": "2023-05-31T15:15:42Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e7c8707152fec8463c3f940920d59fb9dfa327a3",
          "message": "Unblock failing test - remove nuget copying condition",
          "committedDate": "2023-06-02T16:27:32Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "09d8c227605f3e43bff2b6553afb01961f7a976a",
          "message": "Apply suggestions from code review\n\nCo-authored-by: Rainer Sigwald <raines@microsoft.com>",
          "committedDate": "2023-06-12T13:07:06Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "39ee061b011d80733f3c5ff355793fe78c884cd1",
          "message": "Apply code review suggestions",
          "committedDate": "2023-06-12T13:56:07Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "4c172dd8978fb0d68d9de8a90916a48c3944647b",
          "message": "Decoupling Build.Framework from StringTools",
          "committedDate": "2023-06-12T15:32:20Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8cc1a75ddced9295389b6be5dda1332693a662ea",
          "message": "Replace reflection with factories",
          "committedDate": "2023-06-12T16:37:11Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "80e0df6fc0cdabb876ecffa37028db3e6c601673",
          "message": "Rename SharedReadBuffer->BinaryReaderFactory",
          "committedDate": "2023-06-14T16:42:19Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5f09538a8189ab921d98ccfee52197bd6ae2eeb1",
          "message": "Add InitializeSourceControlInformation target to common cross-targeting targets",
          "committedDate": "2023-06-15T19:23:08Z",
          "author": {
            "name": "tmat",
            "email": "tomas.matousek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "51fac6b06e0dd3a37c97e00b9bd40fe40fcc0df6",
          "message": "Update System.Security.Cryptography.Pkcs (dependabot missed it)",
          "committedDate": "2023-06-16T09:30:53Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1d3b4c9dff1176092927c6cd67152dbad105b9c2",
          "message": "TerminalLogger tests can verify \"live\" output\n\nMake `DisplayNodes()` internal so that we can call it from tests in\norder to verify the \"live\" logger output at known checkpoints.",
          "committedDate": "2023-06-16T18:50:32Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c043902acaeedf596ac345514a4e6656ac707294",
          "message": "Regression test for #8781",
          "committedDate": "2023-06-16T18:51:16Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3e5d243f6b3e5ab4da77467fe6707fbfdd94a6be",
          "message": "Avoid updating lines when colorized\n\nThe root cause of #8781 is that the optimize-output-by-skipping-\nidentical-characters logic is not aware of escape sequences, so it goes\nhorribly awry when the replacing line differs after the first escape\nsequence.\n\nInstead, apply the previous logic only if there are no escape sequences;\nif there are, replace the entire line.\n\nIf this proves to cause too much flicker or perform slowly, we could\nimplement escape-sequence-aware truncation, length, and comparison, but\nwe can wait for feedback to that effect.",
          "committedDate": "2023-06-16T18:51:16Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b67a7d1d6340adfd7610d066beb5b9ce741d55b6",
          "message": "Make RAR disk cache deterministic (serialize only what's actually used)",
          "committedDate": "2023-06-19T08:28:44Z",
          "author": {
            "name": "Ladi Prosek",
            "email": "laprosek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "55ae30688731c975b3a9d7b309d5496aba30efcb",
          "message": "Remove a testing artifact that should have been deleted",
          "committedDate": "2023-06-19T16:17:23Z",
          "author": {
            "name": "Noah Gilson",
            "email": "noahgilson@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6829506b8fe6eeaa37bb0ae3509fe0fd067a5d90",
          "message": "Emit OSC 9;4 to spin progress (#8883)\n\nThis is the easiest step toward #8878. More advanced approaches can\r\nfollow once we have an estimation of progress percentage.",
          "committedDate": "2023-06-19T17:26:32Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2c5c951d631c0dc58a1c7a2d0780c475a91a81e6",
          "message": "Merge pull request #8912 from nagilson/nagilson-artifacts\n\nRemove a testing artifact that should have been deleted",
          "committedDate": "2023-06-19T18:28:11Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "76e1678e927ab360f00e561709c719e1fd903b7a",
          "message": "Update dependencies from https://github.com/dotnet/roslyn build 20230618.1 (#8911)\n\nMicrosoft.Net.Compilers.Toolset\r\n From Version 4.7.0-3.23311.1 -> To Version 4.7.0-3.23318.1\r\n\r\nCo-authored-by: dotnet-maestro[bot] <dotnet-maestro[bot]@users.noreply.github.com>",
          "committedDate": "2023-06-20T07:44:26Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "42748379+dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7867f14d1b33f5a0752b423de3ca0d9935e68312",
          "message": "Apply code review suggestions",
          "committedDate": "2023-06-20T12:39:23Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "4e9a0311089a63e485ef4a3efd6d87c19a3908af",
          "message": "Merge pull request #8779 from JanKrivanek/proto/serialize-exc\n\nRelay remoted exceptions",
          "committedDate": "2023-06-20T14:32:54Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "363f522dc356a789976878e132d908779c01e3f1",
          "message": "Merge pull request #8907 from rainersigwald/minimal-truncation-fix\n\nOverwrite colorized lines instead of incremental updates",
          "committedDate": "2023-06-20T16:46:17Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "328dac062afed59091613f1e7fa2d301f5a86fc9",
          "message": "Update src/Tasks/SystemState.cs\n\nCo-authored-by: AR-May <67507805+AR-May@users.noreply.github.com>",
          "committedDate": "2023-06-20T20:42:25Z",
          "author": {
            "name": "Ladi Prosek",
            "email": "ladi.prosek@gmail.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9e315996391df9e2c9d22b3d3e622a1c88dc97ad",
          "message": "Update src/Tasks/SystemState.cs\n\nCo-authored-by: AR-May <67507805+AR-May@users.noreply.github.com>",
          "committedDate": "2023-06-20T20:42:38Z",
          "author": {
            "name": "Ladi Prosek",
            "email": "ladi.prosek@gmail.com"
          }
        }
      },
      {
        "commit": {
          "oid": "58ca4b0f154bc052dcd04382c4608091f5370a70",
          "message": "ProjectInstance: create a ProjectItemInstance dictionary of the correct size in copying constructor",
          "committedDate": "2023-06-20T23:27:52Z",
          "author": {
            "name": "Jeff Robison",
            "email": "jeffro@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b58ecd263b4ae464412fde58aff2d7498370ce4f",
          "message": "Fix terminal logger test collision (#8927)\n\nThese ESC]9;4;3; (start indefinite-progress spin) sequences\r\nwere added in #8883, but collided with #8907.",
          "committedDate": "2023-06-21T07:59:08Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "cb24717fc5c235c5895e59b8f9f6a7502e19d29d",
          "message": "Support all codepages in path to app.config",
          "committedDate": "2023-06-21T14:26:44Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "db761d1ec53ea4c028aaba7799c0e73640ff10dc",
          "message": "Failing LiveLogger tests are fixed",
          "committedDate": "2023-06-21T15:09:35Z",
          "author": {
            "name": "Michal Pavlik",
            "email": "mipavlik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "cb9a467784359d862a1b690b1c6857a5cfa0d849",
          "message": "Merge pull request #8929 from jdrobison/bug/1835789.ProjectInstance.DeepClone\n\nProjectInstance: create a ProjectItemInstance dictionary of the correct size in copying constructor",
          "committedDate": "2023-06-21T17:34:36Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "4a87b6bd4eea804cd6380a22dd6c870ef8f66a97",
          "message": "Add Cryptography.Pkcs 7.0.2 to prebuild",
          "committedDate": "2023-06-21T18:24:39Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "730a79201c80694c5aacc34b51519cafd6f2cfac",
          "message": "Merge pull request #8909 from ladipro/rar-deterministic-cache2\n\nMake RAR disk cache deterministic (serialize only what's actually used)",
          "committedDate": "2023-06-22T05:23:34Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "227092b45a18b5892638d87fe4bc1b07ac4f8d96",
          "message": "Merge pull request #8903 from dotnet/JanKrivanek-patch-4\n\nUpdate System.Security.Cryptography.Pkcs (dependabot missed it)",
          "committedDate": "2023-06-22T05:44:36Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "402af3b0510be4e25a6b830da7c0a0a1533795bd",
          "message": "Merge pull request #8933 from dotnet/dev/mipavlik/livelogger-tests-fix\n\nFailing LiveLogger tests are fixed",
          "committedDate": "2023-06-22T07:53:19Z",
          "author": {
            "name": "MichalPavlik",
            "email": "mipavlik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "bdd0ad70cf47a0cab9e8f9d7cecb02ec233dd695",
          "message": "Fix encoding and disposing",
          "committedDate": "2023-06-22T10:51:59Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "cab7a25b401e4c7c41449d06e092b23632d1d203",
          "message": "Fix AssemblyLoadBuildEventArgs transfering",
          "committedDate": "2023-06-22T13:43:17Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "11fad73dffd2de68de6df059fb208215fe4f3e5d",
          "message": "Add explicit tests",
          "committedDate": "2023-06-22T14:26:10Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "83ac8d91e92a16f33823ac2b8cb4cd5a14dc62a0",
          "message": "Merge pull request #8898 from tmat/SourceControlCrossTargeting\n\nAdd InitializeSourceControlInformation target to common cross-targeting targets",
          "committedDate": "2023-06-22T14:27:03Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "dfa7f02ddc53c1f993a84b2bc765c82ae4bad612",
          "message": "Merge pull request #8931 from JanKrivanek/bugfix-unicode-appconfig\n\nSupport all codepages in path to app.config",
          "committedDate": "2023-06-22T14:40:39Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "08c135d0ac15d578663abccad3f6269dd20ebc64",
          "message": "Merge pull request #8938 from JanKrivanek/bugfix-assembly-loads-log-spam\n\nFix AssemblyLoadBuildEventArgs transfering",
          "committedDate": "2023-06-22T15:16:31Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "Hello! I noticed that you're targeting one of our servicing branches. Please consider updating the version.",
        "createdAt": "2023-06-23T10:14:50Z",
        "author": null
      }
    ]
  },
  "reviewThreads": {
    "nodes": []
  }
}