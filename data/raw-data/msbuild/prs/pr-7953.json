{
  "number": 7953,
  "title": "Remove extra usings part 2",
  "body": "Fixes #7193\r\n\r\n### Context\r\nEnforce no unused usings in the code\r\n\r\n### Changes Made\r\n\r\nRemoved or conditionalized using statements as reported by the compiler. Set <EnforceCodeStyleInBuild> property to `true`.\r\n\r\n### Testing\r\n\r\nLocal build\r\n\r\n### Notes\r\n\r\nFYI @rainersigwald \r\n\r\n/assign @Forgind ",
  "state": "MERGED",
  "createdAt": "2022-09-09T12:27:37Z",
  "updatedAt": "2023-01-10T02:48:57Z",
  "closedAt": "2023-01-10T02:48:57Z",
  "mergedAt": "2023-01-10T02:48:57Z",
  "additions": 95,
  "deletions": 152,
  "changedFiles": 101,
  "headRefName": "patch-2",
  "isDraft": false,
  "author": {
    "login": "stan-sz"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [
    "merge-when-branch-open"
  ],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "3b3d125a7083e2b3b3ab083d2b804178f33e437f",
          "message": "Remove unused usings/imports\n\nEnforce no spurious usings",
          "committedDate": "2022-09-09T11:34:11Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1ac47b8f20427ef09a146747481e72443b8811c1",
          "message": "Cleanup unused usings",
          "committedDate": "2022-09-09T12:27:07Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "11eee6a1c82cc0ae40abd448af816ed386a6fc9f",
          "message": "Iteration",
          "committedDate": "2022-09-09T13:11:46Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "874e18677fe217703ca8ab91b606586f53294e6b",
          "message": "Iteration",
          "committedDate": "2022-09-09T15:02:39Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3f1cf402fad70fc2aaf89125a549ed0d6aba278a",
          "message": "Merge branch 'dotnet:main' into patch-2",
          "committedDate": "2022-12-12T07:46:36Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "23e9771fb53edc27f20e231339474e2c68f08ab9",
          "message": "Iteration",
          "committedDate": "2022-12-12T08:28:15Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1850c834876339c2fa134ea9dc712d03016ba6e7",
          "message": "Iteration",
          "committedDate": "2022-12-12T09:05:33Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c517eaada858f113d7bbf6c06cdf6044b5accb15",
          "message": "Fix analyzer crash on .Net Framework builds",
          "committedDate": "2022-12-12T09:43:25Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0ae666bdc2486110bc31dc800abed0eeb6e3af15",
          "message": "Update src/Directory.Build.props\n\nCo-authored-by: Rainer Sigwald <raines@microsoft.com>",
          "committedDate": "2022-12-19T09:46:09Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f2c1e31964aaeb12d4b8fda93cb50ae528bdfd28",
          "message": "PR feedback",
          "committedDate": "2022-12-19T09:48:31Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e702baf8d0862975b572efbb2fb65fa559b44653",
          "message": "Merge branch 'patch-2' of https://github.com/stan-sz/msbuild into patch-2",
          "committedDate": "2022-12-19T09:48:44Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "abd55d35b6d5e38d85d5c05436972740cd62f6a3",
          "message": "Merge branch 'dotnet:main' into patch-2",
          "committedDate": "2022-12-19T09:49:42Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "caa2269a85429f738f8ab099d85f4ffe632138b6",
          "message": "Fix build",
          "committedDate": "2022-12-19T10:03:58Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e015ac82336b2f870ea50c2db812a45552b3f1e5",
          "message": "Follow up",
          "committedDate": "2022-12-19T10:39:19Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f8d4380d0b3d5b8b654b7303fef14a49cf4ba310",
          "message": "Fix build",
          "committedDate": "2022-12-19T12:15:16Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "01128b7b5d9a5b1eb76901a340568dcfbbf9c9a8",
          "message": "Code fixes",
          "committedDate": "2022-12-19T12:55:35Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "803c545c08403c3f1c8994a34d58072bcfbca1d4",
          "message": "Merge branch 'dotnet:main' into patch-2",
          "committedDate": "2022-12-19T13:12:43Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "98119ca8479f799922b37c47c2521160af86a86c",
          "message": "Code fixes",
          "committedDate": "2022-12-19T13:23:53Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "00fbe682c7621a692b9b98a35b0ef4cb71e1bd25",
          "message": "Code fixes",
          "committedDate": "2022-12-19T13:28:05Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "fd54cdfc7e26f46f08b1ce0d2db93b7a29e33f08",
          "message": "Code fixes",
          "committedDate": "2022-12-19T13:34:01Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f6027877aa9497dfcbd79ed17bdbdf72b6b3f437",
          "message": "Code fixes for net35",
          "committedDate": "2022-12-19T14:05:53Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "76e832145b8f445a0875ea9317108e4fb7950dc3",
          "message": "Merge branch 'dotnet:main' into patch-2",
          "committedDate": "2022-12-20T08:48:57Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8b83e5cfb232ac385a9086541e88a3ffc111d63d",
          "message": "Merge branch 'dotnet:main' into patch-2",
          "committedDate": "2022-12-27T08:23:43Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e11b9a8ce556b81f70aba50c685587e58dddd06d",
          "message": "Follow up",
          "committedDate": "2022-12-27T09:31:37Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "52baa65eaee3bfdb4156af56e49a02c038605e12",
          "message": "Merge branch 'main' into patch-2",
          "committedDate": "2023-01-05T19:54:44Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1500be51a423f1681fc36d5db322f1ed15de2811",
          "message": "Merge remote-tracking branch 'origin/master' into patch-2",
          "committedDate": "2023-01-09T05:27:53Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "11f303e437804a8d864eb1b5dafc4fe9deeba871",
          "message": "Follow up",
          "committedDate": "2023-01-09T05:34:32Z",
          "author": {
            "name": "stan-sz",
            "email": "37585349+stan-sz@users.noreply.github.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": []
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "This is the crux of the change",
              "createdAt": "2022-12-12T09:45:04Z",
              "path": "src/Directory.Build.props",
              "diffHunk": "@@ -56,6 +56,7 @@\n     <GenerateResourceMSBuildArchitecture>CurrentArchitecture</GenerateResourceMSBuildArchitecture>\n     <GenerateResourceMSBuildRuntime>CurrentRuntime</GenerateResourceMSBuildRuntime>\n \n+    <EnforceCodeStyleInBuild Condition=\"'$(MSBuildRuntimeType)' == 'Core'\">true</EnforceCodeStyleInBuild>",
              "author": {
                "login": "stan-sz"
              }
            },
            {
              "body": "```suggestion\r\n    <!-- This should be unconditional but helps until https://github.com/dotnet/msbuild/pull/8236 gets us a Roslyn dependency-dll fix. -->\r\n    <EnforceCodeStyleInBuild Condition=\"'$(MSBuildRuntimeType)' == 'Core'\">true</EnforceCodeStyleInBuild>\r\n```",
              "createdAt": "2022-12-16T18:01:33Z",
              "path": "src/Directory.Build.props",
              "diffHunk": "@@ -56,6 +56,7 @@\n     <GenerateResourceMSBuildArchitecture>CurrentArchitecture</GenerateResourceMSBuildArchitecture>\n     <GenerateResourceMSBuildRuntime>CurrentRuntime</GenerateResourceMSBuildRuntime>\n \n+    <EnforceCodeStyleInBuild Condition=\"'$(MSBuildRuntimeType)' == 'Core'\">true</EnforceCodeStyleInBuild>",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "OK, linking to https://github.com/dotnet/msbuild/pull/8236 explicitly",
              "createdAt": "2022-12-19T09:51:56Z",
              "path": "src/Directory.Build.props",
              "diffHunk": "@@ -56,6 +56,7 @@\n     <GenerateResourceMSBuildArchitecture>CurrentArchitecture</GenerateResourceMSBuildArchitecture>\n     <GenerateResourceMSBuildRuntime>CurrentRuntime</GenerateResourceMSBuildRuntime>\n \n+    <EnforceCodeStyleInBuild Condition=\"'$(MSBuildRuntimeType)' == 'Core'\">true</EnforceCodeStyleInBuild>",
              "author": {
                "login": "stan-sz"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "I think leaving this as \"warning\" would make this an error only for PR and official builds.\r\n\r\n\"Unnecessary\"-type errors can be a real pain while developing, because the dev might have just commented out the thing that needs the new using, in order to test an inner-loop thing. I prefer leaving them as warnings and letting them be caught by warnings-as-errors in PR builds if they didn't get cleaned up before submit.",
              "createdAt": "2022-12-16T18:02:54Z",
              "path": ".editorconfig",
              "diffHunk": "@@ -201,4 +201,4 @@ end_of_line = crlf\n \n [src/**/*.{cs,vb}]\n # IDE0005: Remove unnecessary usings/imports\n-dotnet_diagnostic.IDE0005.severity = warning\n+dotnet_diagnostic.IDE0005.severity = error",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      }
    ]
  }
}