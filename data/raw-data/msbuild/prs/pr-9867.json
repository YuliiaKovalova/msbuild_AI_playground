{
  "number": 9867,
  "title": "[release/6.0.1xx] Bump System.Security.Cryptography.Xml to 6.0.1 and System.Security.Cryptography.Pkcs to 6.0.4",
  "body": "### Summary\r\nThis is a security fix after the recent scanner results for sdk repo.\r\n\r\n### Customer Impact\r\nNo impact is expected.\r\n\r\n### Regression?\r\nNo\r\n\r\n### Testing\r\nN/A\r\n\r\n### Risk\r\nMinimal - no risks, it's just package version update + data from arcade .Net 6 Eng channel",
  "state": "MERGED",
  "createdAt": "2024-03-14T16:53:44Z",
  "updatedAt": "2024-03-28T06:53:17Z",
  "closedAt": "2024-03-28T06:53:17Z",
  "mergedAt": "2024-03-28T06:53:17Z",
  "additions": 3,
  "deletions": 3,
  "changedFiles": 2,
  "headRefName": "dev/ykovalova/bump_System.Security.Cryptography_17.0",
  "isDraft": false,
  "author": {
    "login": "YuliiaKovalova"
  },
  "milestone": null,
  "assignees": {
    "nodes": [
      {
        "login": "YuliiaKovalova"
      }
    ]
  },
  "labels": [
    "Servicing-approved",
    "do-not-merge"
  ],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "e4c6aeacf382cfdfdca59b116a5dca9039d225fa",
          "message": "bump System.Security.Cryptography.Xml and System.Security.Cryptography.Pkcs to 6.0.1",
          "committedDate": "2024-03-14T16:42:45Z",
          "author": {
            "name": "Yuliia Kovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0ef4b9ee0312a43bb88850f8aba415ebcad5a300",
          "message": "Bump version to 17.0.2",
          "committedDate": "2024-03-14T19:42:01Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "115798cabbd62d68458920f43fd211c6e3abfeee",
          "message": "Bump arcade",
          "committedDate": "2024-03-15T14:06:37Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "4efcae0090db6356bc1c18432aff522c206f16c9",
          "message": "Udpate arcade version - 1",
          "committedDate": "2024-03-15T14:14:26Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1122fc93481b67bc132c3ecec577f8795c9bb40e",
          "message": "Update arcade version - 2",
          "committedDate": "2024-03-15T14:15:14Z",
          "author": {
            "name": "Jan Krivanek",
            "email": "jankrivanek@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "d637a28dbf5e915a50a86e334835f743db25cbfa",
          "message": "update arcade",
          "committedDate": "2024-03-18T14:38:54Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2eff919d7336fa1edb193908f3b17457ebce0381",
          "message": "bump to windows-2022",
          "committedDate": "2024-03-18T15:25:09Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "95473390+YuliiaKovalova@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f8a7e05d5a6c6d61216ad42c5f4b407e6abe2192",
          "message": "Revert \"bump to windows-2022\"\n\nThis reverts commit 2eff919d7336fa1edb193908f3b17457ebce0381.",
          "committedDate": "2024-03-18T20:53:14Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f062b075350ec16343e875dba70225115bb4fcd4",
          "message": "NoWarn NETSDK1182\n\nThis was breaking builds but 17.0 really did build on and ship from\nVS2019, so we should keep doing so for servicing.",
          "committedDate": "2024-03-18T20:55:13Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "bc5abd911be590a17e7b3b0c919ce6e2efec6726",
          "message": "inline chnages\n\nCo-authored-by: Rainer Sigwald <raines@microsoft.com>",
          "committedDate": "2024-03-20T13:27:57Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "95473390+YuliiaKovalova@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ed5aef54a962f6e91aaef064adec10f19a59e2d9",
          "message": "remove extra file",
          "committedDate": "2024-03-20T13:32:26Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2654a89a010cacd0aa865365605ac9f1785ddc0f",
          "message": "Merge branch 'dev/ykovalova/bump_System.Security.Cryptography_17.0' of https://github.com/YuliiaKovalova/msbuild into dev/ykovalova/bump_System.Security.Cryptography_17.0",
          "committedDate": "2024-03-20T13:54:28Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6860247b03a7a707377d620351af5c5f9ece1828",
          "message": "bump System.Security.Cryptography.Pkcs to 6.0.4",
          "committedDate": "2024-03-22T10:29:00Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "95473390+YuliiaKovalova@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f20e47fe0046fca6ed09239944939c6505ea4d23",
          "message": "bump version to 17.0.3",
          "committedDate": "2024-03-27T20:06:48Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "95473390+YuliiaKovalova@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a05b088d04adf6034d6eef3b3eff4e09e0430f85",
          "message": "merge",
          "committedDate": "2024-03-28T06:09:30Z",
          "author": {
            "name": "YuliiaKovalova",
            "email": "ykovalova@microsoft.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "Hi @premun,\r\n\r\nCould you help us with that? We need a build with the dependency bump . \r\n",
        "createdAt": "2024-03-15T13:38:18Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      },
      {
        "body": "Sorry, I don't follow. Help with what exactly?",
        "createdAt": "2024-03-15T13:40:09Z",
        "author": {
          "login": "premun"
        }
      },
      {
        "body": "> Sorry, I don't follow. Help with what exactly?\r\n\r\n@premun , I apologize for confusion.\r\nThis build fails on source-build step and I don't know how to propagate the arcade version that can fix it and not break sdk.\r\nDo you have any ideas?",
        "createdAt": "2024-03-15T13:47:53Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      },
      {
        "body": "Sorry, I am not the best person for SB problems. @dotnet/source-build-internal Yulia has some issues with restoring `Microsoft.DotNet.SourceBuild.Tasks`. Can you help?\r\n",
        "createdAt": "2024-03-15T13:50:35Z",
        "author": {
          "login": "premun"
        }
      },
      {
        "body": "```\r\n##[error].packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj(0,0): error NU1603: (NETCORE_ENGINEERING_TELEMETRY=Restore) Tools depends on Microsoft.DotNet.SourceBuild.Tasks (>= 6.0.0-beta.21460.7) but Microsoft.DotNet.SourceBuild.Tasks 6.0.0-beta.21460.7 was not found. An approximate best match of Microsoft.DotNet.SourceBuild.Tasks 6.0.0-beta.21620.3 was resolved.\r\n  /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj : error NU1102: Unable to find package Microsoft.SourceBuild.Intermediate.arcade with version (= 6.0.0-beta.21460.7)\r\n  /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj : error NU1102:   - Found 1002 version(s) in arcade [ Nearest version: 6.0.0-beta.22431.8 ]\r\n  /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj : error NU1102:   - Found 0 version(s) in dotnet-public\r\n  /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj : error NU1102:   - Found 0 version(s) in dotnet-tools\r\n  /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj : error NU1102:   - Found 0 version(s) in dotnet6\r\n##[error].packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj(0,0): error NU1102: (NETCORE_ENGINEERING_TELEMETRY=Restore) Unable to find package Microsoft.SourceBuild.Intermediate.arcade with version (= 6.0.0-beta.21460.7)\r\n  - Found 1002 version(s) in arcade [ Nearest version: 6.0.0-beta.22431.8 ]\r\n  - Found 0 version(s) in dotnet-public\r\n  - Found 0 version(s) in dotnet-tools\r\n  - Found 0 version(s) in dotnet6\r\n    Failed to restore /__w/1/s/.packages/microsoft.dotnet.arcade.sdk/6.0.0-beta.21460.7/tools/Tools.proj (in 968 ms).\r\n```\r\n\r\nThe error seems completely unrelated to the changes. Are you sure this branch is building without these changes?\r\n\r\nDo you have the latest 6.0 Arcade in this branch? /cc @mmitche",
        "createdAt": "2024-03-15T14:04:26Z",
        "author": {
          "login": "mthalman"
        }
      },
      {
        "body": "There was no commit on the target branch for some time:\r\n\r\n![image](https://github.com/dotnet/msbuild/assets/7013027/b2357e1b-d8d6-469a-a73d-4300287656e3)\r\n",
        "createdAt": "2024-03-15T14:06:44Z",
        "author": {
          "login": "premun"
        }
      },
      {
        "body": "@GangWang01 please look at the tests failures.\r\n\r\nupdate: it's related to vs-image update. Hopefully, @rainersigwald will resolve it.",
        "createdAt": "2024-03-18T15:49:51Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      },
      {
        "body": "> @GangWang01 please look at the tests failures.\r\n> \r\n> update: it's related to vs-image update. Hopefully, @rainersigwald will resolve it.\r\n\r\nIt looks like the test failures were resolved by Rainer. Thanks Rainer!",
        "createdAt": "2024-03-19T12:40:04Z",
        "author": {
          "login": "GangWang01"
        }
      },
      {
        "body": "> I suppose changes in eng.. were automatic via the arcade update - correct? Or is there any specific manual changes that should be reviewed with care?\r\n\r\nNope, these changes were added by running\r\n`darc update-dependencies --source-repo \"dotnet/arcade\" --channel \".NET 6 Eng\"`",
        "createdAt": "2024-03-20T15:25:57Z",
        "author": {
          "login": "YuliiaKovalova"
        }
      },
      {
        "body": "@YuliiaKovalova will you be merging this anytime soon.  I'm hoping for F# to use the nuget packages from it.",
        "createdAt": "2024-03-20T16:47:48Z",
        "author": {
          "login": "KevinRansom"
        }
      },
      {
        "body": "Hello! I noticed that you're targeting one of our servicing branches. Please consider updating the version.\n<!-- Policy app identification https://img.shields.io/static/v1?label=PullRequestIssueManagement. -->",
        "createdAt": "2024-03-21T13:12:54Z",
        "author": {
          "login": "dotnet-policy-service"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "You need to also update the version.details.xml file.",
              "createdAt": "2024-03-15T14:08:28Z",
              "path": "global.json",
              "diffHunk": "@@ -15,6 +15,6 @@\n   },\n   \"msbuild-sdks\": {\n     \"Microsoft.Build.CentralPackageVersions\": \"2.0.1\",\n-    \"Microsoft.DotNet.Arcade.Sdk\": \"6.0.0-beta.21460.7\"\n+    \"Microsoft.DotNet.Arcade.Sdk\": \"6.0.0-beta.21620.3\"",
              "author": {
                "login": "MichaelSimons"
              }
            },
            {
              "body": "@JanKrivanek ideally you should use `darc update-dependecies` to do the bump",
              "createdAt": "2024-03-15T14:10:14Z",
              "path": "global.json",
              "diffHunk": "@@ -15,6 +15,6 @@\n   },\n   \"msbuild-sdks\": {\n     \"Microsoft.Build.CentralPackageVersions\": \"2.0.1\",\n-    \"Microsoft.DotNet.Arcade.Sdk\": \"6.0.0-beta.21460.7\"\n+    \"Microsoft.DotNet.Arcade.Sdk\": \"6.0.0-beta.21620.3\"",
              "author": {
                "login": "premun"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "```suggestion\r\n    <VersionPrefix>17.0.2</VersionPrefix><DotNetFinalVersionKind>release</DotNetFinalVersionKind>\r\n```",
              "createdAt": "2024-03-18T22:24:08Z",
              "path": "eng/Versions.props",
              "diffHunk": "@@ -2,7 +2,8 @@\n <!-- Copyright (c) .NET Foundation and contributors. All rights reserved. Licensed under the MIT license. See License.txt in the project root for full license information. -->\n <Project>\n   <PropertyGroup>\n-    <VersionPrefix>17.0.1</VersionPrefix><DotNetFinalVersionKind>release</DotNetFinalVersionKind>\n+    <VersionPrefix>17.0.2</VersionPrefix>\n+    <DotNetFinalVersionKind>release</DotNetFinalVersionKind>",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "Better remove this file.",
              "createdAt": "2024-03-18T22:24:43Z",
              "path": "src/Build/Properties/launchSettings.json",
              "diffHunk": "@@ -0,0 +1,9 @@\n+{\n+  \"profiles\": {\n+    \"BuilderApp\": {\n+      \"commandName\": \"Executable\",\n+      \"executablePath\": \"C:\\\\msbuild\\\\locator\\\\ykovalova\\\\MSBuildLocator\\\\samples\\\\BuilderApp\\\\bin\\\\Debug\\\\net472\\\\BuilderApp.exe\",",
              "author": {
                "login": "rainersigwald"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "should be version 6.0.4 of Pkcs",
              "createdAt": "2024-03-21T21:49:04Z",
              "path": "eng/Packages.props",
              "diffHunk": "@@ -31,8 +31,8 @@\n     <PackageReference Update=\"System.Reflection.Metadata\" Version=\"1.6.0\" />\n     <PackageReference Update=\"System.Resources.Extensions\" Version=\"$(SystemResourcesExtensionsPackageVersion)\" />\n     <PackageReference Update=\"System.Runtime.CompilerServices.Unsafe\" Version=\"5.0.0\"/>\n-    <PackageReference Update=\"System.Security.Cryptography.Pkcs\" Version=\"4.7.0\" />\n-    <PackageReference Update=\"System.Security.Cryptography.Xml\" Version=\"4.7.0\" />\n+    <PackageReference Update=\"System.Security.Cryptography.Pkcs\" Version=\"6.0.1\" />",
              "author": {
                "login": "marcpopMSFT"
              }
            }
          ]
        }
      }
    ]
  }
}