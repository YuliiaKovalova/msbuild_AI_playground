{
  "number": 11084,
  "title": "WIP telemetry [ do not merge]",
  "body": "Fixes #10947 #10945 \r\n\r\n### Context\r\nImplementing telemetry infrastructure in Microsoft.Build.Framework. And basic data sending in BuildManager. Up to discussion if this is a reasonable path.\r\n\r\n### Changes Made\r\n\r\n\r\n### Testing\r\n\r\n\r\n### Notes\r\n",
  "state": "CLOSED",
  "createdAt": "2024-12-04T17:46:27Z",
  "updatedAt": "2025-01-21T15:03:45Z",
  "closedAt": "2025-01-21T15:03:45Z",
  "mergedAt": null,
  "additions": 446,
  "deletions": 2,
  "changedFiles": 14,
  "headRefName": "feature/otel",
  "isDraft": true,
  "author": {
    "login": "JanProvaznik"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "ef431afa5abffbbcd63424f0e93ac69e1055e02d",
          "message": "WIP telemetry for sharing",
          "committedDate": "2024-12-09T11:11:40Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "7173dcbacbf5fbca7462055a200990b09e76b356",
          "message": "remove nuget.org dependency",
          "committedDate": "2024-12-09T11:11:41Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ff4c704f18c236df2a401ceb6dc4ef6b94f67758",
          "message": "prefix",
          "committedDate": "2024-12-09T11:11:41Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6ac19009696ae6456bfba1f6703037085d04193d",
          "message": "remove warning exclusions",
          "committedDate": "2024-12-09T11:11:41Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f69a86d8739fa0e00e2d23d7dc46fdda5a63cb6c",
          "message": "refactor corresponding more to the abstractions we want to have",
          "committedDate": "2024-12-10T13:29:10Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c50cbb38930c8f28de5bae09637f118e6e976284",
          "message": "refactor, simplify",
          "committedDate": "2024-12-18T13:40:04Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "351ec892ccec0480f8769c63b552536bf3bf35e7",
          "message": "cleanup, move DiagnosticSource pkg include to framework only",
          "committedDate": "2024-12-18T14:00:38Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "dac30f2a7979c2402ab57d06719c6b0a4ad9d74d",
          "message": "move diagnostic source back",
          "committedDate": "2024-12-18T14:13:11Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "540a643b9407ed47de8782bd9d658b2c6d1b30c6",
          "message": "fix usage of activitysource, core otel behavior is opt-in",
          "committedDate": "2024-12-18T14:35:24Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3ae496a5bee8b7640b571c6ea65db96d1186aa8d",
          "message": "...",
          "committedDate": "2024-12-18T14:42:50Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "77fb1c48b05ef37a57b890ab4dfdd1e35d580499",
          "message": "don't otlp export for ci build?",
          "committedDate": "2024-12-18T16:07:36Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "bfad17a7dd57e713dc0c46d77f441a766f9bac58",
          "message": "add extensions primitives",
          "committedDate": "2024-12-18T17:18:27Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f6dd0554664fe7e2c665c429d3e1b80ceb165d42",
          "message": "move dependencies",
          "committedDate": "2024-12-19T14:38:00Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "8282fa1a2b39076fed299564a11197d744cee6fe",
          "message": "downgrade packages",
          "committedDate": "2024-12-20T13:21:42Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c182d33e2a2ac6451fe1dc7ea38818d89ccf4290",
          "message": "upgrade packages",
          "committedDate": "2024-12-20T13:27:11Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "472db1bbc7899ce2930de7575333ec76ac69529e",
          "message": "Merge branch 'main' into feature/otel",
          "committedDate": "2025-01-06T11:07:28Z",
          "author": {
            "name": "Jan Provazn\u00edk",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "73bed6822f0cb4072457e2060a11ca569a1f1d1a",
          "message": "enums",
          "committedDate": "2025-01-07T11:43:15Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "792ea552137fbc28dd5d0858f0ab4dd37c94768e",
          "message": "Merge branch 'feature/otel' of https://github.com/JanProvaznik/msbuild into feature/otel-hooked",
          "committedDate": "2025-01-07T11:44:05Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c45805cd00f808ce364007e15e4840c5178a6003",
          "message": "adjust version details",
          "committedDate": "2025-01-07T11:54:17Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5f62c3c3fb1bd4afbf7517e2090cfad8e09c3a66",
          "message": "test sourcebuild...",
          "committedDate": "2025-01-07T12:09:58Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "57eb1980e8a1cb864554704fb3d472bc964d6cd0",
          "message": "Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20250106.2\n\nMicrosoft.SourceBuild.Intermediate.source-build-reference-packages\n From Version 9.0.0-alpha.1.24619.1 -> To Version 10.0.605602",
          "committedDate": "2025-01-07T13:12:11Z",
          "author": {
            "name": "dotnet-maestro[bot]",
            "email": "dotnet-maestro[bot]@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "1361f6ee3f0dc65f2a650d1d2e2e81a6315eddf5",
          "message": "Revert \"Update dependencies from https://github.com/dotnet/source-build-reference-packages build 20250106.2\"\n\nThis reverts commit 57eb1980e8a1cb864554704fb3d472bc964d6cd0.",
          "committedDate": "2025-01-08T08:48:43Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "0bd3a3211b78106e41b892f3b25747b8ec2a98e9",
          "message": "update diagnosticsource version",
          "committedDate": "2025-01-08T09:45:47Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "b7a6f795a1c6cf7953a401423b76795795277664",
          "message": "typo",
          "committedDate": "2025-01-08T10:27:17Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ecb369566ed27d06df6020ae6c24babf95b91848",
          "message": "remove sha",
          "committedDate": "2025-01-08T13:16:51Z",
          "author": {
            "name": "Jan Provazn\u00edk",
            "email": "janpro@janpro.dev"
          }
        }
      },
      {
        "commit": {
          "oid": "3e9b23447ec77ca1555ecb00a74456bf6c44c742",
          "message": "try more sourcbuild metadata",
          "committedDate": "2025-01-08T14:25:31Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f3ce9487e7dffd4eecd2918e00daa37b90d29d60",
          "message": "Remove SourceBuild attribute from Version.Details.xml",
          "committedDate": "2025-01-08T20:18:33Z",
          "author": {
            "name": "Michael Simons",
            "email": "msimons@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ff03197ebf062b2df8a6e04e4670b102161f460e",
          "message": "Update SourceBuildPrebuiltBaseline.xml",
          "committedDate": "2025-01-08T20:32:11Z",
          "author": {
            "name": "Michael Simons",
            "email": "msimons@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "884dcd4549ae809ce07af7c1a0b680810c238c45",
          "message": "Update System.Diagnostics.DiagnosticSource to version 9.0.0",
          "committedDate": "2025-01-08T20:41:38Z",
          "author": {
            "name": "Michael Simons",
            "email": "msimons@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "9128dd06fbca803a69283ba7ab85e145aee5d9ad",
          "message": "downgrade packages",
          "committedDate": "2025-01-14T13:49:06Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "5b7cd1057dafbc356fff8f57d6b607f99d66ad38",
          "message": "Merge branch 'main' into feature/otel",
          "committedDate": "2025-01-14T13:50:32Z",
          "author": {
            "name": "Jan Provazn\u00edk",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "17986e473b897c8a5f27f32b1e26a8d49580cb81",
          "message": "redirect microsoft.extensions.primitives",
          "committedDate": "2025-01-14T14:20:22Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "ecdb1301c4bcb98d384f60fd0940f95783290026",
          "message": "Merge branch 'feature/otel' of https://github.com/JanProvaznik/msbuild into feature/otel",
          "committedDate": "2025-01-14T14:20:29Z",
          "author": {
            "name": "Jan Provaznik",
            "email": "janprovaznik@microsoft.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": [
      {
        "body": "<samp>\nAzure Pipelines successfully started running 1 pipeline(s).<br>\r\n\n</samp>",
        "createdAt": "2025-01-02T09:16:54Z",
        "author": {
          "login": "azure-pipelines"
        }
      },
      {
        "body": "@JanProvaznik, I hope you don't mind, I pushed a few changes necessary to get the source-build leg to pass.",
        "createdAt": "2025-01-08T20:51:33Z",
        "author": {
          "login": "MichaelSimons"
        }
      }
    ]
  },
  "reviewThreads": {
    "nodes": []
  }
}