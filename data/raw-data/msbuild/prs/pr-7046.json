{
  "number": 7046,
  "title": "Introduce Dependabot",
  "body": "Guidance from dnceng is to use Dependabot instead of Darc/Maestro to manage updating packages to non-.NET or GA versions of packages (anything that's not \"the current development build\").\r\n\r\nThis PR introuduces Dependabot and moves some of our dependencies to be managed by it--specifically the ones that are build/test-time only and the ones that are embedded into our outputs. We should have free reign to control the versions of those any time without introducing downstream dependency problems.",
  "state": "MERGED",
  "createdAt": "2021-11-18T15:54:09Z",
  "updatedAt": "2021-11-23T15:45:57Z",
  "closedAt": "2021-11-23T15:45:56Z",
  "mergedAt": "2021-11-23T15:45:56Z",
  "additions": 47,
  "deletions": 30,
  "changedFiles": 6,
  "headRefName": "introduce-dependabot",
  "isDraft": false,
  "author": {
    "login": "rainersigwald"
  },
  "milestone": null,
  "assignees": {
    "nodes": []
  },
  "labels": [
    "merge-when-branch-open"
  ],
  "commits": {
    "nodes": [
      {
        "commit": {
          "oid": "6b32c8396abce77e7a396e461a934e34591b046c",
          "message": "Create dependabot.yml",
          "committedDate": "2021-10-05T18:22:00Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f3d05ae6a69da8b8ac254cea510e74d9ea6ba7b6",
          "message": "Tweak",
          "committedDate": "2021-10-05T18:32:34Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a1eef9af9ffffedc84cd6b75e514c8749b2240f7",
          "message": "Move stub project",
          "committedDate": "2021-10-05T18:53:18Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "6f73979481f515324ccb904d49a92eee21eb5140",
          "message": "Minimize stub",
          "committedDate": "2021-10-05T18:53:44Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "263760b4b01ee8198ba10a9c47188b6ba50706c5",
          "message": "Move back to subfolder",
          "committedDate": "2021-10-05T19:04:03Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "35717ce8606b645683b6b26a1bed74bb367325f1",
          "message": "Further swizzle Dependabot",
          "committedDate": "2021-10-05T19:17:24Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "c21ab55e5c66714228aa45a93d24f0b0add635d3",
          "message": "Hone dependabot stuff",
          "committedDate": "2021-11-18T15:31:34Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "98ca8d25b0aa7b1eb95ed326e5cfa61b734a44b6",
          "message": "Minimize dependabot-updated packages",
          "committedDate": "2021-11-18T15:31:51Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "3da297f1da0c394cd78495ae37b3c75fec0432f9",
          "message": "Merge remote-tracking branch 'upstream/main' into introduce-dependabot",
          "committedDate": "2021-11-18T15:46:39Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "f6e74ff9ccec284e8908537c67b793699d953514",
          "message": "Merge branch 'main' into introduce-dependabot",
          "committedDate": "2021-11-19T20:00:32Z",
          "author": {
            "name": "Forgind",
            "email": "Forgind@users.noreply.github.com"
          }
        }
      },
      {
        "commit": {
          "oid": "45b6b8ec900af10170ec509a0ce27b8f51259c12",
          "message": "Merge remote-tracking branch 'upstream/main' into introduce-dependabot\n\nConflicts:\n\teng/Packages.props",
          "committedDate": "2021-11-22T22:42:14Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "2ee1a6370168f7105a176052dadc82922e10986d",
          "message": "formatting was bugging me",
          "committedDate": "2021-11-22T22:45:18Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "e33f42a85d3c7ffaa954c9a087d6a00b3b8ce05b",
          "message": "fixup! Merge remote-tracking branch 'upstream/main' into introduce-dependabot",
          "committedDate": "2021-11-22T22:54:11Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      },
      {
        "commit": {
          "oid": "a1c48069a7459ecb96ff137732bdb0efb049abfa",
          "message": "Single version for BannedAPIAnalyzers",
          "committedDate": "2021-11-22T22:59:03Z",
          "author": {
            "name": "Rainer Sigwald",
            "email": "raines@microsoft.com"
          }
        }
      }
    ]
  },
  "comments": {
    "nodes": []
  },
  "reviewThreads": {
    "nodes": [
      {
        "comments": {
          "nodes": [
            {
              "body": "We lost this, I think?",
              "createdAt": "2021-11-18T20:06:30Z",
              "path": "eng/Packages.props",
              "diffHunk": "@@ -1,37 +1,31 @@\n <Project>\n+  <!-- Import references updated by Dependabot.\n+       This file is for package references updated manually or by Darc/Maestro. -->\n+  <Import Project=\"dependabot\\Packages.props\" />\n+\n   <!--\n     Make sure to update the binding redirects (in src\\MSBuild\\app.config and src\\MSBuild\\app.amd64.config) for any changes to\n     the list of assemblies redistributed by MSBuild (non-MSBuild assemblies in the .vsix package).\n      -->\n   <ItemGroup>\n-    <PackageReference Update=\"BenchmarkDotNet\" Version=\"0.12.1\" />\n-    <PackageReference Update=\"jnm2.ReferenceAssemblies.net35\" Version=\"1.0.1\" />\n-    <PackageReference Update=\"LargeAddressAware\" Version=\"1.0.5\" />\n     <PackageReference Update=\"Microsoft.Build.NuGetSdkResolver\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Build.Tasks\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Collections\" Version=\"4.0.0-4.21379.20\" />\n-    <PackageReference Update=\"Microsoft.CodeQuality.Analyzers\" Version=\"3.3.0\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"Microsoft.DotNet.GenAPI\" Version=\"2.1.0-prerelease-02404-02\" />\n     <PackageReference Update=\"Microsoft.DotNet.XUnitExtensions\" Version=\"$(MicrosoftDotNetXUnitExtensionsVersion)\" />\n     <PackageReference Update=\"Microsoft.IO.Redist\" Version=\"4.7.1\" />\n     <PackageReference Update=\"Microsoft.Net.Compilers.Toolset\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.SDK.EmbedInteropTypes\" Version=\"15.0.15\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.Setup.Configuration.Interop\" Version=\"1.16.30\" />\n     <PackageReference Update=\"Microsoft.Win32.Registry\" Version=\"4.3.0\" />\n     <PackageReference Update=\"NuGet.Build.Tasks\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"NuGet.Frameworks\" Version=\"$(NuGetBuildTasksVersion)\" />\n-    <PackageReference Update=\"PdbGit\" Version=\"3.0.41\" />\n-    <PackageReference Update=\"Shouldly\" Version=\"3.0.0\" />\n-    <PackageReference Update=\"SourceLink.Create.CommandLine\" Version=\"2.1.2\" />\n-    <PackageReference Update=\"StyleCop.Analyzers\" Version=\"1.2.0-beta.164\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"System.CodeDom\" Version=\"4.4.0\" />\n     <PackageReference Update=\"System.Collections.Immutable\" Version=\"5.0.0\" />\n     <PackageReference Update=\"System.Configuration.ConfigurationManager\" Version=\"4.7.0\" />\n     <PackageReference Update=\"System.Net.Http\" Version=\"4.3.4\" />\n     <PackageReference Update=\"System.Memory\" Version=\"4.5.4\" />\n     <PackageReference Update=\"System.Reflection.Metadata\" Version=\"1.6.0\" />\n     <PackageReference Update=\"System.Resources.Extensions\" Version=\"$(SystemResourcesExtensionsPackageVersion)\" />\n-    <PackageReference Update=\"System.Runtime.CompilerServices.Unsafe\" Version=\"5.0.0\"/>",
              "author": {
                "login": "Forgind"
              }
            },
            {
              "body": "? It's the next line.",
              "createdAt": "2021-11-19T16:53:51Z",
              "path": "eng/Packages.props",
              "diffHunk": "@@ -1,37 +1,31 @@\n <Project>\n+  <!-- Import references updated by Dependabot.\n+       This file is for package references updated manually or by Darc/Maestro. -->\n+  <Import Project=\"dependabot\\Packages.props\" />\n+\n   <!--\n     Make sure to update the binding redirects (in src\\MSBuild\\app.config and src\\MSBuild\\app.amd64.config) for any changes to\n     the list of assemblies redistributed by MSBuild (non-MSBuild assemblies in the .vsix package).\n      -->\n   <ItemGroup>\n-    <PackageReference Update=\"BenchmarkDotNet\" Version=\"0.12.1\" />\n-    <PackageReference Update=\"jnm2.ReferenceAssemblies.net35\" Version=\"1.0.1\" />\n-    <PackageReference Update=\"LargeAddressAware\" Version=\"1.0.5\" />\n     <PackageReference Update=\"Microsoft.Build.NuGetSdkResolver\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Build.Tasks\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Collections\" Version=\"4.0.0-4.21379.20\" />\n-    <PackageReference Update=\"Microsoft.CodeQuality.Analyzers\" Version=\"3.3.0\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"Microsoft.DotNet.GenAPI\" Version=\"2.1.0-prerelease-02404-02\" />\n     <PackageReference Update=\"Microsoft.DotNet.XUnitExtensions\" Version=\"$(MicrosoftDotNetXUnitExtensionsVersion)\" />\n     <PackageReference Update=\"Microsoft.IO.Redist\" Version=\"4.7.1\" />\n     <PackageReference Update=\"Microsoft.Net.Compilers.Toolset\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.SDK.EmbedInteropTypes\" Version=\"15.0.15\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.Setup.Configuration.Interop\" Version=\"1.16.30\" />\n     <PackageReference Update=\"Microsoft.Win32.Registry\" Version=\"4.3.0\" />\n     <PackageReference Update=\"NuGet.Build.Tasks\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"NuGet.Frameworks\" Version=\"$(NuGetBuildTasksVersion)\" />\n-    <PackageReference Update=\"PdbGit\" Version=\"3.0.41\" />\n-    <PackageReference Update=\"Shouldly\" Version=\"3.0.0\" />\n-    <PackageReference Update=\"SourceLink.Create.CommandLine\" Version=\"2.1.2\" />\n-    <PackageReference Update=\"StyleCop.Analyzers\" Version=\"1.2.0-beta.164\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"System.CodeDom\" Version=\"4.4.0\" />\n     <PackageReference Update=\"System.Collections.Immutable\" Version=\"5.0.0\" />\n     <PackageReference Update=\"System.Configuration.ConfigurationManager\" Version=\"4.7.0\" />\n     <PackageReference Update=\"System.Net.Http\" Version=\"4.3.4\" />\n     <PackageReference Update=\"System.Memory\" Version=\"4.5.4\" />\n     <PackageReference Update=\"System.Reflection.Metadata\" Version=\"1.6.0\" />\n     <PackageReference Update=\"System.Resources.Extensions\" Version=\"$(SystemResourcesExtensionsPackageVersion)\" />\n-    <PackageReference Update=\"System.Runtime.CompilerServices.Unsafe\" Version=\"5.0.0\"/>",
              "author": {
                "login": "rainersigwald"
              }
            },
            {
              "body": "You're right; the rest you'd copied down to dependabot/Packages.props. I counted how many were there vs. deleted and saw a discrepancy of one, but this was only \"deleted\" because you added a space to the end.",
              "createdAt": "2021-11-19T17:27:24Z",
              "path": "eng/Packages.props",
              "diffHunk": "@@ -1,37 +1,31 @@\n <Project>\n+  <!-- Import references updated by Dependabot.\n+       This file is for package references updated manually or by Darc/Maestro. -->\n+  <Import Project=\"dependabot\\Packages.props\" />\n+\n   <!--\n     Make sure to update the binding redirects (in src\\MSBuild\\app.config and src\\MSBuild\\app.amd64.config) for any changes to\n     the list of assemblies redistributed by MSBuild (non-MSBuild assemblies in the .vsix package).\n      -->\n   <ItemGroup>\n-    <PackageReference Update=\"BenchmarkDotNet\" Version=\"0.12.1\" />\n-    <PackageReference Update=\"jnm2.ReferenceAssemblies.net35\" Version=\"1.0.1\" />\n-    <PackageReference Update=\"LargeAddressAware\" Version=\"1.0.5\" />\n     <PackageReference Update=\"Microsoft.Build.NuGetSdkResolver\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Build.Tasks\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n     <PackageReference Update=\"Microsoft.CodeAnalysis.Collections\" Version=\"4.0.0-4.21379.20\" />\n-    <PackageReference Update=\"Microsoft.CodeQuality.Analyzers\" Version=\"3.3.0\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"Microsoft.DotNet.GenAPI\" Version=\"2.1.0-prerelease-02404-02\" />\n     <PackageReference Update=\"Microsoft.DotNet.XUnitExtensions\" Version=\"$(MicrosoftDotNetXUnitExtensionsVersion)\" />\n     <PackageReference Update=\"Microsoft.IO.Redist\" Version=\"4.7.1\" />\n     <PackageReference Update=\"Microsoft.Net.Compilers.Toolset\" Version=\"$(MicrosoftNetCompilersToolsetVersion)\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.SDK.EmbedInteropTypes\" Version=\"15.0.15\" />\n-    <PackageReference Update=\"Microsoft.VisualStudio.Setup.Configuration.Interop\" Version=\"1.16.30\" />\n     <PackageReference Update=\"Microsoft.Win32.Registry\" Version=\"4.3.0\" />\n     <PackageReference Update=\"NuGet.Build.Tasks\" Version=\"$(NuGetBuildTasksVersion)\" />\n     <PackageReference Update=\"NuGet.Frameworks\" Version=\"$(NuGetBuildTasksVersion)\" />\n-    <PackageReference Update=\"PdbGit\" Version=\"3.0.41\" />\n-    <PackageReference Update=\"Shouldly\" Version=\"3.0.0\" />\n-    <PackageReference Update=\"SourceLink.Create.CommandLine\" Version=\"2.1.2\" />\n-    <PackageReference Update=\"StyleCop.Analyzers\" Version=\"1.2.0-beta.164\" PrivateAssets=\"all\" />\n     <PackageReference Update=\"System.CodeDom\" Version=\"4.4.0\" />\n     <PackageReference Update=\"System.Collections.Immutable\" Version=\"5.0.0\" />\n     <PackageReference Update=\"System.Configuration.ConfigurationManager\" Version=\"4.7.0\" />\n     <PackageReference Update=\"System.Net.Http\" Version=\"4.3.4\" />\n     <PackageReference Update=\"System.Memory\" Version=\"4.5.4\" />\n     <PackageReference Update=\"System.Reflection.Metadata\" Version=\"1.6.0\" />\n     <PackageReference Update=\"System.Resources.Extensions\" Version=\"$(SystemResourcesExtensionsPackageVersion)\" />\n-    <PackageReference Update=\"System.Runtime.CompilerServices.Unsafe\" Version=\"5.0.0\"/>",
              "author": {
                "login": "Forgind"
              }
            }
          ]
        }
      },
      {
        "comments": {
          "nodes": [
            {
              "body": "Thanks \ud83d\ude42",
              "createdAt": "2021-11-18T20:18:30Z",
              "path": ".github/dependabot.yml",
              "diffHunk": "@@ -0,0 +1,7 @@\n+version: 2\n+updates:\n+  - package-ecosystem: \"nuget\"\n+    directory: \"/eng/dependabot\"\n+    open-pull-requests-limit: 3",
              "author": {
                "login": "Forgind"
              }
            }
          ]
        }
      }
    ]
  }
}